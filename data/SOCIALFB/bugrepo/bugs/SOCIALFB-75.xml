<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 05:37:28 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SOCIALFB-75/SOCIALFB-75.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SOCIALFB-75] FqlResult.getList(String fieldName, FqlResultMapper&lt;T&gt; mapper) throws null pointer when field value is null</title>
                <link>https://jira.spring.io/browse/SOCIALFB-75</link>
                <project id="10607" key="SOCIALFB">Spring Social Facebook</project>
                    <description>&lt;p&gt;Using FQL to access the stream table, many of the json elements return are null at times.&lt;br/&gt;
if you call FqlResult.getList(String fieldName, FqlResultMapper&amp;lt;T&amp;gt; mapper) with a field that exists, but is null, a null pointer exception will be thrown:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
    at org.springframework.social.facebook.api.FqlResult.getList(FqlResult.java:163)&lt;br/&gt;
    at com.inqmobile.inqcloud.domain.facebook.FbStreamItemMapper.mapObject(FbStreamItemMapper.java:58)&lt;br/&gt;
    at com.inqmobile.inqcloud.domain.facebook.FbStreamItemMapper.mapObject(FbStreamItemMapper.java:1)&lt;br/&gt;
    at org.springframework.social.facebook.api.impl.FqlTemplate.query(FqlTemplate.java:48)&lt;/p&gt;

&lt;p&gt;which corresponds to&lt;br/&gt;
List&amp;lt;Map&amp;lt;String, Object&amp;gt;&amp;gt; arrayItems = (List&amp;lt;Map&amp;lt;String, Object&amp;gt;&amp;gt;) resultMap.get(fieldName);&lt;br/&gt;
for (Map&amp;lt;String, Object&amp;gt; arrayItem : arrayItems) {    ~~~~~ this line  ~~~~~&lt;br/&gt;
	response.add(mapper.mapObject(new FqlResult(arrayItem)));&lt;br/&gt;
}		&lt;/p&gt;

&lt;p&gt;Expected behavior is to return null if the json value is null.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://graph.facebook.com/fql?q=SELECT&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://graph.facebook.com/fql?q=SELECT&lt;/a&gt; post_id, message, action_links FROM stream WHERE source_id=100002487294420 LIMIT 1&lt;br/&gt;
returns&lt;br/&gt;
{  &quot;data&quot;: [&lt;/p&gt;
    {
      &quot;post_id&quot;: &quot;100002487294420_404871966208922&quot;,
      &quot;message&quot;: &quot;Robert Blair http://sphotos.xx.fbcdn.net/hphotos-ash4/s320x320/375127_183841518401962_100003283444808_309767_1436664147_n.jpg wat is dat! &quot;,
      &quot;action_links&quot;: null
    }
&lt;p&gt;  ]&lt;br/&gt;
}&lt;br/&gt;
&amp;#8212;&lt;br/&gt;
note that other getXYZ calls throw null pointer or number format exceptions if the value is null, as opposed to not present.&lt;br/&gt;
Facebook fql will sometimes return null for values documented as type &apos;int&apos; &lt;br/&gt;
I would like the ability to call getLong without first checking if the original result is null.&lt;br/&gt;
Might also want to expose resultMap.containsKey() on the FqlResult class too.&lt;/p&gt;
</description>
                <environment>using spring social FB library 1.1.0-release, snapshot from April 2, 2012</environment>
        <key id="42814">SOCIALFB-75</key>
            <summary>FqlResult.getList(String fieldName, FqlResultMapper&lt;T&gt; mapper) throws null pointer when field value is null</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="habuma">Craig Walls</assignee>
                                    <reporter username="robblair">Robert Blair</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Apr 2012 12:29:27 +0000</created>
                <updated>Thu, 24 Apr 2014 12:03:39 +0000</updated>
                            <resolved>Mon, 16 Apr 2012 13:19:48 +0000</resolved>
                                    <version>1.1.0.RELEASE</version>
                                    <fixVersion>1.1.0.M1</fixVersion>
                    <fixVersion>1.1.0.RELEASE</fixVersion>
                                    <component>API Binding</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="77686" author="habuma" created="Mon, 16 Apr 2012 13:19:48 +0000"  >&lt;p&gt;Added hasValue() and hasField() methods to FqlResult and also check for non-null values in all getter methods before evaluating to a specific type.&lt;/p&gt;</comment>
                            <comment id="77697" author="robblair" created="Mon, 16 Apr 2012 15:55:40 +0000"  >&lt;p&gt;Thanks. I&apos;ll let you know if I find problems with it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Apr 2012 13:19:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>30236</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05hlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32056</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10120" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Reference URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[http://forum.springsource.org/showthread.php?124906-FQL-and-SpringSocialFacebook]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>