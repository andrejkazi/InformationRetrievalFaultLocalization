<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun Nov 20 17:12:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/IO-299/IO-299.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[IO-299] getPrefixLength returns null if filename has leading slashes</title>
                <link>https://issues.apache.org/jira/browse/IO-299</link>
                <project id="12310477" key="IO">Commons IO</project>
                    <description>&lt;p&gt;Situation:&lt;br/&gt;
FilenameUtils.getPrefixLength is used in FilenameUtils.doNormalize.&lt;br/&gt;
FilenameUtils.normalize(&quot;////I don&apos;t want to become null!&quot;) returns null.&lt;/p&gt;

&lt;p&gt;Problem:&lt;br/&gt;
Expected was: &quot;I don&apos;t want to become null!&quot;&lt;br/&gt;
The method FilenameUtils.getPrefixLength returns -1 for the mentioned string.&lt;br/&gt;
The root problem is found in following lines of code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;&quot;&gt;&lt;b&gt;FilenameUtils.getPrefixLength&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; posUnix = filename.indexOf(UNIX_SEPARATOR, 2);
                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; posWin = filename.indexOf(WINDOWS_SEPARATOR, 2);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((posUnix == -1 &amp;amp;&amp;amp; posWin == -1) || posUnix == 2 || posWin == 2) {
                    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; -1;
                }
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Solution:&lt;br/&gt;
All leading slashes should be ignored at all, but considering the rest of the string.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12538613">IO-299</key>
            <summary>getPrefixLength returns null if filename has leading slashes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="latrine">Rick Latrine</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jan 2012 09:57:57 +0000</created>
                <updated>Tue, 8 Nov 2016 17:59:15 +0000</updated>
                            <resolved>Mon, 22 Apr 2013 17:52:42 +0000</resolved>
                                    <version>2.0.1</version>
                    <version>2.1</version>
                                    <fixVersion>2.5</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="13206439" author="thdamp" created="Sun, 12 Feb 2012 16:06:10 +0000"  >&lt;p&gt;In this case for your input &quot;////I don&apos;t want to become null!&quot;, I think the expected output should be&lt;br/&gt;
In Unix: &lt;br/&gt;
&quot;//I don&apos;t want to become null!&quot;&lt;/p&gt;

&lt;p&gt;In Windows: &lt;br/&gt;
Same with the other slash&lt;/p&gt;

&lt;p&gt;Any ideas on this?&lt;/p&gt;</comment>
                            <comment id="13206766" author="joehni" created="Mon, 13 Feb 2012 09:10:39 +0000"  >&lt;p&gt;Slashes in Unix are merged, so &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ls ////////tmp&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; is actually &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;ls /tmp&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13206805" author="sebb@apache.org" created="Mon, 13 Feb 2012 11:05:00 +0000"  >&lt;p&gt;The Javadoc says clearly that Unix and Windows are treated the same, also that invalid names return null.&lt;/p&gt;

&lt;p&gt;Although double-slashes are collapsed to a single slash, this does not apply at the start of a path, because there they are used for UNC names in Windows.&lt;/p&gt;

&lt;p&gt;As far as I can tell, the current behaviour is correct, because UNC paths must have a valid server name.&lt;/p&gt;

&lt;p&gt;The Javadoc should probably be updated to clarify this; it would help to add some examples (and test cases if necessary).&lt;/p&gt;</comment>
                            <comment id="13638221" author="sebb@apache.org" created="Mon, 22 Apr 2013 17:52:42 +0000"  >&lt;p&gt;Updated Javadoc and test cases; current behaviour is correct.&lt;/p&gt;

&lt;p&gt;URL: &lt;a href=&quot;http://svn.apache.org/r1470636&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/r1470636&lt;/a&gt;&lt;br/&gt;
Log:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/IO-299&quot; title=&quot;getPrefixLength returns null if filename has leading slashes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-299&quot;&gt;&lt;del&gt;IO-299&lt;/del&gt;&lt;/a&gt;  getPrefixLength returns null if filename has leading slashes&lt;br/&gt;
        Javadoc: add examples to show correct behaviour; add unit tests&lt;/p&gt;

&lt;p&gt;Modified:&lt;br/&gt;
    commons/proper/io/trunk/src/changes/changes.xml&lt;br/&gt;
    commons/proper/io/trunk/src/main/java/org/apache/commons/io/FilenameUtils.java&lt;br/&gt;
    commons/proper/io/trunk/src/test/java/org/apache/commons/io/FilenameUtilsTestCase.java&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 12 Feb 2012 16:06:10 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>224117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0slpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164994</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>