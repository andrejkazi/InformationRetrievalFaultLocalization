<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:02:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/IO-147/IO-147.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[IO-147] Deletion of orphaned Softlinks does not work</title>
                <link>https://issues.apache.org/jira/browse/IO-147</link>
                <project id="12310477" key="IO">Commons IO</project>
                    <description>&lt;p&gt;If there is an orphaned softlink a -&amp;gt; b, but b does not exists anymore than the softlink will not be removed. This happens when you call FileUtils.deleteDirectory() and when the linked target b is deleted earlier than the link.&lt;/p&gt;

&lt;p&gt;This is caused by the &quot;ugly&quot; file.exists() call in forceDelete()&lt;/p&gt;

&lt;p&gt;if (!file.exists()) {&lt;br/&gt;
         throw new FileNotFoundException(&quot;File does not exist: &quot; + file);&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;if this check is not done, everything works as expected. I think this test is not neccessery, cause file.delete will test this better.&lt;/p&gt;

&lt;p&gt;Please discuss and change this.&lt;/p&gt;

&lt;p&gt;thanx&lt;/p&gt;

&lt;p&gt;Stefan &lt;/p&gt;</description>
                <environment>&lt;p&gt;Debian Linux JDK 1.5&lt;/p&gt;</environment>
        <key id="12384865">IO-147</key>
            <summary>Deletion of orphaned Softlinks does not work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="niallp">Niall Pemberton</assignee>
                                    <reporter username="lischke">Stefan Lischke</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Dec 2007 13:04:55 +0000</created>
                <updated>Fri, 22 Aug 2008 07:36:50 +0000</updated>
                            <resolved>Fri, 4 Jan 2008 12:32:51 +0000</resolved>
                                    <version>1.3.2</version>
                                    <fixVersion>1.4</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="12552844" author="niallp" created="Tue, 18 Dec 2007 18:19:12 +0000"  >&lt;p&gt;Looking back thru the svn history this is the way it originally worked and the file.exists() check was added in r140382 &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; back in August 2003 (before IO 1.0 was released) - looking at the Bugzilla tickets 22075 (&lt;a href=&quot;https://issues.apache.org/jira/browse/IO-62&quot; title=&quot;[io] moved copy methods from IOUtils to CopyUtils&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-62&quot;&gt;&lt;del&gt;IO-62&lt;/del&gt;&lt;/a&gt;) and 22332 (&lt;a href=&quot;https://issues.apache.org/jira/browse/IO-55&quot; title=&quot;[io] Deprecated FileUtils string methods&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IO-55&quot;&gt;&lt;del&gt;IO-55&lt;/del&gt;&lt;/a&gt;) referenced in the log message there is no mention of this change - so it looks like it slipped in without explanation.&lt;/p&gt;

&lt;p&gt;I guess the main reasoning is that it allows people using that method to distinguish between files which don&apos;t exist(FileNotFoundException) and other problems(IOException) when trying to delete. If we remove that check as you suggest then any application relying on a FileNotFoundException being thrown for non-existant files will break.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=140382&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=140382&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12553198" author="sebb@apache.org" created="Wed, 19 Dec 2007 01:55:14 +0000"  >&lt;p&gt;The Javadoc for forceDelete() fails to mention that it can throw  FileNotFoundException.&lt;br/&gt;
AFAICS there is no test for deleting a non-existent file.&lt;/p&gt;

&lt;p&gt;A compromise solution would be to check if the file exists, and then try and delete it.&lt;br/&gt;
If the deletion fails, then either throw FileNotFoundException or IOException as appropriate.&lt;/p&gt;

&lt;p&gt;Patch to follow.&lt;/p&gt;</comment>
                            <comment id="12555475" author="wanderingwalrus" created="Thu, 3 Jan 2008 03:14:04 +0000"  >&lt;p&gt;Niall,&lt;/p&gt;

&lt;p&gt;Any thoughts on this patch? Do you think it&apos;s something that would trigger off a quick 1.3.3 release? It&apos;s something that we&apos;re pretty keen on as well.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;Mark C&lt;/p&gt;</comment>
                            <comment id="12555482" author="niallp" created="Thu, 3 Jan 2008 04:51:48 +0000"  >&lt;p&gt;Patch looks good to me - so I applied it - thanks Sebb:&lt;br/&gt;
    &lt;a href=&quot;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=608338&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://svn.apache.org/viewvc?view=rev&amp;amp;revision=608338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Regarding a release, we have enough changes already for a 1.4 release IMO. Don&apos;t know how quick that will be though.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12371913" name="FileUtils.patch" size="2351" author="sebb@apache.org" created="Wed, 19 Dec 2007 02:16:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 18 Dec 2007 18:19:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>139589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sm7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>165076</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>