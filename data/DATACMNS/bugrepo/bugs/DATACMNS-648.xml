<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 13:19:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATACMNS-648/DATACMNS-648.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATACMNS-648] o.s.d.r.q.Parameters prevents custom classloader from being garbage collected</title>
                <link>https://jira.spring.io/browse/DATACMNS-648</link>
                <project id="10510" key="DATACMNS">Spring Data Commons</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://github.com/spring-projects/spring-data-commons/blob/1.9.2.RELEASE/src/main/java/org/springframework/data/repository/query/Parameters.java#L47&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Parameters&lt;/a&gt; creates a &lt;b&gt;static&lt;/b&gt; &lt;a href=&quot;https://github.com/spring-projects/spring-framework/blob/v4.1.4.RELEASE/spring-core/src/main/java/org/springframework/core/DefaultParameterNameDiscoverer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;DefaultParameterNameDiscoverer&lt;/a&gt;, wich adds a &lt;a href=&quot;https://github.com/spring-projects/spring-framework/blob/v4.1.4.RELEASE/spring-core/src/main/java/org/springframework/core/LocalVariableTableParameterNameDiscoverer.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;LocalVariableTableParameterNameDiscoverer&lt;/a&gt; to its list of &lt;a href=&quot;https://github.com/spring-projects/spring-framework/blob/v4.1.4.RELEASE/spring-core/src/main/java/org/springframework/core/PrioritizedParameterNameDiscoverer.java#L38&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;ParameterNameDiscoverer&lt;/a&gt;s.&lt;br/&gt;
This LVTPND holds a &lt;a href=&quot;https://github.com/spring-projects/spring-framework/blob/v4.1.4.RELEASE/spring-core/src/main/java/org/springframework/core/LocalVariableTableParameterNameDiscoverer.java#L63&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Map&lt;/a&gt; with a class as a key.&lt;/p&gt;

&lt;p&gt;As I said, I&apos;m using a custom classloaders for a kind of plugin-based application.&lt;br/&gt;
The problem is, since &lt;a href=&quot;https://github.com/spring-projects/spring-data-commons/blob/1.9.2.RELEASE/src/main/java/org/springframework/data/repository/Repository.java&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Repository&lt;/a&gt;-subclasses stay in the LVTPND&apos;s &lt;a href=&quot;https://github.com/spring-projects/spring-framework/blob/v4.1.4.RELEASE/spring-core/src/main/java/org/springframework/core/LocalVariableTableParameterNameDiscoverer.java#L63&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;parameterNamesCache&lt;/a&gt;, the custom classloader who loaded the Repository can never be GC&apos;ed.&lt;/p&gt;

&lt;p&gt;Im not sure about if this issue should be fixed in Spring Data Commons or in LocalVariableTableParameterNameDiscoverer by using a WeakHashMap for parameterNamesCache.&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Matthias&lt;/p&gt;</description>
                <environment></environment>
        <key id="62261">DATACMNS-648</key>
            <summary>o.s.d.r.q.Parameters prevents custom classloader from being garbage collected</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olivergierke">Oliver Gierke</assignee>
                                    <reporter username="matthias.mueller">Matthias M&#252;ller</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Feb 2015 05:26:35 +0000</created>
                <updated>Wed, 1 Jul 2015 01:07:25 +0000</updated>
                            <resolved>Mon, 15 Jun 2015 09:12:15 +0000</resolved>
                                    <version>1.9.2 (Evans SR2)</version>
                                    <fixVersion>1.9.3 (Evans SR3)</fixVersion>
                    <fixVersion>1.10.1 (Fowler SR1)</fixVersion>
                    <fixVersion>1.8.6 (Dijkstra SR6)</fixVersion>
                    <fixVersion>1.11 RC1 (Gosling)</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="112557" author="olivergierke" created="Tue, 17 Feb 2015 06:54:18 +0000"  >&lt;p&gt;We can certainly make the discoverer non static. &lt;a href=&quot;https://jira.spring.io/secure/ViewProfile.jspa?name=juergen.hoeller&quot; class=&quot;user-hover&quot; rel=&quot;juergen.hoeller&quot;&gt;Juergen Hoeller&lt;/a&gt; - what do you think about the proposed changes for the parameter names cache?&lt;/p&gt;</comment>
                            <comment id="116702" author="matthias.mueller" created="Tue, 16 Jun 2015 01:36:25 +0000"  >&lt;p&gt;Hi Oliver,&lt;/p&gt;

&lt;p&gt;I&apos;m happy to see this issue made it into the next releases, thank you very much!&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Matthias&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 17 Feb 2015 06:54:18 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>olivergierke</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i087fj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10480" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="91">59 - Evans / Fowler SR</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>