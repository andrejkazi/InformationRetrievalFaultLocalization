<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 13:01:15 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATACMNS-353/DATACMNS-353.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATACMNS-353] Mandatory transitive dependency to Spring HATEOS errantly added in 1.6</title>
                <link>https://jira.spring.io/browse/DATACMNS-353</link>
                <project id="10510" key="DATACMNS">Spring Data Commons</project>
                    <description>&lt;p&gt;The documentation for &lt;tt&gt;@EnableSpringDataWebSupport&lt;/tt&gt; says this:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Annotation to automatically register the following beans for usage with Spring MVC.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;tt&gt;DomainClassConverter&lt;/tt&gt; - to allow usage of domain types managed by Spring Data repositories as controller method arguments bound with &lt;tt&gt;PathVariable&lt;/tt&gt; or &lt;tt&gt;RequestParam&lt;/tt&gt;.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;PageableHandlerMethodArgumentResolver&lt;/tt&gt; - to allow injection of &lt;tt&gt;Pageable&lt;/tt&gt; instances into controller methods automatically created from request parameters.&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;SortHandlerMethodArgumentResolver&lt;/tt&gt; - to allow injection of &lt;tt&gt;Sort&lt;/tt&gt; instances into controller methods automatically created from request parameters.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If Spring HATEOAS is present on the classpath we will additionally register the following beans:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;tt&gt;PagedResourcesAssembler&lt;/tt&gt; - for injection into web components&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;PagedResourcesAssemblerArgumentResolver&lt;/tt&gt; - for injection of&lt;br/&gt;
&lt;tt&gt;PagedResourcesAssembler&lt;/tt&gt; into controller methods&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;However, this is not correct, and a mandatory transient dependency on Spring HATEOAS has now been added in Spring Data 1.6. Neither &lt;tt&gt;@EnableSpringDataWebSupport&lt;/tt&gt;, &lt;tt&gt;PageableHandlerMethodArgumentResolver&lt;/tt&gt;, nor &lt;tt&gt;SortHandlerMethodArgumentResolver&lt;/tt&gt; may be used if you don&apos;t have Spring HATEOAS on the classpath.&lt;/p&gt;

&lt;p&gt;If you use &lt;tt&gt;@EnableSpringDataWebSupport&lt;/tt&gt; you get a &lt;tt&gt;NoClassDefFoundError&lt;/tt&gt; on application startup for &lt;tt&gt;org/springframework/hateoas/mvc/UriComponentsContributor&lt;/tt&gt;. If you use the &lt;tt&gt;PageableHandlerMethodArgumentResolver&lt;/tt&gt; or &lt;tt&gt;SortHandlerMethodArgumentResolver&lt;/tt&gt; directly you get a compilation error for missing class &lt;tt&gt;org.springframework.hateoas.mvc.UriComponentsContributor&lt;/tt&gt;. This is because &lt;tt&gt;PageableHandlerMethodArgumentResolver&lt;/tt&gt; and &lt;tt&gt;SortHandlerMethodArgumentResolver&lt;/tt&gt; both extend &lt;tt&gt;UriComponentsContributor&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This is a MAJOR problem. Spring Data users must now include Spring HATEOAS in their application even if they aren&apos;t using it, and HATEOAS comes with its own significant set of transient dependencies. The HATEOAS components should be separated from &lt;tt&gt;PageableHandlerMethodArgumentResolver&lt;/tt&gt; and &lt;tt&gt;SortHandlerMethodArgumentResolver&lt;/tt&gt; so that they can be used without HATEOAS on the classpath.&lt;/p&gt;</description>
                <environment></environment>
        <key id="50148">DATACMNS-353</key>
            <summary>Mandatory transitive dependency to Spring HATEOS errantly added in 1.6</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olivergierke">Oliver Gierke</assignee>
                                    <reporter username="guitarking117">Nick Williams</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Aug 2013 20:38:37 +0000</created>
                <updated>Mon, 9 Sep 2013 20:58:50 +0000</updated>
                            <resolved>Wed, 21 Aug 2013 23:35:44 +0000</resolved>
                                    <version>1.6 M1</version>
                    <version>1.6 RC1</version>
                                    <fixVersion>1.6 Final</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="92449" author="guitarking117" created="Mon, 5 Aug 2013 20:43:04 +0000"  >&lt;p&gt;Also: &lt;em&gt;If&lt;/em&gt; by some chance it &lt;em&gt;was&lt;/em&gt; intended to make HATEOAS a mandatory dependency to use Web support (a decision I would &lt;em&gt;strongly&lt;/em&gt; disagree with), then the dependency is erroneously marked &lt;tt&gt;&amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Question&lt;/b&gt; Why can&apos;t I edit the title and description?? I can on all other Spring JIRA projects. I have spelling errors I need to fix...&lt;/p&gt;</comment>
                            <comment id="92467" author="olivergierke" created="Tue, 6 Aug 2013 06:04:07 +0000"  >&lt;p&gt;I think the way forward will be to alter the documentation (i.e. correct the documentation in &lt;tt&gt;@EnableSpringDataWebSupport&lt;/tt&gt;) &lt;b&gt;and&lt;/b&gt; leave Spring HATEOAS as an optional the dependency. Here&apos;s the rationale:&lt;/p&gt;

&lt;p&gt;The entire web integration support of Spring Data Commons already &lt;b&gt;is&lt;/b&gt; optional. So if you&apos;re using &lt;tt&gt;@EnableSpringDataWebSupport&lt;/tt&gt; you&apos;ve already taken a step into the web direction. Requiring to also add Spring HATEOAS does not pull in any additional transitive dependencies as the only non-optional dependency of it is &lt;tt&gt;spring-webmvc&lt;/tt&gt; which you&apos;d have to include anyway as &lt;tt&gt;@EnableSpringDataWebSupport&lt;/tt&gt; technically only needs &lt;tt&gt;spring-web&lt;/tt&gt; but hardly makes any sense except being used in a Spring MVC controller. All other dependencies are either shared between Spring HATEOAS and Spring Data Commons or optional, so that they don&apos;t get pulled in unless needed.&lt;/p&gt;

&lt;p&gt;So the bottom line will be: if you&apos;re not interested in the web stuff, you simply don&apos;t get it (default). If you are - include both &lt;tt&gt;spring-web&lt;/tt&gt; and &lt;tt&gt;spring-hateoas&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="92497" author="guitarking117" created="Tue, 6 Aug 2013 08:16:30 +0000"  >&lt;p&gt;I&apos;m going to strongly disagree. Spring HATEAOS and Spring Data&apos;s &lt;tt&gt;@EnableSpringDataWebSupport&lt;/tt&gt; might both depend on Spring Web MVC, but that doesn&apos;t mean it&apos;s reasonable for them to &lt;em&gt;have&lt;/em&gt; to go together. Fewer dependencies is &lt;em&gt;always&lt;/em&gt; better in my book unless it simply results in more code. Every JAR I add to my application makes it bigger, makes loading classes slower, and makes starting the application take longer. I try to keep the number of JARs to a minimum.&lt;/p&gt;

&lt;p&gt;Adding a requirement on HATEAOS when I have no intention of using it is just another useless JAR slowing my application down. Furthermore, adding HATEAOS features to a &lt;tt&gt;HandlerMethodArgumentResolver&lt;/tt&gt; that handles page or sorting behavior is using the class for more than one purpose, which defies good design principles. I&apos;d probably just create my own &lt;tt&gt;HandlerMethodArgumentResolver&lt;/tt&gt; instead of use the ones built in that have a useless dependency.&lt;/p&gt;

&lt;p&gt;It would seem to me that you could create &lt;tt&gt;ContributorPageableHandlerMethodArgumentResolver&lt;/tt&gt; and &lt;tt&gt;ContributorSortHandlerMethodArgumentResolver&lt;/tt&gt; classes that extend &lt;tt&gt;PageableHandlerMethodArgumentResolver&lt;/tt&gt; and &lt;tt&gt;SortHandlerMethodArgumentResolver&lt;/tt&gt;, respectively. These two new classes could method implementations for the &lt;tt&gt;UriComponentsContributor&lt;/tt&gt; methods. Then, &lt;tt&gt;@EnableSpringDataWebSupport&lt;/tt&gt; could instantiate the base classes if HATEAOS isn&apos;t on the classpath and the extended classes if HATEAOS is on the classpath. This would be much cleaner, IMO.&lt;/p&gt;</comment>
                            <comment id="92498" author="guitarking117" created="Tue, 6 Aug 2013 08:18:19 +0000"  >&lt;p&gt;(And again I ask, why can&apos;t I edit anything? I can in all other Spring JIRA projects. I have typos that I need to correct. &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;</comment>
                            <comment id="92630" author="guitarking117" created="Fri, 9 Aug 2013 06:31:12 +0000"  >&lt;p&gt;Any further thoughts on this?&lt;/p&gt;</comment>
                            <comment id="92875" author="guitarking117" created="Sun, 18 Aug 2013 18:18:40 +0000"  >&lt;p&gt;It was really a simple fix. Only took me an hour.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/SpringSource/spring-data-commons/pull/39&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;Pull request #39&lt;/a&gt; submitted.&lt;/p&gt;</comment>
                            <comment id="92927" author="mmrath" created="Tue, 20 Aug 2013 11:53:31 +0000"  >&lt;p&gt;Agree completely with Nick here! @Nick I have added a comment to your pull request, could you check if that make sense. &lt;/p&gt;

&lt;p&gt;I was try to move from PageableArgumentResolver to PageableHandlerMethodArgumentResolver however because of the new dependency I was reluctant.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 6 Aug 2013 06:04:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36645</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i008tb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36347</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10480" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="17">The Road To SpringOne</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>