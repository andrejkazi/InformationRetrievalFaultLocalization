<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 12:59:56 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATACMNS-590/DATACMNS-590.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATACMNS-590] Bug in generics detection for multiply nested generic types</title>
                <link>https://jira.spring.io/browse/DATACMNS-590</link>
                <project id="10510" key="DATACMNS">Spring Data Commons</project>
                    <description>&lt;p&gt;It fails guess the concrete class of a two level embedded document in a concrete scenario using abstract class with generics.&lt;/p&gt;

&lt;p&gt;The reference git repository, reproduces this error running unit tests. It also downloads and runs a local MongoDB server using &lt;a href=&quot;https://github.com/jirutka/embedmongo-Spring&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/jirutka/embedmongo-Spring&lt;/a&gt; plugin.&lt;/p&gt;


</description>
                <environment>Windows 7, Java 8u25 32 bits</environment>
        <key id="60504">DATACMNS-590</key>
            <summary>Bug in generics detection for multiply nested generic types</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olivergierke">Oliver Gierke</assignee>
                                    <reporter username="padilo">Pablo D&#237;az-L&#243;pez</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Nov 2014 10:29:49 +0000</created>
                <updated>Tue, 27 Jan 2015 10:29:36 +0000</updated>
                            <resolved>Fri, 14 Nov 2014 00:51:49 +0000</resolved>
                                    <version>1.9.1 (Evans SR1)</version>
                                    <fixVersion>1.10 M1 (Fowler)</fixVersion>
                    <fixVersion>1.8.5 (Dijkstra SR5)</fixVersion>
                    <fixVersion>1.9.2 (Evans SR2)</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="109402" author="padilo" created="Fri, 7 Nov 2014 03:26:34 +0000"  >&lt;p&gt;Tested with Spring boot 1.2.0.BUILD-SNAPSHOT and fails the unit test too. &lt;/p&gt;

&lt;p&gt;You can check this at the branch: test-with-springboot-1.2.0.BUILD-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="109600" author="olivergierke" created="Wed, 12 Nov 2014 05:33:16 +0000"  >&lt;p&gt;This was indeed a bug in our generics resolution in Spring Data Commons (that&apos;s why I moved the bug into that project). A fix is available in master and the bugfix branches for Dijkstra and Evans. I could verify your project working with the latest snapshot. Feel free to give them a spin, too.&lt;/p&gt;</comment>
                            <comment id="109667" author="padilo" created="Fri, 14 Nov 2014 00:08:08 +0000"  >&lt;p&gt;Still having some issues in another case, but only in the case we use a typeMapper with a null key (to disable the _class attribute)&lt;/p&gt;

&lt;p&gt;You can check this here: &lt;a href=&quot;https://github.com/padilo/spring-data-mongodb-mapping-test/tree/bug2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/padilo/spring-data-mongodb-mapping-test/tree/bug2&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;There are two test, that are doing the same:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;CustomerTypedRepositoryTest&lt;/tt&gt;: Uses the default type mapper. (Works ok)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;CustomerNonTypedRepositoryTest&lt;/tt&gt;: Uses a custom type mapper to disable the _class (Fails)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;We can&apos;t use Spring Data to populate the database, that&apos;s why we are testing it without the type mapper attribute.&lt;/p&gt;</comment>
                            <comment id="109668" author="olivergierke" created="Fri, 14 Nov 2014 00:51:49 +0000"  >&lt;p&gt;First of all, please let&apos;s not side track this by making up more requirements with every new step. Feel free to open a new ticket with a more reduced test case as - I have to be honest - I am starting to get lost in all your generic abstractions in your domain model. Coming up with such, turning of persisting types and then expecting everything to work as before is optimistic to phrase it politely.&lt;/p&gt;

&lt;p&gt;Your &lt;tt&gt;Item&lt;/tt&gt; class has a &lt;tt&gt;List&amp;lt;AttributeRelation&amp;lt;T&amp;gt;&amp;gt;&lt;/tt&gt; in which &lt;tt&gt;AttributeRelation&lt;/tt&gt; is an abstract type which means without type information present in the document we can&apos;t determine the type to be instantiated for an element of that list. So you basically have to options:&lt;/p&gt;

&lt;p&gt;1. Simplify your domain model.&lt;br/&gt;
2. Don&apos;t disable the persistence of type information.&lt;/p&gt;

&lt;p&gt;As I said, this discussion actually belongs into a separate ticket in the MongoDB project, which I&apos;d resolve as &quot;works-as-designed&quot; now. Resolving this one as fixed as the original issue is fixed as indicated above.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 12 Nov 2014 05:33:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46578</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>olivergierke</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10684" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Pull Request URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/spring-projects/spring-data-mongodb/pull/242]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07y4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46401</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46280</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10120" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Reference URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/padilo/spring-data-mongodb-mapping-test]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10480" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="69">54 - Fowler M1</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>