<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 18:57:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2391/SPR-2391.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2391] form:option value=&quot;&quot; for Integer property causes bind error</title>
                <link>https://jira.spring.io/browse/SPR-2391</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I am using a form:select tag to select an Integer value. One of the possible options is label=&quot;--&quot; value=&quot;&quot;. This means none selected. In the domain model and the database this is represented as a null value. The ServletRequestDataBinder.bind is barfing resulting in a validation error. It is failing when the CustomNumberEditor tries to convert the empty string to an Integer, throwing NumberFormatException. CustomNumberEditor is able to convert &quot;&quot; to null, but it seems the one registered as the default is configured not to.&lt;/p&gt;

&lt;p&gt;I can solve this by adding a CustomNumberEditor configured to support empty strings, but I&apos;ll have to register it for all the integer properties that I use. It seems like a bad thing to have to register a custom editor for the common case of coverting &quot;&quot; to (Integer) null in an options list.&lt;/p&gt;

&lt;p&gt;I&apos;m not sure what the correct fix would be. Having the default CustomNumberEditor handle empty strings. Having form:select register a CustomNumberEditor that handles empty strings for Integer properties (if it knows enough to do so), or something else. This is going to be a common case and having to register a property editor to make it work is a pain.&lt;/p&gt;

&lt;p&gt;A little more detail to help you track down what is happening. PropertyTypeConverter.convertIfNecessary(String,Object, ...) is calling this.propertyEditor.Registry.getDefaultEditor which is returning a CustomNumberEditor. The CustomNumberEditor has been configured with empty = false. When it is asked to convert &quot;&quot; it calls Integer.decode which throws NumberFormatException. If the default CustomNumberEditor had been configured with empty = true, no problem. I have no idea whether that simple change would be a valid fix. It could cause other problems.&lt;/p&gt;
</description>
            <key id="14703">SPR-2391</key>
            <summary>form:option value=&quot;&quot; for Integer property causes bind error</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="dsurber">Douglas Surber</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Aug 2006 12:59:46 +0000</created>
                <updated>Tue, 19 Jun 2012 03:50:38 +0000</updated>
                            <resolved>Fri, 29 Sep 2006 03:10:03 +0000</resolved>
                                    <version>2.0 RC3</version>
                                    <fixVersion>2.0 final</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="19242" author="goonie" created="Tue, 29 Aug 2006 02:26:19 +0000"  >&lt;p&gt;However this issue is resolved, it should be handled uniformly for all pre-registered PropertyEditors. Is there currently any pre-registered editor that allows null / empty text?&lt;/p&gt;</comment>
                            <comment id="19981" author="springboy" created="Thu, 28 Sep 2006 22:35:52 +0000"  >&lt;p&gt;Juergen is changing the default behaviour of the CustomNumberEditor such that the empty string is accepted (c.f. the allowEmpty ctor arg).&lt;/p&gt;</comment>
                            <comment id="19989" author="juergen.hoeller" created="Fri, 29 Sep 2006 03:10:03 +0000"  >&lt;p&gt;Spring&apos;s default property editors for primitive wrapper types (Boolean, Integer, etc) turn empty Strings into null values now. This has been a repeated requested and is a sensible default behavior.&lt;/p&gt;

&lt;p&gt;In terms of backwards compatibility, this means that empty Strings will now get turned into null values where they previously led to an exception. However, since I doubt that anyone relied on the exception thrown there before, this shouldn&apos;t matter too much. Custom property editors still override those default editors.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 13 weeks, 6 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 29 Aug 2006 02:26:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i018vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7316</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>