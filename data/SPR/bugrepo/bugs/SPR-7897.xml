<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:48:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-7897/SPR-7897.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-7897] Make HandlerInterceptor play nice with @ResponseBody</title>
                <link>https://jira.spring.io/browse/SPR-7897</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;Currently, if you try and use &lt;tt&gt;@ResponseBody&lt;/tt&gt; and &lt;tt&gt;HandlerInterceptor&lt;/tt&gt; together, you don&apos;t get the expected behaviour.&lt;/p&gt;

&lt;p&gt;Specifically, the @ResponseBody is written and committed by &lt;tt&gt;ServletHandlerMethodInvoker&lt;/tt&gt; before &lt;tt&gt;HandlerInterceptor.postHandle&lt;/tt&gt; is called. I would have expected the order to be similar to if I had omitted the &lt;tt&gt;@ResponseBody&lt;/tt&gt; and used a &lt;tt&gt;MarshallingView&lt;/tt&gt; instead, i.e.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;HandlerInterceptor.preHandle&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;(handler is invoked)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;HandlerInterceptor.postHandle&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;(response is written)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;HandlerInterceptor.afterCompletion&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With &lt;tt&gt;@ResponseBody&lt;/tt&gt;, the 3rd and 4th steps are reversed.&lt;/p&gt;

&lt;p&gt;Looking at the code, this wouldn&apos;t seem an easy refactoring to make, but could it be done?&lt;/p&gt;</description>
            <key id="35924">SPR-7897</key>
            <summary>Make HandlerInterceptor play nice with @ResponseBody</summary>
                <type id="4" iconUrl="https://jira.spring.io/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="rstoya05-aop">Rossen Stoyanchev</assignee>
                                    <reporter username="skaffman">Kenny MacLeod</reporter>
                        <labels>
                    </labels>
                <created>Wed, 19 Jan 2011 05:50:02 +0000</created>
                <updated>Mon, 19 May 2014 12:53:31 +0000</updated>
                            <resolved>Mon, 19 May 2014 12:53:31 +0000</resolved>
                                    <version>3.0.5</version>
                                                        <due></due>
                            <votes>2</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="103605" author="rstoya05-aop" created="Mon, 19 May 2014 12:53:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://jira.spring.io/browse/SPR-10859&quot; title=&quot;Provide better intercepting model for controllers returning @ResponseBody&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-10859&quot;&gt;&lt;del&gt;SPR-10859&lt;/del&gt;&lt;/a&gt; scheduled for 4.1 RC1 should address this concern by providing an additional interception point.&lt;/p&gt;

&lt;p&gt;Since @ResponseBody relies on use of HttpMessageConverter&apos;s that write to the response immediately after the controller method is invoked. As a consequence it is too late for HandlerInterceptor&apos;s postHandle to get involved.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10130">
                    <name>Supersede</name>
                                                                <inwardlinks description="is superseded by">
                                        <issuelink>
            <issuekey id="50522">SPR-10859</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        2 years, 31 weeks, 3 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 19 May 2014 12:53:02 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>rstoya05-aop</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02cgn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>13728</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>