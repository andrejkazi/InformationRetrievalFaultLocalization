<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:57:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-487/SPR-487.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-487] Spring overwrites localizationContext Context Param in Webapps</title>
                <link>https://jira.spring.io/browse/SPR-487</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I have a webapp that uses JSTL and the &amp;lt;fmt:message&amp;gt; tag a lot.  I have setup default resource bundles using the context-param javax.servlet.jsp.jstl.fmt.localizationContext inside the web.xml.&lt;/p&gt;

&lt;p&gt;Spring is setting that parameter to an instance of  org.springframework.context.support.MessageSourceResourceBundle.  Which might be OK if I specified one in my application context, but I didn&apos;t. &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m sure I never set it, because I see this message in the log:&lt;br/&gt;
INFO: Unable to locate MessageSource with name &apos;messageSource&apos;: using default &lt;span class=&quot;error&quot;&gt;&amp;#91;org.springframework.context.support.StaticMessageSource: {}&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Maybe if I set it in my appContext, it would override what I specify in my web.xml.  But if I never set it up, what I specify in web.xml should be the default.&lt;/p&gt;

&lt;p&gt;As a workaround, I&apos;ll go ahead and set up a Message Source in Spring&apos;s App Context.  In the future, if one is not specified, it shouldn&apos;t attempt to set any context parameters.  Or, if so, be more explicit about it.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;br/&gt;
Seth&lt;/p&gt;</description>
            <key id="10773">SPR-487</key>
            <summary>Spring overwrites localizationContext Context Param in Webapps</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="sethladd">Seth Ladd</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Nov 2004 06:11:07 +0000</created>
                <updated>Thu, 14 Feb 2008 23:38:37 +0000</updated>
                            <resolved>Tue, 30 Nov 2004 02:41:44 +0000</resolved>
                                    <version>1.1.2</version>
                                    <fixVersion>1.1.3</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="11618" author="juergen.hoeller" created="Tue, 30 Nov 2004 01:13:13 +0000"  >&lt;p&gt;You could simply use InternalResourceView instead of JstlView: there would be no overwriting of the JSTL LocalizationContext then. Of course, this would also not expose the LocaleResolver&apos;s Locale to the JSTL tags...&lt;/p&gt;

&lt;p&gt;Making the Spring-driven LocalizationContext dependent on the existence of a Spring-defined MessageSource is not feasible, unfortunately: There is no easy way to find out whether a MessageSource is empty.&lt;/p&gt;

&lt;p&gt;I&apos;ll have a look whether we can auto-detect an existing JSTL LocalizationContext (defined in web.xml) and adapt to it.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="11619" author="juergen.hoeller" created="Tue, 30 Nov 2004 01:33:11 +0000"  >&lt;p&gt;Do you know if the &quot;javax.servlet.jsp.jstl.fmt.localizationContext&quot; context-param in web.xml can contain more than one basename, separated by commas or spaces or whatever? According to the spec, it just seems to support a single basename...&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="11620" author="juergen.hoeller" created="Tue, 30 Nov 2004 02:41:44 +0000"  >&lt;p&gt;I&apos;ve enhanced JstlView and TilesJstlView to check for the JSTL &quot;localizationContext&quot; config in web.xml first, creating a special MessageSource that checks the JSTL-configured bundle first before asking the Spring-provided MessageSource.&lt;/p&gt;

&lt;p&gt;Works for me: The JSTL-configured messages are found both with and without a Spring-managed MessageSource, and with and without Spring&apos;s JstlView as view class (i.e. works both with a Spring-provided LocalizationContext and with plain JSTL).&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="11622" author="sethladd" created="Tue, 30 Nov 2004 04:05:16 +0000"  >&lt;p&gt;Thanks Jurgen!  That&apos;s perfect.&lt;/p&gt;

&lt;p&gt;For the record, I was only using InternalResourceView.&lt;/p&gt;

&lt;p&gt;For clarification, if I have a message bundle specified via web.xml and Spring, the Spring message bundle will take priority with the &amp;lt;fmt:message&amp;gt; tag.  Is that correct?&lt;/p&gt;

&lt;p&gt;Wonderful, thanks again!&lt;/p&gt;</comment>
                            <comment id="11623" author="sethladd" created="Tue, 30 Nov 2004 04:12:12 +0000"  >&lt;p&gt;Ack... just noticed my typo in your name.  Can&apos;t edit the post.  My apologies!&lt;/p&gt;</comment>
                            <comment id="11624" author="juergen.hoeller" created="Tue, 30 Nov 2004 04:15:22 +0000"  >&lt;p&gt;Hmm, if you only used InternalResourceView, Spring&apos;s JSTL localization context handling should not have kicked in at all. Could you double-check that? If you don&apos;t use JstlView or TilesJstlView, Spring does not mess with the JSTL localization context in the first place...&lt;/p&gt;

&lt;p&gt;Regarding precedence: Actually, it&apos;s the other way round. The JSTL-provided bundle will be checked first, then the Spring message source. Spring&apos;s message source always applies (for JSTL, plain JSP, email text, etc), so should contain all common messages. The JSTL-provided bundle on the other hand just applies to JSTL views, so is more specific.&lt;/p&gt;

&lt;p&gt;Actually, I doubt that defining both a JSTL-provided bundle in web.xml &lt;b&gt;and&lt;/b&gt; a Spring-managed message source makes much sense. I rather see this as an either/or decision. If just using a JSTL-provided bundle, Spring itself will usually have an empty message source, so the fallback does effectively not kick in - but the JSTL-provided bundle is properly used.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="11625" author="sethladd" created="Tue, 30 Nov 2004 04:26:06 +0000"  >&lt;p&gt;Hi Juergen,&lt;/p&gt;

&lt;p&gt;Hmm... I think we might have been talking about two different things.  I had one ResourceViewResolver configured: an InternalResourceViewResolver.  It was pointing to only JSP files, and the viewClass was JstlView.  Sorry for the confusion.&lt;/p&gt;

&lt;p&gt;I see now what you&apos;re talking about when you were mentioning using InternalResourceView.&lt;/p&gt;

&lt;p&gt;I think now I also see the reason to use JstlView over InternalResourceView. &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="19153">SEC-631</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years, 5 weeks, 2 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 30 Nov 2004 01:13:13 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i017rz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7137</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>