<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 21:16:04 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-6163/SPR-6163.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-6163] Using ignoreAcceptHeader and defaultContentType together causes problems.</title>
                <link>https://jira.spring.io/browse/SPR-6163</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;Using ignore accept header and default content type causes problems. Here is my bean xml:&lt;/p&gt;

{code?xml}
&lt;p&gt;    &amp;lt;bean id=&quot;contentNegotiatingViewResolver&quot;&lt;br/&gt;
          class=&quot;org.springframework.web.servlet.view.ContentNegotiatingViewResolver&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;order&quot; value=&quot;1&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;ignoreAcceptHeader&quot; value=&quot;true&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;defaultContentType&quot; value=&quot;text/html&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;mediaTypes&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;map&amp;gt;&lt;br/&gt;
                &amp;lt;entry key=&quot;ftl&quot; value=&quot;text/html&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;entry key=&quot;xml&quot; value=&quot;application/xml&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;entry key=&quot;json&quot; value=&quot;application/json&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;entry key=&quot;atom&quot; value=&quot;application/atom+xml&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;entry key=&quot;rss&quot; value=&quot;application/rss+xml&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;/map&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;defaultViews&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;list&amp;gt;&lt;br/&gt;
                &amp;lt;bean class=&quot;org.springframework.web.servlet.view.xml.MarshallingView&quot;&amp;gt;&lt;br/&gt;
                    &amp;lt;property name=&quot;contentType&quot; value=&quot;application/xml&quot; /&amp;gt;&lt;br/&gt;
                    &amp;lt;property name=&quot;marshaller&quot;&amp;gt;&lt;br/&gt;
                        &amp;lt;bean class=&quot;org.springframework.oxm.xstream.XStreamMarshaller&quot;&amp;gt;&lt;br/&gt;
                            &amp;lt;property name=&quot;autodetectAnnotations&quot; value=&quot;true&quot;/&amp;gt;&lt;br/&gt;
                        &amp;lt;/bean&amp;gt;&lt;br/&gt;
                    &amp;lt;/property&amp;gt;&lt;br/&gt;
                &amp;lt;/bean&amp;gt;&lt;br/&gt;
                &amp;lt;bean class=&quot;org.springframework.web.servlet.view.json.MappingJacksonJsonView&quot;&amp;gt;&lt;br/&gt;
                    &amp;lt;property name=&quot;contentType&quot; value=&quot;application/json&quot; /&amp;gt;&lt;br/&gt;
                &amp;lt;/bean&amp;gt;&lt;br/&gt;
            &amp;lt;/list&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;viewResolvers&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;list&amp;gt;&lt;br/&gt;
                &amp;lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.freemarker.FreeMarkerViewResolver&quot;&amp;gt;&lt;br/&gt;
                    &amp;lt;property name=&quot;contentType&quot; value=&quot;text/html&quot; /&amp;gt;&lt;br/&gt;
                    &amp;lt;property name=&quot;order&quot; value=&quot;2&quot;/&amp;gt;&lt;br/&gt;
                    &amp;lt;property name=&quot;cache&quot; value=&quot;false&quot;/&amp;gt;&lt;br/&gt;
                    &amp;lt;property name=&quot;prefix&quot; value=&quot;&quot;/&amp;gt;&lt;br/&gt;
                    &amp;lt;property name=&quot;suffix&quot; value=&quot;.ftl&quot;/&amp;gt;&lt;br/&gt;
                    &amp;lt;property name=&quot;exposeSpringMacroHelpers&quot; value=&quot;true&quot;/&amp;gt;&lt;br/&gt;
                &amp;lt;/bean&amp;gt;&lt;br/&gt;
            &amp;lt;/list&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;Here is the exception that is generated:&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;
&lt;p&gt;SEVERE: Servlet.service() for servlet jawbs threw exception&lt;br/&gt;
java.lang.UnsupportedOperationException&lt;br/&gt;
	at java.util.AbstractList.set(AbstractList.java:115)&lt;br/&gt;
	at java.util.AbstractList$ListItr.set(AbstractList.java:412)&lt;br/&gt;
	at java.util.Collections.sort(Collections.java:121)&lt;br/&gt;
	at org.springframework.web.servlet.view.ContentNegotiatingViewResolver.resolveViewName(ContentNegotiatingViewResolver.java:344)&lt;br/&gt;
	at org.springframework.web.servlet.DispatcherServlet.resolveViewName(DispatcherServlet.java:1105)&lt;br/&gt;
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1052)&lt;br/&gt;
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:808)&lt;br/&gt;
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:726)&lt;br/&gt;
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:636)&lt;br/&gt;
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:545)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:690)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:803)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:290)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:206)&lt;/p&gt;
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;If there is a short-term fix, I&apos;d love to hear it.&lt;/p&gt;

&lt;p&gt;Basically what I want to do is have no extension (like /rest/hotels/list) go to text/html and still have the json, xml, etc. views work with the extensions on any/all browsers.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</description>
            <key id="28092">SPR-6163</key>
            <summary>Using ignoreAcceptHeader and defaultContentType together causes problems.</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="egervari">Ken Egervari</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Sep 2009 07:55:43 +0000</created>
                <updated>Tue, 19 Jun 2012 03:43:33 +0000</updated>
                            <resolved>Wed, 30 Sep 2009 22:52:52 +0000</resolved>
                                    <version>3.0 RC1</version>
                                    <fixVersion>3.0 RC2</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="47099" author="mario.fusco" created="Wed, 30 Sep 2009 21:46:16 +0000"  >&lt;p&gt;The problem is that the ContentNegotiatingViewResolver.getMediaTypes() method when a path extension is not available and the ignoreAcceptHeader is set to true and a defaultContentType has been configured returns a list in the following way:&lt;/p&gt;

&lt;p&gt;		if (defaultContentType != null) &lt;/p&gt;
{
			return Collections.singletonList(defaultContentType);
		}

&lt;p&gt;that, as it has been reported, cannot be sort by the Collections.sort() method invoked in the ContentNegotiatingViewResolver.resolveViewName() one.&lt;/p&gt;

&lt;p&gt;I hope this helps&lt;/p&gt;</comment>
                            <comment id="47100" author="mario.fusco" created="Wed, 30 Sep 2009 22:02:57 +0000"  >&lt;p&gt;If you need a temporary but quick and working fix use the following extension of ContentNegotiatingViewResolver and configure it in your application context.&lt;br/&gt;
I had the same problem and that solution is working for me.&lt;/p&gt;

&lt;p&gt;&amp;lt;code&amp;gt;&lt;br/&gt;
import org.springframework.web.servlet.view.*;&lt;br/&gt;
import org.springframework.http.*;&lt;/p&gt;

&lt;p&gt;import javax.servlet.http.*;&lt;br/&gt;
import java.util.*;&lt;/p&gt;

&lt;p&gt;public class MyContentNegotiatingViewResolver extends ContentNegotiatingViewResolver {&lt;/p&gt;

&lt;p&gt;    protected List&amp;lt;MediaType&amp;gt; getMediaTypes(HttpServletRequest request) &lt;/p&gt;
{
        List&amp;lt;MediaType&amp;gt; result = super.getMediaTypes(request);
        if (result.size() == 1) result = Arrays.asList(result.get(0));
        return result;
    }
&lt;p&gt;}&lt;br/&gt;
&amp;lt;/code&amp;gt;&lt;/p&gt;</comment>
                            <comment id="47102" author="juergen.hoeller" created="Wed, 30 Sep 2009 22:52:52 +0000"  >&lt;p&gt;Thanks for raising this! Fixed in trunk now.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="28144">SPR-6178</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        7 years, 13 weeks ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 30 Sep 2009 21:46:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00qgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>