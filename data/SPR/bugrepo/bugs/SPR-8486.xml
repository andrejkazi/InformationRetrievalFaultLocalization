<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:43:24 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-8486/SPR-8486.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-8486] StringHttpMessageConverter doesn&apos;t work under UTF-8</title>
                <link>https://jira.spring.io/browse/SPR-8486</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I found it doesn&apos;t work under UTF-8. &lt;/p&gt;

&lt;p&gt;After going through the source code of StringHttpMessageConverter, I concludes that although StringHttpMessageConverter has a &quot;DEFAULT_CHARSET&quot; public static member (with default &apos;ISO-8859-1&apos;), it doesn&apos;t offer corresponding setter which leads to the embarrassing that I can&apos;t configure StringHttpMessageConverter in applicationContext.xml in a common &amp;lt;property&amp;gt; way.&lt;/p&gt;

&lt;p&gt;I suggest that StringHttpMessageConverter should work like FormHttpMessageConverter which contains a private non-static member Charset, and offers corresponding setter for configuration. &lt;/p&gt;</description>
            <key id="38521">SPR-8486</key>
            <summary>StringHttpMessageConverter doesn&apos;t work under UTF-8</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="rstoya05-aop">Rossen Stoyanchev</assignee>
                                    <reporter username="steinwaywhw">Steinway Wu</reporter>
                        <labels>
                            <label>MessageConverter</label>
                            <label>UTF-8</label>
                    </labels>
                <created>Sat, 25 Jun 2011 02:43:29 +0000</created>
                <updated>Tue, 7 May 2013 13:38:01 +0000</updated>
                            <resolved>Tue, 7 May 2013 13:37:47 +0000</resolved>
                                    <version>3.0.5</version>
                                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="67831" author="rstoya05-aop" created="Mon, 27 Jun 2011 15:29:21 +0000"  >&lt;p&gt;Have you seen the setSupportedMediaTypes(&lt;tt&gt;List&amp;lt;MediaType&amp;gt;&lt;/tt&gt;) method available in the base class AbstractHttpMessageConverter?&lt;/p&gt;</comment>
                            <comment id="67842" author="steinwaywhw" created="Mon, 27 Jun 2011 20:39:26 +0000"  >&lt;p&gt;Yes. However, it seems that &lt;tt&gt;&lt;b&gt;setSupportedMediaTypes&lt;/b&gt;&lt;/tt&gt; doesn&apos;t change the value of &lt;tt&gt;&lt;b&gt;DEFAULT_CHARSET&lt;/b&gt;&lt;/tt&gt; after looking into &lt;tt&gt;&lt;b&gt;AbstractHttpMessageConverter&lt;/b&gt;&lt;/tt&gt;. It just set the &lt;tt&gt;&lt;b&gt;AbstractHttpMessageConverter::supportedMediaTypes&lt;/b&gt;&lt;/tt&gt;. On the other hand, I&apos;ve found:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; Charset charset = contentType.getCharSet() != null ? contentType.getCharSet() : DEFAULT_CHARSET; &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;in &lt;tt&gt;&lt;b&gt;StringHttpMessageConverter::writeInternal&lt;/b&gt;&lt;/tt&gt;, which is called by &lt;tt&gt;&lt;b&gt;AbstractHttpMessageConverter::write&lt;/b&gt;&lt;/tt&gt;. Then, I&apos;m thinking that my &lt;tt&gt;HttpOutputMessage&lt;/tt&gt;&apos;s &lt;tt&gt;contentType&lt;/tt&gt; is not correctly set, otherwise the message converter won&apos;t use &lt;tt&gt;DEFAULT_CHARSET&lt;/tt&gt; according to the code above.&lt;em&gt;(I manuallly change it to UTF-8, and it works fine in my project. So I&apos;m sure the &lt;tt&gt;DEFAULT_CHARSET&lt;/tt&gt; is in use other than &lt;tt&gt;contentType.getCharSet()&lt;/tt&gt;).&lt;/em&gt; By the way, the message converter is automatically invoked by SpringMVC when I&apos;m returning a string as &lt;tt&gt;@ResponseBody&lt;/tt&gt; in the controller, which means that the content type is mostly like to be automatically set by SpringMVC. So... I&apos;m so sorry that I can&apos;t figure out what&apos;s wrong indeed...&lt;/p&gt;</comment>
                            <comment id="67848" author="rstoya05-aop" created="Tue, 28 Jun 2011 02:19:48 +0000"  >&lt;blockquote&gt;&lt;p&gt;Then, I&apos;m thinking that my HttpOutputMessage&apos;s contentType is not correctly set, otherwise the message converter won&apos;t use DEFAULT_CHARSET according to the code above.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The contentType in the HttpOutputMessage is set depending on the Accept header of the request. If there is no Accept header then the default charset is used.&lt;/p&gt;</comment>
                            <comment id="67920" author="steinwaywhw" created="Thu, 30 Jun 2011 09:08:46 +0000"  >&lt;p&gt;Thank you! Firebug told me that my ACCEPT is &amp;#42;/&amp;#42;, that&apos;s why it didn&apos;t work for me.&lt;/p&gt;</comment>
                            <comment id="89562" author="blueocci" created="Mon, 22 Apr 2013 21:15:04 +0000"  >&lt;p&gt;Same issue in our project.&lt;/p&gt;</comment>
                            <comment id="89924" author="rstoya05-aop" created="Tue, 7 May 2013 13:37:39 +0000"  >&lt;p&gt;This has actually be done already as part of &lt;a href=&quot;https://jira.spring.io/browse/SPR-9487&quot; title=&quot;Backport constructor accepting Charset in StringHttpMessageConverter, from Spring for Android to Spring Web.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-9487&quot;&gt;&lt;del&gt;SPR-9487&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="43802">SPR-9487</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        3 years, 33 weeks, 2 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 27 Jun 2011 15:29:21 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>rstoya05-aop</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i012uf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6338</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>