<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 21:50:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-5166/SPR-5166.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-5166] JSTL setLocale/setBundle doesn&apos;t work in combination with Spring&apos;s JstlView</title>
                <link>https://jira.spring.io/browse/SPR-5166</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;When using the JSTL internationalitation tags: &lt;/p&gt;

&lt;p&gt;     &amp;lt;fmt:setLocale value=&quot;de_DE&quot; scope=&quot;session&quot;/&amp;gt; &lt;br/&gt;
     &amp;lt;fmt:setBundle basename=&quot;com.intl.messages&quot; scope=&quot;session&quot; /&amp;gt; &lt;/p&gt;

&lt;p&gt;and &lt;/p&gt;

&lt;p&gt;    &amp;lt;fmt:message key=&quot;Choose&quot;/&amp;gt; &lt;/p&gt;

&lt;p&gt;and you change the language to &quot;en_GB&quot; or&quot; it_IT&quot; or other one, for example:&lt;/p&gt;

&lt;p&gt;     &amp;lt;fmt:setLocale value=&quot;en_GB&quot; scope=&quot;session&quot;/&amp;gt; &lt;br/&gt;
     &amp;lt;fmt:setBundle basename=&quot;com.intl.messages&quot; scope=&quot;session&quot; /&amp;gt; &lt;br/&gt;
    &amp;lt;fmt:message key=&quot;Choose&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;fmt:setLocale value=&quot;it_IT&quot; scope=&quot;session&quot;/&amp;gt; &lt;br/&gt;
     &amp;lt;fmt:setBundle basename=&quot;com.intl.messages&quot; scope=&quot;session&quot; /&amp;gt; &lt;br/&gt;
    &amp;lt;fmt:message key=&quot;Choose&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;IT  DOESN&apos;T  WORK  ANY  MORE.&lt;/p&gt;

&lt;p&gt;This problem was localized under the versions 2.0.x until 2.0.6 of Spring too.&lt;br/&gt;
At that time, the problem have been detected in the spring-webmvc.jar.&lt;/p&gt;

&lt;p&gt;ANY  IDEAS ?&lt;/p&gt;</description>
            <key id="24009">SPR-5166</key>
            <summary>JSTL setLocale/setBundle doesn&apos;t work in combination with Spring&apos;s JstlView</summary>
                <type id="4" iconUrl="https://jira.spring.io/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="jegnet">Macias De La Rosa Jes&#250;s Gerardo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Sep 2008 20:53:57 +0000</created>
                <updated>Tue, 17 Feb 2009 19:05:21 +0000</updated>
                            <resolved>Tue, 17 Feb 2009 19:05:21 +0000</resolved>
                                    <version>2.5.5</version>
                                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="39668" author="juergen.hoeller" created="Wed, 17 Sep 2008 21:26:26 +0000"  >&lt;p&gt;Well, back at &lt;a href=&quot;https://jira.spring.io/browse/SPR-4234&quot; title=&quot;Problem with JSTL 1.1 internationalization&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-4234&quot;&gt;&lt;del&gt;SPR-4234&lt;/del&gt;&lt;/a&gt;, your feedback indicated that it worked for you again in Spring 2.0.8 and 2.5.1. What exactly doesn&apos;t work anymore now? Which exact versions of Spring does it work with or not work with?&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="39673" author="jegnet" created="Wed, 17 Sep 2008 21:56:01 +0000"  >&lt;p&gt;Sorry, &lt;/p&gt;

&lt;p&gt; You are right. The version 2.5.5 is causing this problem.&lt;/p&gt;

&lt;p&gt;The Internationalisation of JSTL  in a JSP is not working.&lt;br/&gt;
If youe are using following tags:&lt;/p&gt;

&lt;p&gt;     &amp;lt;fmt:setLocale value=&quot;it_IT&quot; scope=&quot;session&quot;/&amp;gt; &lt;br/&gt;
     &amp;lt;fmt:setBundle basename=&quot;com.intl.messages&quot; scope=&quot;session&quot; /&amp;gt; &lt;br/&gt;
    &amp;lt;fmt:message key=&quot;Choose&quot;/&amp;gt; &lt;/p&gt;


&lt;p&gt;it doesn&apos;t  work. The language is not loaded.&lt;/p&gt;

&lt;p&gt;Macias&lt;/p&gt;</comment>
                            <comment id="39674" author="juergen.hoeller" created="Wed, 17 Sep 2008 22:01:04 +0000"  >&lt;p&gt;So it does work in Spring 2.5.1, but doesn&apos;t work anymore in Spring 2.5.5? Is this what you&apos;re experiencing?&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="39676" author="jegnet" created="Wed, 17 Sep 2008 23:11:12 +0000"  >&lt;p&gt;At that time, I tested the version 2.5.1 and apparently  it worked. I don&apos;t have this version any more because we decided to use the version 2.0.7 or 2.0.8. Now we decide tu use the new version, that means 2.5.5 and we have those problems mentioned before.&lt;/p&gt;

&lt;p&gt;macias&lt;/p&gt;</comment>
                            <comment id="39716" author="juergen.hoeller" created="Thu, 18 Sep 2008 20:52:13 +0000"  >&lt;p&gt;I cannot reproduce this... This works fine for me with Spring 2.5.5.&lt;/p&gt;

&lt;p&gt;The following snippet, dropped into a JSP in the PetClinic sample application, behaves correctly for me:&lt;/p&gt;

&lt;p&gt;&amp;lt;fmt:setLocale value=&quot;de_DE&quot; scope=&quot;session&quot;/&amp;gt; &lt;br/&gt;
&amp;lt;fmt:setBundle basename=&quot;messages&quot; scope=&quot;session&quot; /&amp;gt; &lt;br/&gt;
DE: &amp;lt;fmt:message key=&quot;welcome&quot;/&amp;gt; &lt;/p&gt;

&lt;p&gt;&amp;lt;fmt:setLocale value=&quot;en_GB&quot; scope=&quot;session&quot;/&amp;gt; &lt;br/&gt;
&amp;lt;fmt:setBundle basename=&quot;messages&quot; scope=&quot;session&quot; /&amp;gt; &lt;br/&gt;
EN: &amp;lt;fmt:message key=&quot;welcome&quot;/&amp;gt; &lt;/p&gt;

&lt;p&gt;If you can provide me with a simple reproducible scenario where things don&apos;t work you, I&apos;ll try to analyze it further.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="39719" author="jegnet" created="Thu, 18 Sep 2008 22:04:06 +0000"  >&lt;p&gt;Hallo,&lt;/p&gt;

&lt;p&gt;Ok, we don&apos;t use directly the tag: &amp;lt;fmt:message key=&quot;welcome&quot;/&amp;gt; .&lt;/p&gt;

&lt;p&gt;we have a language.jsp with the content:&lt;/p&gt;

&lt;p&gt;&amp;lt;c:choose&amp;gt;&lt;br/&gt;
    &amp;lt;c:wehn test=&quot;$&lt;/p&gt;
{INTL == &apos;de_DE&apos;}
&lt;p&gt;&quot; &amp;gt;&lt;br/&gt;
        &amp;lt;fmt:setLocale value=&quot;de_DE&quot; scope=&quot;session&quot;/&amp;gt; &lt;br/&gt;
       &amp;lt;fmt:setBundle basename=&quot;messages&quot; scope=&quot;session&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/c:when&amp;gt;&lt;br/&gt;
   &amp;lt;c:wehn test=&quot;$&lt;/p&gt;
{INTL == &apos;en_GB&apos;}
&lt;p&gt;&quot; &amp;gt;&lt;br/&gt;
        &amp;lt;fmt:setLocale value=&quot;en_GB&quot; scope=&quot;session&quot;/&amp;gt; &lt;br/&gt;
       &amp;lt;fmt:setBundle basename=&quot;messages&quot; scope=&quot;session&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/c:when&amp;gt;&lt;br/&gt;
    .......&lt;br/&gt;
    .......&lt;br/&gt;
&amp;lt;/c:choose&amp;gt;&lt;/p&gt;


&lt;p&gt;We have another check.jsp that use language.jsp with the content:&lt;/p&gt;

&lt;p&gt;    &amp;lt;jsp:include page=&quot;language.jsp&quot; flush=&quot;true&quot; /&amp;gt;&lt;br/&gt;
    .............&lt;br/&gt;
    .............&lt;br/&gt;
    &amp;lt;%-- then another  jsp ($&lt;/p&gt;
{url} ) will be called  where such tags &amp;lt;fmt:message key=&quot;welcome&quot;/&amp;gt; are  included. And here is the problem, those tags are not working--%&amp;gt;&lt;br/&gt;
    &amp;lt;c:import url=&quot;${url}
&lt;p&gt;&quot; /&amp;gt;&lt;br/&gt;
   ................&lt;br/&gt;
   ................&lt;/p&gt;



&lt;p&gt;For example if $&lt;/p&gt;
{url}
&lt;p&gt; is a show.jsp with the content:&lt;/p&gt;

&lt;p&gt;    &amp;lt;fmt:message key=&quot;hello&quot;/&amp;gt; &amp;lt;\br&amp;gt;&lt;br/&gt;
   &amp;lt;fmt:message key=&quot;nation&quot;/&amp;gt; &amp;lt;\br&amp;gt;&lt;/p&gt;

&lt;p&gt;it definitively doesn&apos;t work. It seems that those tags don&apos;t recognize the &quot;fmt:setLocale &quot; and &quot;fmt:setBundle &quot; as sessions ...&lt;/p&gt;

&lt;p&gt;I hope, that help you ..&lt;/p&gt;


</comment>
                            <comment id="39721" author="juergen.hoeller" created="Fri, 19 Sep 2008 00:45:16 +0000"  >&lt;p&gt;That complicates the situation but should still work...&lt;/p&gt;

&lt;p&gt;It would be great if you could isolate the problem into a bare-bones WAR file with minimal JSPs and resource bundle files!&lt;/p&gt;

&lt;p&gt;As a short-term workaround, you could try what I suggested in that previous JIRA issue: adding the following line to your ViewResolver definition...&lt;/p&gt;

&lt;p&gt; &amp;lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.InternalResourceView&quot; /&amp;gt; &lt;/p&gt;

&lt;p&gt;I still believe that the above should get rid of any such problem - even if you reported it to not work for you back then.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="39746" author="jegnet" created="Sat, 20 Sep 2008 19:16:15 +0000"  >&lt;p&gt;I isolate the problem into a WAR file with minimal JSPs and resource bundle files!&lt;br/&gt;
Nevertheless it doesn&apos;t work.&lt;/p&gt;

&lt;p&gt;Hier you have a *.war file.&lt;/p&gt;</comment>
                            <comment id="39747" author="jegnet" created="Sat, 20 Sep 2008 19:26:13 +0000"  >&lt;p&gt;I isolate the problem into a WAR file with minimal JSPs and resource bundle files!&lt;br/&gt;
Nevertheless it doesn&apos;t work.&lt;/p&gt;

&lt;p&gt;Hier you have the source files.&lt;/p&gt;

&lt;p&gt;Remember that we have more than one Web Application and we only changed the modules from Spring version 2.08 to Spring version 2.5.5 and the JSTL Tag for Internationalization did&apos;nt work.&lt;/p&gt;</comment>
                            <comment id="40272" author="pascalalberty" created="Mon, 13 Oct 2008 01:23:47 +0000"  >&lt;p&gt;We got something similar, but it&apos;s working with JDK 5 and not with JDK6.&lt;br/&gt;
Probably related to &lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do;jsessionid=e73df7b17d577e7c1808d4998fc7d?bug_id=4303146&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do;jsessionid=e73df7b17d577e7c1808d4998fc7d?bug_id=4303146&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Still working on it.&lt;/p&gt;

&lt;p&gt;Macias, did you change JDK version number recently ?&lt;/p&gt;</comment>
                            <comment id="40274" author="jegnet" created="Mon, 13 Oct 2008 02:06:27 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Yes, we are using now JDK6, I think since it appeared.&lt;br/&gt;
The version 2.0.8 is working with JDK6.&lt;/p&gt;</comment>
                            <comment id="40482" author="juergen.hoeller" created="Mon, 20 Oct 2008 22:00:47 +0000"  >&lt;p&gt;I was able to reproduce this issue. Also, please do note that adding the following line to your ViewResolver definition gets rid of the problem:&lt;/p&gt;

&lt;p&gt;  &amp;lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.InternalResourceView&quot; /&amp;gt; &lt;/p&gt;

&lt;p&gt;I&apos;m still trying to make it work with the default JstlView as well - but for the time being, please simply add the above line.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="40645" author="jegnet" created="Sun, 26 Oct 2008 21:17:37 +0000"  >&lt;p&gt;Hallo again,&lt;/p&gt;

&lt;p&gt;We have just applied the Spring Version 2.0.8 and the same problem is found. JSTL doesn&apos;t work.&lt;br/&gt;
For the version 2.0.7 all is ok.&lt;/p&gt;

&lt;p&gt;I hope you can consider this too.&lt;/p&gt;

&lt;p&gt;Macias De La Rosa&lt;/p&gt;</comment>
                            <comment id="40647" author="juergen.hoeller" created="Mon, 27 Oct 2008 00:56:08 +0000"  >&lt;p&gt;I researched this quite a bit, but it does not look like we&apos;ll be able to solve this in either Spring 2.5.x or Spring 2.0.x. It might even be that the issue remains in Spring 3.0, since you&apos;re essentially bypassing Spring&apos;s own locale management completely which is likely to always lead to some level of conflict.&lt;/p&gt;

&lt;p&gt;In other words, you&apos;re not using JSTL in the way it&apos;s supposed to be used with Spring MVC. As a consequence, you need to deactivate Spring&apos;s own JSTL support. So for the time being, please switch to InternalResourceView explicitly (as suggested above). This will allow you to use JSTL natively, without Spring being involved in JSTL handling at all.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="42621" author="juergen.hoeller" created="Tue, 17 Feb 2009 19:05:21 +0000"  >&lt;p&gt;Closing this for the time being, since the situation is still the same for Spring 3.0... Please continue to follow the guidelines above.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="24007">SPR-5165</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10020">
                    <name>Related</name>
                                            <outwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="18839">SPR-4234</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="14697" name="TEST-SPRING-VERSION.war" size="9453707" author="jegnet" created="Sat, 20 Sep 2008 19:16:15 +0000"/>
                            <attachment id="14698" name="WebApp.zip" size="8360986" author="jegnet" created="Sat, 20 Sep 2008 19:26:13 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        7 years, 45 weeks, 2 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 17 Sep 2008 21:26:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i017af:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7058</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>