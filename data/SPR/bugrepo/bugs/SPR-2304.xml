<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:52:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2304/SPR-2304.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2304] &lt;aop:aspectj-autoproxy/&gt; doesn&apos;t care for new transaction configuration</title>
                <link>https://jira.spring.io/browse/SPR-2304</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I am running nightly build 72.&lt;/p&gt;

&lt;p&gt;I have transction management configured as follows:&lt;/p&gt;

&lt;p&gt;&amp;lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;property name=&quot;sessionFactory&quot; ref=&quot;bigdealSessionFactory&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;tx:advice id=&quot;transactionAdvice&quot; transaction-manager=&quot;transactionManager&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;aop:config&amp;gt;&lt;br/&gt;
      &amp;lt;aop:pointcut id=&quot;processMethods&quot; expression=&quot;execution(public * com.blued.bigdeal.process..&lt;b&gt;ProcessBean.&lt;/b&gt;(..))&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;aop:advisor advice-ref=&quot;transactionAdvice&quot; pointcut-ref=&quot;processMethods&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/aop:config&amp;gt;&lt;/p&gt;

&lt;p&gt;Everything works great. Now, if I add:&lt;/p&gt;

&lt;p&gt;&amp;lt;aop:aspectj-autoproxy/&amp;gt;&lt;/p&gt;

&lt;p&gt;without adding any other advice or pointcuts, I fail on startup:&lt;/p&gt;

&lt;p&gt;SEVERE: Context initialization failed&lt;br/&gt;
org.springframework.beans.factory.BeanCreationException: &lt;br/&gt;
   Error creating bean with name &apos;org.springframework.aop.aspectj.AspectJPointcutAdvisor&apos;: &lt;br/&gt;
   Error setting property values; &lt;br/&gt;
   nested exception is PropertyAccessExceptionsException (1 errors)&lt;/p&gt;

&lt;p&gt;Caused by: PropertyAccessExceptionsException (1 errors)&lt;br/&gt;
org.springframework.beans.MethodInvocationException: &lt;br/&gt;
   Property &apos;pointcut&apos; threw exception; &lt;br/&gt;
   nested exception is java.lang.IllegalArgumentException: &lt;br/&gt;
   AspectJPointcutAdvisor requires an AspectJExpressionPointcut but was passed an instance of &apos;$Proxy12&apos;&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: AspectJPointcutAdvisor requires an AspectJExpressionPointcut but was passed an instance of &apos;$Proxy12&apos;&lt;br/&gt;
        at org.springframework.aop.aspectj.AspectJPointcutAdvisor.setPointcut(AspectJPointcutAdvisor.java:48)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
        at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:737)&lt;br/&gt;
        at org.springframework.beans.BeanWrapperImpl.setPropertyValue(BeanWrapperImpl.java:575)&lt;/p&gt;</description>
            <key id="14532">SPR-2304</key>
            <summary>&lt;aop:aspectj-autoproxy/&gt; doesn&apos;t care for new transaction configuration</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robh">Rob Harrop</assignee>
                                    <reporter username="corby">Corby Page</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Jul 2006 13:01:00 +0000</created>
                <updated>Tue, 19 Jun 2012 03:52:25 +0000</updated>
                            <resolved>Wed, 19 Jul 2006 02:00:42 +0000</resolved>
                                    <version>2.0 RC3</version>
                                    <fixVersion>2.0 RC3</fixVersion>
                                    <component>Core:AOP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="18610" author="robh" created="Sun, 16 Jul 2006 22:24:48 +0000"  >&lt;p&gt;Corby,&lt;/p&gt;

&lt;p&gt;Is that the extent of your AOP configuration? Do you have any other AOP related bean definitions?&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                            <comment id="18616" author="robh" created="Mon, 17 Jul 2006 00:34:30 +0000"  >&lt;p&gt;Corby,&lt;/p&gt;

&lt;p&gt;I played around a little more with this and created a similar case but it doesn&apos;t fail for me. However, I have seen a similar class of problem before. I made some tweaks to ConfigBeanDefinitionParser that will prevent certain infrastructure beans from being proxied (as seems to be the case here). Can you try a new nightly that has this change present.&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                            <comment id="18623" author="corby" created="Mon, 17 Jul 2006 02:11:12 +0000"  >&lt;p&gt;Hi Rob,&lt;/p&gt;

&lt;p&gt;   I have other AOP definitions under the old Spring 1.x syntax using BeanNameAutoProxyCreator, but what I listed above are my only Spring 2.0 AOP declarations.&lt;/p&gt;

&lt;p&gt;    And my other AOP definitions are domain specific; as far as I can tell, there is no reason why my Spring 1.x AOP definitions should be proxying an AspectJExpressionPointcut.&lt;/p&gt;

&lt;p&gt;    I will try with nightly build 73 later today.&lt;/p&gt;

&lt;p&gt;Corby&lt;/p&gt;</comment>
                            <comment id="18633" author="corby" created="Mon, 17 Jul 2006 10:12:18 +0000"  >&lt;p&gt;I tried with nightly build 73, and got the exact same behaviour.&lt;/p&gt;</comment>
                            <comment id="18654" author="corby" created="Tue, 18 Jul 2006 10:42:40 +0000"  >&lt;p&gt;It appears that nightly build 75 has fixed this problem!&lt;/p&gt;</comment>
                            <comment id="18660" author="robh" created="Wed, 19 Jul 2006 02:00:42 +0000"  >&lt;p&gt;Super! It may well be that this is the fix I mentioned coming in later due to CVS sync issues.&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 24 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 16 Jul 2006 22:24:48 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00zwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5861</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>