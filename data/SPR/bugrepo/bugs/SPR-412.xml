<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:53:46 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-412/SPR-412.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-412] URLPathHelper raising index out of bounds exception</title>
                <link>https://jira.spring.io/browse/SPR-412</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;When the below function is called with a ServletWrappingController I get an index out of bounds when called from a Struts forward. So for example if I&apos;m doing action chaining action1 -&amp;gt; action2 then the context root is not on the request when passing through the wrapping controller so there is no need to take it off again. Please propose a solution. &lt;/p&gt;

&lt;p&gt;	public String getPathWithinApplication(HttpServletRequest request) &lt;/p&gt;
{
		return getRequestUri(request).substring(getContextPath(request).length());
	}
</description>
            <key id="10675">SPR-412</key>
            <summary>URLPathHelper raising index out of bounds exception</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="garpinc">Keith Garry Boyce</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Oct 2004 12:51:03 +0000</created>
                <updated>Thu, 21 Oct 2004 04:51:02 +0000</updated>
                            <resolved>Thu, 21 Oct 2004 03:57:56 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="11316" author="garpinc" created="Wed, 20 Oct 2004 18:10:04 +0000"  >&lt;p&gt;Temporary patch I am using is as follows:&lt;/p&gt;

&lt;p&gt;   &amp;lt;bean id=&quot;handlerMapping&quot; class=&quot;org.springframework.web.servlet.handler.SimpleUrlHandlerMapping&quot;&amp;gt; &lt;br/&gt;
      &amp;lt;property name=&quot;urlPathHelper&quot;&amp;gt;&amp;lt;bean class=&quot;org.springframework.web.util.FixedUrlPathHelper&quot;/&amp;gt;&amp;lt;/property&amp;gt; &lt;br/&gt;
....&lt;/p&gt;

&lt;p&gt;package org.springframework.web.util;&lt;/p&gt;

&lt;p&gt;import javax.servlet.http.HttpServletRequest;&lt;/p&gt;

&lt;p&gt;/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Helper class for URL path matching. Provides support for URL paths&lt;/li&gt;
	&lt;li&gt;in ServletDispatcher includes, and support for URL decoding.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;Used by AbstractUrlHandlerMapping, AbstractMethodNameResolver&lt;/li&gt;
	&lt;li&gt;and RequestContext for path matching and/or URI determination.&lt;br/&gt;
 *&lt;/li&gt;
	&lt;li&gt;@author Juergen Hoeller&lt;/li&gt;
	&lt;li&gt;@since 14.01.2004&lt;/li&gt;
	&lt;li&gt;@see org.springframework.web.servlet.handler.AbstractUrlHandlerMapping&lt;/li&gt;
	&lt;li&gt;@see org.springframework.web.servlet.mvc.multiaction.AbstractUrlMethodNameResolver&lt;/li&gt;
	&lt;li&gt;@see org.springframework.web.servlet.support.RequestContext&lt;br/&gt;
 */&lt;br/&gt;
public class FixedUrlPathHelper extends UrlPathHelper{&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;	/**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Return the path within the web application for the given request.&lt;/li&gt;
	&lt;li&gt;&amp;lt;p&amp;gt;Regards include request URL if called within a RequestDispatcher include.&lt;/li&gt;
	&lt;li&gt;@param request current HTTP request&lt;/li&gt;
	&lt;li&gt;@return the path within the web application&lt;br/&gt;
	 */&lt;br/&gt;
	public String getPathWithinApplication(HttpServletRequest request) 
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {	    if (getRequestUri(request).startsWith(getContextPath(request))) {
	        return getRequestUri(request).substring(getContextPath(request).length());
	    } else {
	        return getRequestUri(request);
	    }	}&lt;/span&gt; &lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="11322" author="juergen.hoeller" created="Thu, 21 Oct 2004 03:57:56 +0000"  >&lt;p&gt;Thanks for reporting this - just added a corresponding startsWith check, to be on the safe side.&lt;/p&gt;

&lt;p&gt;I must admit I don&apos;t fully understand how that case can happen: When exactly does a request URI not contain the context path of the current web application? Anyway, better to check for it.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="11323" author="garpinc" created="Thu, 21 Oct 2004 04:51:02 +0000"  >&lt;p&gt;It happened on an action -&amp;gt; action chain with Struts.&lt;/p&gt;

&lt;p&gt;The first action gets the context root and resolves it correctly finally in struts-config.xml. At the end of the action a forward occurs based on setting in struts-config.xml. This setting does not have context root. The request in front of the second action does not have context root.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;br/&gt;
Garry&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years, 11 weeks ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Oct 2004 03:57:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01d0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7987</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>