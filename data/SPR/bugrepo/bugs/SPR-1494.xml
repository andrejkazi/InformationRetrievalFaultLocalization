<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:04:44 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-1494/SPR-1494.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-1494] JdbcTemplate.queryForObject should throw different exceptions for wrong number of rows and columns</title>
                <link>https://jira.spring.io/browse/SPR-1494</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;JdbcTemplate.queryForObject() throws IncorrectResultSizeDataAccessException in two cases: if rows count is not 1 and when columns count is not 1.&lt;/p&gt;

&lt;p&gt;Wrong number of rows and columns are completely different situations. Example:&lt;/p&gt;

&lt;p&gt;Wrong number of columns means that there is error in query, or in some DB structure. It is server error. This exception should not be handled, maybe user should see error 500: Internal Server Error, please contact administrator, bla-bla-bla.&lt;/p&gt;

&lt;p&gt;No columns is normal situation. For example, user not found, or document not found. In this case site user should see expected page, with some message marked in red.&lt;/p&gt;

&lt;p&gt;The one place where IncorrectResultSizeDataAccessException is used for wrong number of columns is SingleColumnRowMapper. I think SingleColumnRowMapper should throw other subclass of DataRetrievalFailureException, ex. WrongColumnsCountException.&lt;/p&gt;

&lt;p&gt;Also because of similar reasons there should be subclass EmptyResultException of class IncorrectResultSizeException although the method IncorrectResultSizeException.getActualSize() exists. So if I write&lt;/p&gt;

&lt;p&gt;try {&lt;br/&gt;
    return getJdbcTemplate().queryForObject(&quot;select path from documents where docnumber = 15&quot;);&lt;br/&gt;
} catch (EmptyResultException e) {&lt;br/&gt;
    // here I want to be sure that document not exists, and there is no error in query, and no error in data when two documents have id 15.&lt;br/&gt;
    throw new DocumentNotExistsException();&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;This is typical situation of using queryForObject().&lt;/p&gt;

&lt;p&gt;However this feature request is not important and maybe even is not to be implemented. In the most cases it&apos;s enough to catch IncorrectResultSizeException. Also both situations can be easily handled in my code by subclassing JdbcTemplate and SingleColumnRowMapper.&lt;/p&gt;</description>
            <key id="12790">SPR-1494</key>
            <summary>JdbcTemplate.queryForObject should throw different exceptions for wrong number of rows and columns</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="yozh">Stepan Koltsov</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Nov 2005 08:32:01 +0000</created>
                <updated>Tue, 19 Jun 2012 03:54:05 +0000</updated>
                            <resolved>Thu, 24 Nov 2005 18:53:52 +0000</resolved>
                                    <version>1.2.6</version>
                                    <fixVersion>2.0 M1</fixVersion>
                                    <component>Data</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="15553" author="juergen.hoeller" created="Thu, 24 Nov 2005 18:53:52 +0000"  >&lt;p&gt;Thanks for the suggestion! I&apos;ve added an EmptyResultDataAccessException as subclass of IncorrectResultSizeDataAccessException, thrown in case of row count 0, and introduced a JDBC-specific IncorrectResultSetColumnCountException, thrown in case of an incorrect column count.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        11 years, 6 weeks ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 24 Nov 2005 18:53:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01f1r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8315</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>