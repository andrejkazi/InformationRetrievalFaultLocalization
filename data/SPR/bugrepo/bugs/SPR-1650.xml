<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:08:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-1650/SPR-1650.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-1650] autowire=&quot;byType&quot; is flawed in combination with proxies</title>
                <link>https://jira.spring.io/browse/SPR-1650</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;A user on the forum came with an &amp;lt;a href=&quot;http://forum.springframework.org/showthread.php?t=21881&quot;&amp;gt;issue&amp;lt;/a&amp;gt; where a singleton essentially isn&apos;t a singleton.&lt;/p&gt;

&lt;p&gt;I&apos;ve taken a futher look at the issue and it seems that if (in the attached sample), autowiring is turned on for the LocalSessionFactory in combination with two objects being proxied, 17 instances of the SingletonRepository are created whereas with autowiring turned off, only one instance is created.&lt;/p&gt;

&lt;p&gt;There are three possible scenarios:&lt;/p&gt;

&lt;p&gt;autowiring=autodetect + proxying enabled: test fails&lt;br/&gt;
autowiring=off + proxying objects: test passes&lt;br/&gt;
autowiring=autodetect + no proxied object: test passes&lt;/p&gt;

&lt;p&gt;I don&apos;t have time to further investigate the problem at the moment and can&apos;t really think of a possible thing causing this &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;regards,&lt;br/&gt;
Alef&lt;/p&gt;</description>
            <key id="13245">SPR-1650</key>
            <summary>autowire=&quot;byType&quot; is flawed in combination with proxies</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="alef.arendsen">Alef Arendsen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 30 Jan 2006 08:42:04 +0000</created>
                <updated>Tue, 19 Jun 2012 03:54:13 +0000</updated>
                            <resolved>Tue, 21 Feb 2006 05:35:00 +0000</resolved>
                                    <version>1.2.6</version>
                    <version>2.0 M1</version>
                                    <fixVersion>1.2.7</fixVersion>
                    <fixVersion>2.0 M3</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="16270" author="shenster" created="Mon, 30 Jan 2006 20:45:38 +0000"  >&lt;p&gt;Also I found that moving SessionFactoryBean to the end of the config file will make the failed test pass.&lt;/p&gt;</comment>
                            <comment id="16284" author="juergen.hoeller" created="Wed, 1 Feb 2006 04:47:18 +0000"  >&lt;p&gt;It&apos;s not &quot;autodetect&quot;, actually... &quot;byType&quot; causes the problem. &quot;autodetect&quot; simply chooses &quot;byType&quot; as default in the present case.&lt;/p&gt;

&lt;p&gt;Unfortunately, this issue is hard to address.&lt;br/&gt;
The general advice to solve it is: Don&apos;t use autowiring by type &lt;b&gt;at all&lt;/b&gt;. This avoids such side effects one and for all.&lt;br/&gt;
The less general advice is: Don&apos;t use autowiring by type for core beans that many other beans depend on.&lt;/p&gt;

&lt;p&gt;We will be refining the behavior here, but this will mean throwing exceptions if an overuse of autowiring-by-type has been detected.&lt;br/&gt;
We unfortunately can&apos;t reliably predict whether autowiring-by-type will work properly upfront.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="16523" author="juergen.hoeller" created="Tue, 21 Feb 2006 05:35:00 +0000"  >&lt;p&gt;I have fixed the central issue behind this: The BeanFactory didn&apos;t clean up properly in case of attempted instantiations of a part of the object graph (on type checking). Some instances were able to hang around with old bean references in them. I have fixed this to clean up completely in all cases. This means that the attached test does pass now, since there will only ever be one instance of &quot;SingletonRepository&quot; at application runtime.&lt;/p&gt;

&lt;p&gt;However, we can&apos;t do much about the temporarily created bean instances during type checking, so there are still multiple SingletonRepository instances created during initialization. There is no reliable to perform a FactoryBean type check without instantiating the backend object graph, unfortunately. So to avoid those unnecessary instantiation attempts, I strongly recommend to avoid autowire-by-type, or at least only use it very selectively (typically just on application services, not on core infrastructure beans).&lt;/p&gt;

&lt;p&gt;That said, the result will be correct in all cases now. Using or not using autowire-by-type is just about potentially wasted instantiation effort now - essentially an optimization.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="11431" name="autowiring.zip" size="4942" author="alef.arendsen" created="Mon, 30 Jan 2006 08:43:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 45 weeks, 2 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 30 Jan 2006 20:45:38 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04vof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28506</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>