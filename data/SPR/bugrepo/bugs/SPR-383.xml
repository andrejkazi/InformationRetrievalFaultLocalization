<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:54:11 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-383/SPR-383.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-383] NPE in JDBCTemplate if no datasource set</title>
                <link>https://jira.spring.io/browse/SPR-383</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I am playing with the JdbcTemplate and have the following code:&lt;/p&gt;

&lt;p&gt;JdbcTemplate jdbc = new JdbcTemplate();&lt;br/&gt;
String[] s = (String[]) jdbc.queryForObject(SELECT_SQL, new Object[]&lt;/p&gt;
{new Long(id)}
&lt;p&gt;, java.lang.String[].class);&lt;/p&gt;

&lt;p&gt;As I do not pass in a datasource to JdbcTemplate and does not call setDataSource on it I get the following NPE.&lt;/p&gt;

&lt;p&gt;Maybe a check in the code and to throw a propper exception stating somekind of error text that a datasource is not set on the template would be nice instead of a NPE.&lt;/p&gt;

&lt;p&gt;Just to add to Jurgens/Thomas list of silly TODO&apos;s instead of cool new features.&lt;/p&gt;



&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:173)&lt;br/&gt;
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:152)&lt;br/&gt;
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:128)&lt;br/&gt;
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:319)&lt;br/&gt;
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:374)&lt;br/&gt;
	at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:410)&lt;br/&gt;
	at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:469)&lt;br/&gt;
	at com.bmd.selfservice.dao.KundeHibernateDAO.loadKundeEmail(KundeHibernateDAO.java:55)&lt;br/&gt;
	at com.bmd.selfservice.KundeBusiness.getKundeEmail(KundeBusiness.java:40)&lt;br/&gt;
	at com.bmd.selfservice.demo.KundeDemo.email(KundeDemo.java:55)&lt;br/&gt;
	at com.bmd.selfservice.demo.KundeDemo.main(KundeDemo.java:62)&lt;/p&gt;</description>
            <key id="10638">SPR-383</key>
            <summary>NPE in JDBCTemplate if no datasource set</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="davsclaus">Claus Ibsen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 8 Oct 2004 00:14:20 +0000</created>
                <updated>Sat, 9 Oct 2004 21:04:41 +0000</updated>
                            <resolved>Sat, 9 Oct 2004 21:04:41 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                    <component>Data</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="11249" author="davsclaus" created="Fri, 8 Oct 2004 00:15:28 +0000"  >&lt;p&gt;line 54: JdbcTemplate jdbc = new JdbcTemplate();&lt;br/&gt;
line 55: String[] s = (String[]) jdbc.queryForObject&lt;/p&gt;</comment>
                            <comment id="11252" author="juergen.hoeller" created="Sat, 9 Oct 2004 21:04:41 +0000"  >&lt;p&gt;Thanks for spotting this - I&apos;ve just added corresponding assertions. This is not a silly TODO at all, so please keep reporting such things &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The problem here is that JdbcTemplate can be configured as bean, using the default constructor plus multiple setter calls. Configuration checking will then just happen in afterPropertiesSet(), which you haven&apos;t called... You do get eager checking when using JdbcTemplate(DataSource), just not with the default constructor.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years, 12 weeks, 4 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 9 Oct 2004 21:04:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01fp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8420</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>