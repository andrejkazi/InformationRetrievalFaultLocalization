<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 21:31:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-12749/SPR-12749.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-12749] Favor more locally declared composed annotations over inherited annotations in the TestContext framework</title>
                <link>https://jira.spring.io/browse/SPR-12749</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;Specific case: a test class is annotated with a meta annotation that itself is annotated with a TestExecutionListeners annotation, and the test class also extends a parent class annotated with a TestExecutionListeners annotation (say AbstractJunit4SpringContextTests).&lt;/p&gt;

&lt;p&gt;In this case, MetaAnnotationUtils.findAnnotationDescriptor returns a AnnotationDescriptor class that is correct on all of its fields, except for getAnnotationAttributes(), which is incorrectly returning the attributes of the TestExecutionListeners from the parent class, rather than the meta annotation, which is incorrect based on the description of MetaAnnotationUtils.findAnnotationDescriptor:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The algorithm operates as follows:&lt;/p&gt;

&lt;p&gt;Search for the annotation on the given class and return a corresponding AnnotationDescriptor if found.&lt;br/&gt;
Recursively search through all annotations that the given class declares.&lt;br/&gt;
Recursively search through the superclass hierarchy of the given class.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The net result being the test framework does not pick up my declared TestExecutionListeners from the meta annotation any time a parent of the Test class also declares TestExecutionListeners.  I added a spring-framework-issues reproducible project to demonstrate the issue.&lt;/p&gt;</description>
            <key id="62373">SPR-12749</key>
            <summary>Favor more locally declared composed annotations over inherited annotations in the TestContext framework</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sbrannen">Sam Brannen</assignee>
                                    <reporter username="daviderickson">David Erickson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Feb 2015 00:23:18 +0000</created>
                <updated>Thu, 3 Dec 2015 17:03:24 +0000</updated>
                            <resolved>Wed, 22 Apr 2015 17:47:33 +0000</resolved>
                                    <version>4.1.4</version>
                                    <fixVersion>4.2 RC1</fixVersion>
                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="112750" author="sbrannen" created="Tue, 24 Feb 2015 04:56:47 +0000"  >&lt;p&gt;I will investigate this issue in detail in the coming weeks; however, please note that this is very likely a duplicate of &lt;a href=&quot;https://jira.spring.io/browse/SPR-11598&quot; title=&quot;Favor more locally declared composed annotations over inherited annotations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-11598&quot;&gt;&lt;del&gt;SPR-11598&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="112767" author="daviderickson" created="Tue, 24 Feb 2015 07:54:03 +0000"  >&lt;p&gt;Agreed, it does sound very similar.&lt;/p&gt;</comment>
                            <comment id="114838" author="sbrannen" created="Wed, 22 Apr 2015 17:47:23 +0000"  >&lt;p&gt;Although &lt;a href=&quot;https://jira.spring.io/browse/SPR-11598&quot; title=&quot;Favor more locally declared composed annotations over inherited annotations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-11598&quot;&gt;&lt;del&gt;SPR-11598&lt;/del&gt;&lt;/a&gt; will cover such support in a generic fashion across the framework, I have already implemented a fix that is local to the &lt;tt&gt;spring-test&lt;/tt&gt; module as described in the comments for &lt;a href=&quot;https://github.com/spring-projects/spring-framework/commit/69b0791926b44ba59b32077b8574fe7db92e895e&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;GitHub commit 69b0791&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;b&gt;Favor local, composed annotations in the TCF&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;Prior to this commit, AnnotationAttributes retrieved from&lt;br/&gt;
MetaAnnotationUtils&apos;s AnnotationDescriptor could contain attributes&lt;br/&gt;
from the wrong annotation if an inherited annotation shadowed a locally&lt;br/&gt;
declared composed annotation.&lt;/p&gt;

&lt;p&gt;This commit addresses this issue by invoking the new&lt;br/&gt;
getAnnotationAttributes() method in AnnotatedElementUtils that provides&lt;br/&gt;
a flag to control whether superclasses should be searched &amp;#8211; which&lt;br/&gt;
coincidentally processes local annotations before searching the class&lt;br/&gt;
hierarchy.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="66662">SPR-13670</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="66920">SPR-13748</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10151">
                    <name>Relate</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="56703">SPR-11598</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        1 year, 35 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Feb 2015 04:56:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>sbrannen</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0881z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10120" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Reference URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/spring-projects/spring-framework-issues/pull/92]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>