<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:45:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-3785/SPR-3785.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-3785] Add defaultObject attribute to &lt;jee:jndi-lookup&gt; tag</title>
                <link>https://jira.spring.io/browse/SPR-3785</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;A defaultObject property of JndiObjectFactoryBean is not available via otherwise perfect &amp;lt;jee:jndi-lookup&amp;gt; tag and this makes it unusable when looking for optional JNDI settings.&lt;/p&gt;</description>
            <key id="17661">SPR-3785</key>
            <summary>Add defaultObject attribute to &lt;jee:jndi-lookup&gt; tag</summary>
                <type id="4" iconUrl="https://jira.spring.io/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="cbeams">Chris Beams</assignee>
                                    <reporter username="sher">Roman Shevchenko</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Aug 2007 05:17:56 +0000</created>
                <updated>Fri, 6 Aug 2010 03:32:01 +0000</updated>
                            <resolved>Fri, 6 Aug 2010 03:31:23 +0000</resolved>
                                    <version>2.0.6</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                    <timeoriginalestimate seconds="0">0d</timeoriginalestimate>
                            <timeestimate seconds="0">0d</timeestimate>
                                        <comments>
                            <comment id="56463" author="tristan107" created="Fri, 6 Aug 2010 00:00:46 +0000"  >&lt;p&gt;It&apos;s strange nobody comments this issue...  Nobody use Spring with JEE ?&lt;/p&gt;

&lt;p&gt;This is a duplicate with &lt;a href=&quot;https://jira.springsource.org/browse/SPR-4012&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://jira.springsource.org/browse/SPR-4012&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But here is a way to use &amp;lt;jee:jndi-lookup&amp;gt; with JUnit tests without default local Datasource value :&lt;/p&gt;

&lt;p&gt;Just initialize a new InitialContext with datasource references in your TestCase setup methods :&lt;/p&gt;

&lt;p&gt;import javax.naming.Context;&lt;br/&gt;
import javax.naming.InitialContext;&lt;br/&gt;
import javax.naming.NamingException;&lt;br/&gt;
import javax.naming.Reference;&lt;br/&gt;
import javax.naming.StringRefAddr;&lt;/p&gt;

&lt;p&gt;public class JndiDatasourceCreator {&lt;/p&gt;

&lt;p&gt;	/** constants datasource */&lt;br/&gt;
	private static final String url = &quot;jdbc:mysql://localhost:3306/des_geeks?autoReconnect=true&quot;;&lt;br/&gt;
	private static final String username = &quot;root&quot;;&lt;br/&gt;
	private static final String password = &quot;&quot;;&lt;br/&gt;
	private static final String jndiName = &quot;dbGeeks&quot;;&lt;/p&gt;

&lt;p&gt;	public static void create() throws Exception {&lt;br/&gt;
		try &lt;/p&gt;
{
			// initialisation du contexte
			System.setProperty(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.fscontext.RefFSContextFactory&quot;);
			InitialContext context = new InitialContext();

			// cr&#233;ation d&apos;une r&#233;f&#233;rence sur la DataSource
			Reference reference = new Reference(&quot;javax.sql.DataSource&quot;, &quot;org.apache.commons.dbcp.BasicDataSourceFactory&quot;, null);
			reference.add(new StringRefAddr(&quot;driverClassName&quot;, &quot;com.mysql.jdbc.Driver&quot;));
			reference.add(new StringRefAddr(&quot;url&quot;, url));
			reference.add(new StringRefAddr(&quot;username&quot;, username));
			reference.add(new StringRefAddr(&quot;password&quot;, password));
			// liaison de la DataSource au contexte
			context.rebind(&quot;jdbc/&quot; + jndiName, reference);
		}
&lt;p&gt; catch (NamingException ex) &lt;/p&gt;
{
			ex.printStackTrace();
		}
&lt;p&gt;	}&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Source (in french) : &lt;a href=&quot;http://desgeeksetdeslettres.com/blog/programmation-java/junit-test-unitaire-hors-conteneur-j2ee-avec-spring-et-jndi&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://desgeeksetdeslettres.com/blog/programmation-java/junit-test-unitaire-hors-conteneur-j2ee-avec-spring-et-jndi&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="56471" author="cbeams" created="Fri, 6 Aug 2010 03:31:17 +0000"  >&lt;p&gt;In reply to comment #1:&lt;br/&gt;
&amp;gt; It&apos;s strange nobody comments this issue...  Nobody use Spring with JEE ?&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; This is a duplicate with &lt;a href=&quot;https://jira.springsource.org/browse/SPR-4012&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://jira.springsource.org/browse/SPR-4012&lt;/a&gt;&lt;br/&gt;
&amp;gt; &lt;br/&gt;
&amp;gt; But here is a way to use &amp;lt;jee:jndi-lookup&amp;gt; with JUnit tests without default&lt;br/&gt;
&amp;gt; local Datasource value ...&lt;/p&gt;

&lt;p&gt;@tristan, is there something about &lt;a href=&quot;https://jira.spring.io/browse/SPR-4012&quot; title=&quot;jee:jndi-lookup do not provide a way to define a default object&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-4012&quot;&gt;&lt;del&gt;SPR-4012&lt;/del&gt;&lt;/a&gt; that does not meet your needs?  Resolving this issue as a duplicate (thanks for pointing that out); if there&apos;s some additional behavior you&apos;re looking for, feel free to re-open this issue or create a new one.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="18325">SPR-4012</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        6 years, 20 weeks, 6 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 6 Aug 2010 00:00:46 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i027sf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12971</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>