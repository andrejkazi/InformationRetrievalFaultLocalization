<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 21:01:58 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-1867/SPR-1867.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-1867] AOP changes the type of proxy used for advised beans.</title>
                <link>https://jira.spring.io/browse/SPR-1867</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;This test:&lt;/p&gt;

&lt;p&gt;public class A_Test extends TestCase {&lt;br/&gt;
	BeanFactory bFac;&lt;br/&gt;
	protected void setUp() throws Exception &lt;/p&gt;
{
		  bFac = new ClassPathXmlApplicationContext(&quot;com/bmd/menu/aspect/A_TestContext.xml&quot;);
	}
&lt;p&gt;	public void test() &lt;/p&gt;
{
		A_TestBean tb = (A_TestBean) bFac.getBean(&quot;testBean&quot;);
		tb.testMethod();
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Fails with a ClassCastException if A_TestBean implements an interface and is advised.&lt;br/&gt;
It succeed if&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;I remove the &amp;lt;aop:config&amp;gt;&lt;/li&gt;
	&lt;li&gt;Set proxyTargetClass=&quot;false&quot; in the &amp;lt;aop:config&amp;gt; tag&lt;/li&gt;
	&lt;li&gt;A_TestBean dosn&apos;t implement any interface.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;ll attach source- and configuration files.&lt;/p&gt;</description>
            <key id="13698">SPR-1867</key>
            <summary>AOP changes the type of proxy used for advised beans.</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robh">Rob Harrop</assignee>
                                    <reporter username="clanie">Claus Nielsen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Apr 2006 22:54:23 +0000</created>
                <updated>Mon, 10 Apr 2006 20:42:00 +0000</updated>
                            <resolved>Mon, 10 Apr 2006 20:42:00 +0000</resolved>
                                    <version>2.0 M3</version>
                                    <fixVersion>2.0 M4</fixVersion>
                                    <component>Core:AOP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="17093" author="juergen.hoeller" created="Sat, 8 Apr 2006 10:48:22 +0000"  >&lt;p&gt;I assume you mean that it succeeds if you specify proxyTargetClass=&quot;true&quot; (not &quot;false&quot;)?&lt;/p&gt;

&lt;p&gt;This would be expected behavior: The default behavior is to create a JDK proxy if the target bean implements an interface, that is, to only create a CGLIB proxy if absolutely necessary. A CGLIB proxy can be enforced through proxyTargetClass=&quot;true&quot;.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="17136" author="robh" created="Mon, 10 Apr 2006 20:42:00 +0000"  >&lt;p&gt;Claus,&lt;/p&gt;

&lt;p&gt;As Juergen says, this is working as expected. By default, the AOP framework will create JDK proxies which implement the interfaces of your components. In common use cases with Spring this works as desired since all component dependencies are expressed via interfaces.&lt;/p&gt;

&lt;p&gt;To ensure concrete type compatibility set the &apos;proxy-target-class&apos; attribute of &apos;aop:config&apos; to &apos;true&apos;.&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="11551" name="A_Test.java" size="527" author="clanie" created="Thu, 6 Apr 2006 22:56:51 +0000"/>
                            <attachment id="11552" name="A_TestAdvice.java" size="188" author="clanie" created="Thu, 6 Apr 2006 22:56:51 +0000"/>
                            <attachment id="11553" name="A_TestBean.java" size="125" author="clanie" created="Thu, 6 Apr 2006 22:56:51 +0000"/>
                            <attachment id="11554" name="A_TestBeanIF.java" size="107" author="clanie" created="Thu, 6 Apr 2006 22:57:52 +0000"/>
                            <attachment id="11555" name="A_TestContext.xml" size="830" author="clanie" created="Thu, 6 Apr 2006 22:57:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 38 weeks, 3 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 8 Apr 2006 10:48:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04vbz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>