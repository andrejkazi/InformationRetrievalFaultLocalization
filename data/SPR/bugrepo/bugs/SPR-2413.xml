<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:48:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2413/SPR-2413.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2413] NPE with TransactionAttributeSourceAdvisor.TransactionAttributeSourcePointcut when debug enabled</title>
                <link>https://jira.spring.io/browse/SPR-2413</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;Upgrading from 2.0RC2 to 2.0RC3; aside from a couple of moved classes, everything went smooth, until we turned on DEBUG for org.springframework.&lt;/p&gt;

&lt;p&gt;This resulting in a NPE:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionAttributeSourceAdvisor$TransactionAttributeSourcePointcut.getTransactionAttributeSource(TransactionAttributeSourceAdvisor.java:102)&lt;br/&gt;
	at org.springframework.transaction.interceptor.TransactionAttributeSourceAdvisor$TransactionAttributeSourcePointcut.hashCode(TransactionAttributeSourceAdvisor.java:121)&lt;br/&gt;
	at java.lang.Object.toString(Object.java:209)&lt;br/&gt;
	at java.lang.String.valueOf(String.java:2615)&lt;br/&gt;
	at java.lang.StringBuffer.append(StringBuffer.java:220)&lt;br/&gt;
	at org.springframework.aop.support.AbstractPointcutAdvisor.toString(AbstractPointcutAdvisor.java:71)&lt;br/&gt;
	at java.lang.String.valueOf(String.java:2615)&lt;br/&gt;
	at java.lang.StringBuffer.append(StringBuffer.java:220)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:383)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:242)&lt;/p&gt;

&lt;p&gt;...the bean that triggered this was:&lt;/p&gt;

&lt;p&gt; &amp;lt;bean id=&quot;apTransactionAttributeSourceAdvisor&quot;&lt;br/&gt;
        class=&quot;org.springframework.transaction.interceptor.TransactionAttributeSourceAdvisor&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;transactionInterceptor&quot; ref=&quot;apTxInterceptor&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;classFilter&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;bean class=&quot;org.springframework.aop.aspectj.TypePatternClassFilter&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;property name=&quot;typePattern&quot; value=&quot;bridges.authPortal..*&quot; /&amp;gt;&lt;br/&gt;
            &amp;lt;/bean&amp;gt;&lt;br/&gt;
        &amp;lt;/property&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;It looks like AbstractAutowireCapableBeanFactory logs a debug message (line 383) &quot;Eagerly caching...&quot;, which forces a toString on the instantiated bean; since the TransactionAttributeSourceAdvisor.TransactionAttributeSourcePointcut does not have a toString() method, it uses Object.toString, which calls hashCode(), triggering the NPE (as the interceptor hasn&apos;t been injected yet).&lt;/p&gt;

&lt;p&gt;Possible solutions are to remove the hashCode (presumably it is there for a reason though) or add a toString() method to TransactionAttributeSourceAdvisor.TransactionAttributeSourcePointcut&lt;/p&gt;
</description>
            <key id="14739">SPR-2413</key>
            <summary>NPE with TransactionAttributeSourceAdvisor.TransactionAttributeSourcePointcut when debug enabled</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="chrislee">Chris Lee</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Aug 2006 05:29:33 +0000</created>
                <updated>Tue, 19 Jun 2012 03:50:19 +0000</updated>
                            <resolved>Mon, 14 Aug 2006 10:15:37 +0000</resolved>
                                    <version>2.0 RC3</version>
                                    <fixVersion>2.0 RC4</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="19044" author="tommack" created="Mon, 14 Aug 2006 09:23:42 +0000"  >&lt;p&gt;Just ran into this today. My workaround was to specify the interceptor as a constructor argument.&lt;/p&gt;</comment>
                            <comment id="19045" author="juergen.hoeller" created="Mon, 14 Aug 2006 10:15:37 +0000"  >&lt;p&gt;Thanks for pointing this out! This is fixed in CVS HEAD and should be available in the next nightly snapshot.&lt;/p&gt;

&lt;p&gt;We will now run our test suite with log level debug as part of our immediate pre-release tests. Previously, we only ran it at debug level from time to time - which can let nasty bugs like the present one slip through.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="19184" author="kwright" created="Wed, 23 Aug 2006 06:07:20 +0000"  >&lt;p&gt;I came across the same bug in RC3.  I verified that it is working on the HEAD.  Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="14863">SPR-2503</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="14740">SPR-2414</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="14884">SPR-2516</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="14979">SPR-2588</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 19 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 14 Aug 2006 09:23:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04ucn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28291</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>