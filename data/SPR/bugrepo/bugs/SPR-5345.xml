<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 21:08:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-5345/SPR-5345.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-5345] AbstractApplicationContext.isActive() out of sync with multicaster</title>
                <link>https://jira.spring.io/browse/SPR-5345</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;In AbstractApplicationContext the isActive flag is set in prepareRefresh(), however the multicaster is not initialized until later in refresh(), thus if you have error handling code which does:&lt;/p&gt;

&lt;p&gt;if (context.isActive()) {&lt;br/&gt;
  context.close(); &lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;you end up with this error:&lt;/p&gt;

&lt;p&gt;&amp;lt;09-Dec-2008 11:00:32 o&apos;clock GMT&amp;gt; &amp;lt;Error&amp;gt; &amp;lt;org.springframework.osgi.context.sup&lt;br/&gt;
port.OsgiBundleXmlApplicationContext&amp;gt; &amp;lt;BEA-000000&amp;gt; &amp;lt;Exception thrown from Applic&lt;br/&gt;
ationListener handling ContextClosedEvent&lt;br/&gt;
java.lang.IllegalStateException: ApplicationEventMulticaster not initialized - c&lt;br/&gt;
all &apos;refresh&apos; before multicasting events via the context: org.springframework.os&lt;br/&gt;
gi.context.support.OsgiBundleXmlApplicationContext@9d4d84: display name [OsgiBun&lt;br/&gt;
dleXmlApplicationContext(bundle=helloworld, config=osgibundle:/META-INF/spring/*&lt;br/&gt;
.xml)]; startup date &lt;span class=&quot;error&quot;&gt;&amp;#91;Tue Dec 09 11:00:31 GMT 2008&amp;#93;&lt;/span&gt;; root of context hierarchy&lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.getApp&lt;br/&gt;
licationEventMulticaster(AbstractApplicationContext.java:287)&lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.publis&lt;br/&gt;
hEvent(AbstractApplicationContext.java:274)&lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.doClos&lt;br/&gt;
e(AbstractApplicationContext.java:819)&lt;br/&gt;
        at org.springframework.osgi.context.support.AbstractOsgiBundleApplicatio&lt;br/&gt;
nContext.doClose(AbstractOsgiBundleApplicationContext.java:206)&lt;br/&gt;
        at org.springframework.osgi.context.support.AbstractDelegatedExecutionAp&lt;br/&gt;
plicationContext.access$501(AbstractDelegatedExecutionApplicationContext.java:68&lt;br/&gt;
)&lt;br/&gt;
        at org.springframework.osgi.context.support.AbstractDelegatedExecutionAp&lt;br/&gt;
plicationContext$2.run(AbstractDelegatedExecutionApplicationContext.java:217)&lt;br/&gt;
        at org.springframework.osgi.util.internal.PrivilegedUtils.executeWithCus&lt;br/&gt;
tomTCCL(PrivilegedUtils.java:85)&lt;br/&gt;
        at org.springframework.osgi.context.support.AbstractDelegatedExecutionAp&lt;br/&gt;
plicationContext.normalClose(AbstractDelegatedExecutionApplicationContext.java:2&lt;br/&gt;
13)&lt;br/&gt;
        at org.springframework.osgi.extender.internal.dependencies.startup.Depen&lt;br/&gt;
dencyWaiterApplicationContextExecutor.close(DependencyWaiterApplicationContextEx&lt;br/&gt;
ecutor.java:345)&lt;br/&gt;
        at org.springframework.osgi.context.support.AbstractDelegatedExecutionAp&lt;br/&gt;
plicationContext.doClose(AbstractDelegatedExecutionApplicationContext.java:228)&lt;br/&gt;
        at org.springframework.context.support.AbstractApplicationContext.close(&lt;br/&gt;
AbstractApplicationContext.java:794)&lt;br/&gt;
        at org.springframework.osgi.extender.internal.activator.ContextLoaderLis&lt;br/&gt;
tener$3.run(ContextLoaderListener.java:832)&lt;br/&gt;
        at org.springframework.osgi.extender.internal.util.concurrent.RunnableTi&lt;br/&gt;
medExecution$MonitoredRunnable.run(RunnableTimedExecution.java:60)&lt;br/&gt;
        at org.springframework.scheduling.timer.DelegatingTimerTask.run(Delegati&lt;br/&gt;
ngTimerTask.java:66)&lt;br/&gt;
        at java.util.TimerThread.mainLoop(Timer.java:512)&lt;br/&gt;
        at java.util.TimerThread.run(Timer.java:462)&lt;/p&gt;

&lt;p&gt;Spring-DM has exactly this kind of code and fails in exactly this way.&lt;/p&gt;

&lt;p&gt;Either the event should be silently dropped or isActive should be set at the end of refresh()&lt;/p&gt;</description>
            <key id="25022">SPR-5345</key>
            <summary>AbstractApplicationContext.isActive() out of sync with multicaster</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="2">Won&apos;t Fix</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="andypiper">Andy Piper</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Dec 2008 22:06:43 +0000</created>
                <updated>Thu, 12 Feb 2009 09:31:14 +0000</updated>
                            <resolved>Thu, 12 Feb 2009 07:58:23 +0000</resolved>
                                    <version>2.5.6</version>
                                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="41546" author="andypiper" created="Wed, 10 Dec 2008 02:48:17 +0000"  >&lt;p&gt;I think this is a bug in Spring-DM which I have since fixed. You can probably close this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="25041">SPR-5348</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        8 years, 3 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i037mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18778</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>