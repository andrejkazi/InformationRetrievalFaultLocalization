<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:39:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-1629/SPR-1629.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-1629] AbstractResource and JarURLConnection</title>
                <link>https://jira.spring.io/browse/SPR-1629</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;AbstractResource&apos;s exist() has trouble closing an InputStream on a JarURLConnection:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at java.io.FilterInputStream.close(FilterInputStream.java:159)&lt;br/&gt;
	at sun.net.www.protocol.jar.JarURLConnection$JarURLInputStream.close(JarURLConnection.java:88)&lt;br/&gt;
	at org.springframework.core.io.AbstractResource.exists(AbstractResource.java:52)&lt;/p&gt;

&lt;p&gt;As a fix I&apos;d suggest handling NPE&apos;s the same way as the throwing of another IOException.&lt;/p&gt;</description>
            <key id="13169">SPR-1629</key>
            <summary>AbstractResource and JarURLConnection</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="jbar">Joern Barthel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Jan 2006 02:41:38 +0000</created>
                <updated>Tue, 19 Jun 2012 03:54:29 +0000</updated>
                            <resolved>Fri, 20 Jan 2006 09:45:30 +0000</resolved>
                                    <version>1.2.6</version>
                    <version>2.0 M1</version>
                                    <fixVersion>1.2.7</fixVersion>
                    <fixVersion>2.0 M2</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="16124" author="juergen.hoeller" created="Fri, 20 Jan 2006 09:45:30 +0000"  >&lt;p&gt;Now that is quite odd... the underlying InputStream doesn&apos;t seem to be set there. That&apos;s actually a weakness in the JDK&apos;s FilterInputStream class, or in the JAR reader&apos;s usage of that class... Anyway, thanks for pointing this out - we simply catch Throwable there now and return false in that case.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="16126" author="jbar" created="Fri, 20 Jan 2006 10:32:06 +0000"  >&lt;p&gt;Thanks, that was quick!&lt;/p&gt;</comment>
                            <comment id="41443" author="asafm" created="Thu, 4 Dec 2008 03:29:08 +0000"  >&lt;p&gt;Guys,&lt;br/&gt;
returning false is not the right move here.&lt;/p&gt;

&lt;p&gt;If you create a ClassPathResource on a &lt;b&gt;directory&lt;/b&gt; that resides inside a JAR, exists() returns false, although it does exists.&lt;/p&gt;

&lt;p&gt;It seems that in the following code:&lt;br/&gt;
	public boolean exists() {&lt;br/&gt;
		// Try file existence: can we find the file in the file system?&lt;br/&gt;
		try &lt;/p&gt;
{
			return getFile().exists();
		}
&lt;p&gt;		catch (IOException ex) {&lt;br/&gt;
			// Fall back to stream existence: can we open the stream?&lt;br/&gt;
			try &lt;/p&gt;
{
				InputStream is = getInputStream();
				is.close();
				return true;
			}
&lt;p&gt;			catch (Throwable isEx) &lt;/p&gt;
{
				return false;
			}
&lt;p&gt;		}&lt;br/&gt;
	}&lt;/p&gt;

&lt;p&gt;when the resource is a directory in a JAR file, the &apos;is&apos; variable has an input stream object, which its inner variable &apos;in&apos; is null, thus when calling is.close() it throws a NullPointerException, which leads to returning false instead of true, since we actually HAVE an input stream, thus it exists.&lt;/p&gt;

&lt;p&gt;I think that is.close() should be done inside a finally with a try catch inside it, which ignores an exception if close failed.&lt;br/&gt;
If getInputStream returned an inputStream that means that resource exists, whether its a directory or file, whether its in a JAR or in the file system.&lt;/p&gt;

&lt;p&gt;I&apos;m using my own version of exists() until you will fix this bug.&lt;/p&gt;


</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        8 years, 4 weeks ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 20 Jan 2006 09:45:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04s13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27915</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>