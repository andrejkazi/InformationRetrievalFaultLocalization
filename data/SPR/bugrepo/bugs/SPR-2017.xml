<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 18:34:42 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2017/SPR-2017.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2017] OptionTag doesn&apos;t &quot;reselect&quot; the selected list item</title>
                <link>https://jira.spring.io/browse/SPR-2017</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;The following HTML snippets (&quot;old-style&quot; and &quot;new-style&quot;) should output the same HTML before and after submitting the form:&lt;/p&gt;


&lt;p&gt;&quot;old-style&quot;:&lt;/p&gt;

&lt;p&gt;&amp;lt;form action=&quot;&quot; method=&quot;POST&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;spring:bind path=&quot;command.user.role&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;select name=&quot;user.role&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;option&amp;gt;&amp;lt;/option&amp;gt;&lt;br/&gt;
            &amp;lt;c:forEach items=&quot;$&lt;/p&gt;
{roles}&quot; var=&quot;role&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;option value=&quot;&amp;lt;c:out value=&quot;${role.id}&quot;/&amp;gt;&quot;&amp;lt;c:if test=&quot;${role.id == status.value}&quot;&amp;gt; selected=&quot;selected&quot;&amp;lt;/c:if&amp;gt;&amp;gt;&amp;lt;c:out value=&quot;${role.name}&quot;/&amp;gt;&amp;lt;/option&amp;gt;&lt;br/&gt;
            &amp;lt;/c:forEach&amp;gt;&lt;br/&gt;
        &amp;lt;/select&amp;gt;&lt;br/&gt;
    &amp;lt;/spring:bind&amp;gt;&lt;br/&gt;
&amp;lt;/form&amp;gt;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&quot;new-style&quot;:&lt;br/&gt;
&amp;lt;form:form commandName=&quot;command&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;form:select path=&quot;user.role&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;form:option value=&quot;&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;form:options items=&quot;${roles}
&lt;p&gt;&quot; itemLabel=&quot;name&quot; itemValue=&quot;id&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/form:select&amp;gt;&lt;br/&gt;
&amp;lt;/form:form&amp;gt;&lt;/p&gt;



&lt;p&gt;My problem is, that the &quot;new-style&quot; doesn&apos;t work. The roles get displayed correctly and the controller received the correctly mapped role, but if the form gets redisplayed (e.g. because of validation errors), the &quot;new-style&quot; doesn&apos;t reselect the sent role.&lt;/p&gt;

&lt;p&gt;$&lt;/p&gt;
{roles}
&lt;p&gt; is a Set of JavaBeans&lt;/p&gt;

&lt;p&gt;Bug or my fault?&lt;/p&gt;</description>
            <key id="13973">SPR-2017</key>
            <summary>OptionTag doesn&apos;t &quot;reselect&quot; the selected list item</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robh">Rob Harrop</assignee>
                                    <reporter username="ojs">Oliver Siegmar</reporter>
                        <labels>
                    </labels>
                <created>Mon, 15 May 2006 02:25:24 +0000</created>
                <updated>Tue, 19 Jun 2012 03:52:47 +0000</updated>
                            <resolved>Wed, 31 May 2006 00:21:52 +0000</resolved>
                                    <version>2.0 M4</version>
                                    <fixVersion>2.0 M5</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="17641" author="ojs" created="Mon, 15 May 2006 18:33:48 +0000"  >&lt;p&gt;This patch should fix this issue. The question is, if you want to apply it, because it wasn&apos;t a bug. The problem arises if the objects of the collection (for the select box) haven&apos;t overridden the equals() method. The PropertyEditor-based comparison in SelectedValueComparator compared by object equality. My patch compares the getAsText() strings.&lt;/p&gt;

&lt;p&gt;If you think the code should remain as it is, a &lt;em&gt;BIG&lt;/em&gt; notice should go into documentation that object have to override equals() to be &quot;spring-form-select compatible&quot;.&lt;/p&gt;</comment>
                            <comment id="18480" author="dsurber" created="Sun, 9 Jul 2006 12:10:59 +0000"  >&lt;p&gt;I would have thought the compare would use the itemValue property of the items. If the value of the itemValue property of two items is the same, then they are indistinguishable in a select list since that value is what is passed as the value of the select. JMHO.&lt;/p&gt;

&lt;p&gt;I have constraints on my equals function imposed by Hibernate. I&apos;m trying to figure out how to solve this problem and still respect the constraints Hibernate imposes. I had assumed that the itemValue was used for the compare until I found this bug.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="11641" name="value_compare.patch" size="1137" author="ojs" created="Mon, 15 May 2006 18:33:48 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 25 weeks, 4 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 9 Jul 2006 12:10:59 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0194f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7355</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>