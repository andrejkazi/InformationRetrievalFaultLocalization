<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 18:59:34 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-597/SPR-597.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-597] JmsTemplate not working with JTA</title>
                <link>https://jira.spring.io/browse/SPR-597</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;As stated in the topics &quot;Can JTA and JMS work together ?&quot; and &quot;WebSphere + JMS + XA&quot; in the Spring Forum &quot;Remoting and JMS&quot; there is a problem when using JmsTemplate within a global transaction.&lt;br/&gt;
In JmsTemplate doSend() line 608:&lt;/p&gt;

&lt;p&gt;if (session.getTransacted() &amp;amp;&amp;amp; !TransactionSynchronizationManager.hasResource(getConnectionFactory())) {&lt;br/&gt;
// transacted session created by this template -&amp;gt; commit&lt;br/&gt;
session.commit();&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;The second condition always returns true because TransactionSynchronizationManager.bind() is not called anywhere. Therefore the session is committed locally which throws an IllegalStateException: &quot;Method not permitted in global transaction&quot; under WebSphere MQ.&lt;br/&gt;
Similar problem in doReceive().&lt;/p&gt;</description>
            <key id="10951">SPR-597</key>
            <summary>JmsTemplate not working with JTA</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="brawetz">Branimir Wetzstein</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Jan 2005 21:09:13 +0000</created>
                <updated>Thu, 6 Jan 2005 06:01:24 +0000</updated>
                            <resolved>Thu, 6 Jan 2005 06:01:24 +0000</resolved>
                                    <version>1.1.3</version>
                                    <fixVersion>1.1.4</fixVersion>
                                    <component>Transaction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="11925" author="juergen.hoeller" created="Thu, 6 Jan 2005 06:01:24 +0000"  >&lt;p&gt;Thanks for the report! Indeed, explicit commit calls are inappropriate within global transactions, and the JMS spec suggests that they should throw an exception. That check in JmsTemplate was meant for local transactions started by the template itself...&lt;/p&gt;

&lt;p&gt;I&apos;ve just fixed this by adding corresponding checks, both in doSend and doReceive. I&apos;ll commit this tonight, so feel free to give the next nightly snapshot a try (&lt;a href=&quot;http://www.springframework.org/downloads/nightly&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/downloads/nightly&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 6 Jan 2005 06:01:24 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04xqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28839</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>