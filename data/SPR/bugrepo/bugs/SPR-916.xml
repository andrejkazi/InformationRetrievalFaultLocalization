<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 18:06:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-916/SPR-916.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-916] Inherited inner bean definition requires name</title>
                <link>https://jira.spring.io/browse/SPR-916</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I tried to create an anonymous inner bean in my Spring configuration that inherited properties from a parent bean, but Spring would not allow it.  Spring insisted that a bean name was required, even though it typically is not required for inner beans.  Here is the configuration that caused the error:&lt;/p&gt;

&lt;p&gt;&amp;lt;bean&lt;br/&gt;
  name=&quot;groupPermissionsUpgradeTask&quot;&lt;br/&gt;
  class=&quot;com.spider.scoreboard.framework.upgrade.upgrades.GroupPermissionsUpgradeTask&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;property name=&quot;versionNumber&quot; value=&quot;1.4.4.0&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;property name=&quot;rowMapResultSetExtractor&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;bean parent=&quot;rowMapResultSetExtractor&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;property name=&quot;keyType&quot; value=&quot;java.lang.Integer&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;property name=&quot;valueType&quot; value=&quot;java.lang.Integer&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;Here is the error:&lt;/p&gt;

&lt;p&gt;org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;groupPermissionsUpgradeTask&apos; defined in file &lt;span class=&quot;error&quot;&gt;&amp;#91;c:\eclipse\workspace\Scoreboard 1.5\web\WEB-INF\applicationContext-upgrade.xml&amp;#93;&lt;/span&gt;: Initialization of bean failed; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &apos;rowMapResultSetExtractor&apos; is defined: Parent name &apos;rowMapResultSetExtractor&apos; is equal to bean name &apos;rowMapResultSetExtractor&apos; - cannot be resolved without an AbstractBeanFactory parent&lt;br/&gt;
org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &apos;rowMapResultSetExtractor&apos; is defined: Parent name &apos;rowMapResultSetExtractor&apos; is equal to bean name &apos;rowMapResultSetExtractor&apos; - cannot be resolved without an AbstractBeanFactory parent&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedBeanDefinition(AbstractBeanFactory.java:672)&lt;br/&gt;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBeanDefinition(BeanDefinitionValueResolver.java:146)&lt;br/&gt;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:96)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:891)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:707)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:316)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:222)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:146)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:534)&lt;br/&gt;
	at com.spider.scoreboard.framework.Launcher.launch(Launcher.java:71)&lt;br/&gt;
	at com.spider.scoreboard.framework.Launcher.launch(Launcher.java:47)&lt;br/&gt;
	at com.spider.scoreboard.framework.upgrade.upgrades.GroupPermissionsUpgradeTask.main(GroupPermissionsUpgradeTask.java:83)&lt;/p&gt;


&lt;p&gt;The workaround is simple, just give the inner bean a name.  Here is a configuration that works:&lt;/p&gt;

&lt;p&gt;&amp;lt;bean&lt;br/&gt;
  name=&quot;groupPermissionsUpgradeTask&quot;&lt;br/&gt;
  class=&quot;com.spider.scoreboard.framework.upgrade.upgrades.GroupPermissionsUpgradeTask&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;property name=&quot;versionNumber&quot; value=&quot;1.4.4.0&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;property name=&quot;rowMapResultSetExtractor&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;bean&lt;br/&gt;
      name=&quot;integerKeyAndValueRowMapResultSetExtractor&quot;&lt;br/&gt;
      parent=&quot;rowMapResultSetExtractor&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;property name=&quot;keyType&quot; value=&quot;java.lang.Integer&quot;/&amp;gt;&lt;br/&gt;
      &amp;lt;property name=&quot;valueType&quot; value=&quot;java.lang.Integer&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/bean&amp;gt;&lt;br/&gt;
  &amp;lt;/property&amp;gt;&lt;br/&gt;
&amp;lt;/bean&amp;gt;&lt;/p&gt;</description>
            <key id="11524">SPR-916</key>
            <summary>Inherited inner bean definition requires name</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="sgarlatm">Matthew Sgarlata</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 May 2005 06:18:20 +0000</created>
                <updated>Mon, 18 Jul 2005 06:13:05 +0000</updated>
                            <resolved>Wed, 18 May 2005 04:10:19 +0000</resolved>
                                    <version>1.2 RC1</version>
                                    <fixVersion>1.2 final</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13179" author="juergen.hoeller" created="Thu, 5 May 2005 22:24:16 +0000"  >&lt;p&gt;That&apos;s a bit odd: in general, a bean name should not be required. Have a look at the &amp;lt;bean parent=&quot;jenny&quot;&amp;gt; definiton in the in &quot;org/springframework/beans/factory/xml/reftypes.xml&quot; of our test suite, which tests exactly such a scenario... (so it seems)&lt;/p&gt;

&lt;p&gt;Please try to provide a minimal test case that reproduces that error message, and I&apos;ll be happy to track the root cause down!&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="13232" author="sgarlatm" created="Thu, 12 May 2005 08:05:34 +0000"  >&lt;p&gt;I took a look at the test case and indeed it does look like the situation I describe is tested in the test case.  I&apos;m thinking perhaps the issue is the fact that I am using multiple Spring XML configuration files.  How would I go about engineering or modifying a test that is performed using multiple configuration files instead of just one?&lt;/p&gt;

&lt;p&gt;Matt&lt;/p&gt;</comment>
                            <comment id="13241" author="d0gf" created="Sat, 14 May 2005 11:05:54 +0000"  >&lt;p&gt;org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &apos;rowMapResultSetExtractor&apos; is defined: Parent name &apos;rowMapResultSetExtractor&apos; is equal to bean name &apos;rowMapResultSetExtractor&apos; - cannot be resolved without an AbstractBeanFactory parent&lt;/p&gt;

&lt;p&gt;This exception made me think that actually bean name isn&apos;t required but there are two beans with the same name - parent and inner bean. When there is no bean name specified, it uses generated name (in org.springframework.beans.factory.xml.DefaultXmlBeanDefinitionParser.parseBeanDefinitionElement):&lt;/p&gt;

&lt;p&gt;if (!StringUtils.hasText(beanName) &amp;amp;&amp;amp; beanDefinition instanceof AbstractBeanDefinition) {&lt;br/&gt;
	beanName = BeanDefinitionReaderUtils.generateBeanName(&lt;br/&gt;
			(AbstractBeanDefinition) beanDefinition, this.beanDefinitionReader.getBeanFactory());&lt;br/&gt;
	if (logger.isDebugEnabled()) &lt;/p&gt;
{
		logger.debug(&quot;Neither XML &apos;id&apos; nor &apos;name&apos; specified - &quot; +
				&quot;using generated bean name [&quot; + beanName + &quot;]&quot;);
	}
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;The generated name is parent bean name (in this case &quot;rowMapResultSetExtractor&quot;). If the bean factory already contains a bean with such name, &quot;#&quot; and a number is appended to the generated name (in org.springframework.beans.factory.support.BeanDefinitionReaderUtilsgenerateBeanName):&lt;/p&gt;

&lt;p&gt;String generatedId = beanDefinition.getBeanClassName();&lt;br/&gt;
if (generatedId == null &amp;amp;&amp;amp; beanDefinition instanceof ChildBeanDefinition) {&lt;br/&gt;
	generatedId = ((ChildBeanDefinition) beanDefinition).getParentName();&lt;br/&gt;
}&lt;br/&gt;
// ...&lt;br/&gt;
int counter = 1;&lt;br/&gt;
String id = generatedId;&lt;br/&gt;
while (beanFactory.containsBeanDefinition(id)) {&lt;br/&gt;
	counter++;&lt;br/&gt;
	id = generatedId + GENERATED_BEAN_NAME_SEPARATOR + counter;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Your case may be that the bean factory doesn&apos;t contain the parent bean   definition is loaded after the child bean definition and a name conflict occurs. Correct me if I&apos;m wrong, i can&apos;t see different explanation to this name conflict.&lt;/p&gt;</comment>
                            <comment id="13252" author="sgarlatm" created="Tue, 17 May 2005 04:03:54 +0000"  >&lt;p&gt;Well I&apos;m not sure what was happening, but I just upgraded to Spring 1.2 final and this issue does not happen anymore.  I think it&apos;s time to just close this issue.  It really &lt;b&gt;did&lt;/b&gt; happen in an earlier version though.... I&apos;m not entering bogus reports for the hell of it &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Matt&lt;/p&gt;</comment>
                            <comment id="13264" author="juergen.hoeller" created="Wed, 18 May 2005 04:10:19 +0000"  >&lt;p&gt;OK, I&apos;ll simply mark it as fixed in 1.2 final then, whatever might have caused the fix &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="13915" author="sgarlatm" created="Mon, 18 Jul 2005 06:13:05 +0000"  >&lt;p&gt;FYI, I ran into the issue again in Spring 1.2 final.  I think the problem only occurs when the parent bean is in a different file than the child bean.&lt;/p&gt;

&lt;p&gt;Matt&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        11 years, 24 weeks, 3 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 5 May 2005 22:24:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03jjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20708</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>