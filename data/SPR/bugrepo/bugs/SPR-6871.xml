<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 21:08:45 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-6871/SPR-6871.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-6871] Spring MVC regression: binding to indexed properties is broken</title>
                <link>https://jira.spring.io/browse/SPR-6871</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;When you submit a form, with databinding on a command object with indexed properties, the indexed properties of the command object are not filled in.&lt;br/&gt;
I think this bug is related to the correction that happened in &lt;a href=&quot;https://jira.spring.io/browse/SPR-6840&quot; title=&quot;form:checkbox tag creates invalid HTML id when bound to indexed property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-6840&quot;&gt;&lt;del&gt;SPR-6840&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
The characters [ and ] are not only removed from the id attrbute of the HTML elements, but also (unnessesary) from the name attribute of the HTML elements.&lt;/p&gt;

&lt;p&gt;You can see it happening via next example.&lt;br/&gt;
When you type 10 and 20 in the input fields, the output to the console is: &lt;/p&gt;
{Belgium=null, Switzerland=null}
&lt;p&gt;while the output should have been &lt;/p&gt;
{Belgium=10, Switzerland=20}

&lt;p&gt;The class that acts as command object:&lt;br/&gt;
--------------------------------------&lt;br/&gt;
package org.example.entities;&lt;/p&gt;

&lt;p&gt;import java.util.LinkedHashMap;&lt;br/&gt;
import java.util.Map;&lt;/p&gt;

&lt;p&gt;public class Continent {&lt;br/&gt;
  // key = name of country&lt;br/&gt;
  // Integer= number of inhabitants&lt;br/&gt;
  private Map&amp;lt;String, Integer&amp;gt; countries = new LinkedHashMap&amp;lt;String, Integer&amp;gt;();&lt;/p&gt;

&lt;p&gt;  public Continent() &lt;/p&gt;
{
    countries.put(&quot;Belgium&quot;, null);
    countries.put(&quot;Switzerland&quot;, null);
  }

&lt;p&gt;  public void setCountries(Map&amp;lt;String, Integer&amp;gt; countries) &lt;/p&gt;
{
    this.countries = countries;
  }

&lt;p&gt;  public Map&amp;lt;String, Integer&amp;gt; getCountries() &lt;/p&gt;
{
    return countries;
  }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;The Controller class:&lt;br/&gt;
---------------------&lt;br/&gt;
package org.example.web;&lt;/p&gt;

&lt;p&gt;import org.example.entities.Continent;&lt;br/&gt;
import org.springframework.stereotype.Controller;&lt;br/&gt;
import org.springframework.ui.Model;&lt;br/&gt;
import org.springframework.validation.BindingResult;&lt;br/&gt;
import org.springframework.web.bind.annotation.ModelAttribute;&lt;br/&gt;
import org.springframework.web.bind.annotation.RequestMapping;&lt;br/&gt;
import org.springframework.web.bind.annotation.RequestMethod;&lt;/p&gt;

&lt;p&gt;@Controller&lt;br/&gt;
public class ContinentController {&lt;br/&gt;
  @RequestMapping(value = &quot;/continent.htm&quot;, method = RequestMethod.GET)&lt;br/&gt;
  public String continentForm(Model model) &lt;/p&gt;
{
    Continent continent = new Continent();
    model.addAttribute(continent);
    return &quot;continent.jsp&quot;;
  }

&lt;p&gt;  @RequestMapping(value = &quot;/continent.htm&quot;, method = RequestMethod.POST)&lt;br/&gt;
  public String continentForm(@ModelAttribute Continent continent,&lt;br/&gt;
      BindingResult bindingResult) &lt;/p&gt;
{
    System.out.println(continent.getCountries()); // Here you can see the bug
    return &quot;continent.jsp&quot;;
  }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;continent.jsp&lt;br/&gt;
-------------&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot; session=&quot;false&quot;%&amp;gt;&lt;br/&gt;
&amp;lt;%@taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot;%&amp;gt;&lt;br/&gt;
&amp;lt;%@taglib prefix=&quot;form&quot; uri=&quot;http://www.springframework.org/tags/form&quot;%&amp;gt;&lt;br/&gt;
&amp;lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot;&lt;br/&gt;
&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&amp;gt;&lt;br/&gt;
&amp;lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;nl&quot; lang=&quot;nl&quot;&amp;gt;&lt;br/&gt;
&amp;lt;head&amp;gt;&lt;br/&gt;
&amp;lt;title&amp;gt;Continent example&amp;lt;/title&amp;gt;&lt;br/&gt;
&amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt;&lt;br/&gt;
&amp;lt;form:form commandName=&quot;continent&quot;&amp;gt;&lt;br/&gt;
&amp;lt;c:forEach items=&quot;$&lt;/p&gt;
{continent.countries}
&lt;p&gt;&quot; var=&quot;entry&quot;&amp;gt;&lt;br/&gt;
&amp;lt;div&amp;gt;&lt;br/&gt;
&amp;lt;form:label path=&quot;countries[$&lt;/p&gt;
{entry.key}]&quot;&amp;gt;${entry.key}
&lt;p&gt;&amp;lt;/form:label&amp;gt;	&lt;br/&gt;
&amp;lt;form:input path=&quot;countries[$&lt;/p&gt;
{entry.key}]&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;form:errors path=&quot;countries[${entry.key}
&lt;p&gt;]&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/div&amp;gt;&lt;br/&gt;
&amp;lt;/c:forEach&amp;gt; &lt;br/&gt;
&amp;lt;div&amp;gt;&amp;lt;input type=&quot;submit&quot; /&amp;gt;&amp;lt;/div&amp;gt;&lt;br/&gt;
&amp;lt;/form:form&amp;gt;&lt;br/&gt;
&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;</description>
            <key id="30178">SPR-6871</key>
            <summary>Spring MVC regression: binding to indexed properties is broken</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="desmethans">Hans Desmet</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Feb 2010 20:38:30 +0000</created>
                <updated>Tue, 19 Jun 2012 03:42:58 +0000</updated>
                            <resolved>Sat, 20 Feb 2010 01:57:17 +0000</resolved>
                                    <version>3.0.1</version>
                                    <fixVersion>3.0.2</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>3</votes>
                                    <watches>8</watches>
                                                                <comments>
                            <comment id="51357" author="znbailey" created="Fri, 19 Feb 2010 06:39:37 +0000"  >&lt;p&gt;This is a rather grievous bug since it affects ALL form tags that contain these bracketed paths, which we use extensively throughout our application. For us, this would be considered a blocker-level bug since there is no reasonable workaround.&lt;/p&gt;</comment>
                            <comment id="51370" author="juergen.hoeller" created="Sat, 20 Feb 2010 01:57:17 +0000"  >&lt;p&gt;Ouch, that&apos;s a pretty bad regression that we unfortunately neither had a unit test nor an integration test for. Sorry for that - an unfortunate last-minute accident.&lt;/p&gt;

&lt;p&gt;I&apos;ve fixed this for 3.0.2 now. Should be available in tonight&apos;s 3.0.2 snapshot (build 591 and above). &lt;/p&gt;

&lt;p&gt;FYI, 3.0.2 is scheduled for release in early March already. Please use a snapshot for the time being and let us know whether it works for you.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="51379" author="znbailey" created="Sat, 20 Feb 2010 06:04:54 +0000"  >&lt;p&gt;Thanks for the quick turnaround, Juergen. I&apos;ll take a look at the snapshot and confirm the issue is fixed.&lt;/p&gt;</comment>
                            <comment id="51402" author="desmethans" created="Sun, 21 Feb 2010 18:04:40 +0000"  >&lt;p&gt;Tried it out with 3.0.2 snapshot (build 592). Problem solved.&lt;/p&gt;

&lt;p&gt;P.S. Problem in related &lt;a href=&quot;https://jira.spring.io/browse/SPR-6862&quot; title=&quot;form:error tag generates HTML id which contains [ and ], when bound to indexed property&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-6862&quot;&gt;&lt;del&gt;SPR-6862&lt;/del&gt;&lt;/a&gt; not yet solved&lt;/p&gt;</comment>
                            <comment id="51415" author="grant.gochnauer" created="Mon, 22 Feb 2010 03:06:07 +0000"  >&lt;p&gt;Juergen,&lt;/p&gt;

&lt;p&gt;Where can I find the nightly snapshot?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="51416" author="grant.gochnauer" created="Mon, 22 Feb 2010 03:11:38 +0000"  >&lt;p&gt;Nevermind, I found it: &lt;br/&gt;
&lt;a href=&quot;http://static.springsource.org/downloads/nightly/snapshot-download.php?project=SPR&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://static.springsource.org/downloads/nightly/snapshot-download.php?project=SPR&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="51528" author="grant.gochnauer" created="Thu, 25 Feb 2010 08:20:44 +0000"  >&lt;p&gt;There appears to be another issue with this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://fisheye.springsource.org/viewrep/spring-framework/trunk/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/tags/form/AbstractDataBoundFormElementTag.java?r1=2980&amp;amp;r2=3018&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://fisheye.springsource.org/viewrep/spring-framework/trunk/org.springframework.web.servlet/src/main/java/org/springframework/web/servlet/tags/form/AbstractDataBoundFormElementTag.java?r1=2980&amp;amp;r2=3018&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It appears that indexed properties when used on the &quot;id&quot; attribute are still stripped.&lt;/p&gt;

&lt;p&gt;Thus we would get something like:&lt;br/&gt;
&amp;lt;input id=&quot;promotionUser.formUserPropertyCodes&apos;user_type&apos;2&quot; name=&quot;promotionUser.formUserPropertyCodes&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;user_type&amp;#39;&amp;#93;&lt;/span&gt;&quot; type=&quot;radio&quot; value=&quot;543&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;Notice how &quot;ID&quot; has the stripped brackets but the name attribute does not.&lt;/p&gt;
</comment>
                            <comment id="51529" author="znbailey" created="Thu, 25 Feb 2010 08:24:46 +0000"  >&lt;p&gt;Grant,&lt;/p&gt;

&lt;p&gt;While I am not a core spring developer I am confident that is intended behavior, because if you look at the HTML/XHTML spec you will see that id attributes cannot contain bracket characters.&lt;/p&gt;</comment>
                            <comment id="51530" author="grant.gochnauer" created="Thu, 25 Feb 2010 08:30:30 +0000"  >&lt;p&gt;Zach,&lt;/p&gt;

&lt;p&gt;I suppose that is true but it does break backward compatibility with 3.0.0 in our environment against 3.0.2&apos;s fix.&lt;/p&gt;

&lt;p&gt;Grant&lt;/p&gt;</comment>
                            <comment id="51531" author="juergen.hoeller" created="Thu, 25 Feb 2010 08:39:57 +0000"  >&lt;p&gt;I&apos;m afraid this is exactly what we desired to fix in 3.0.1 originally: the id attribute shouldn&apos;t contain any such brackets anymore, for no kind of input element. We were already doing this for all other form tags, just not for checkboxes and radiobuttons. It seems very much worth it to fix this remaining case once and for all in 3.0.x, with the name attribute regression properly addressed in 3.0.2, even we technically produce different ids for those then.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="51534" author="grant.gochnauer" created="Thu, 25 Feb 2010 09:06:44 +0000"  >&lt;p&gt;Thanks for the quick response Juergen.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="30386">SPR-6921</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="30753">SPR-7040</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10020">
                    <name>Related</name>
                                            <outwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="30098">SPR-6840</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="25224">SPR-5382</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        6 years, 44 weeks ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 19 Feb 2010 06:39:37 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i015en:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6753</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>