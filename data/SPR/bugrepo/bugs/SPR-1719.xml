<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 18:09:47 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-1719/SPR-1719.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-1719] PropertyPlaceholderConfigurer behaves differently in 2.0M2 than in 1.2.6.  Some properties are not replaced.</title>
                <link>https://jira.spring.io/browse/SPR-1719</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I described this in the forum at:  &lt;a href=&quot;http://forum.springframework.org/showthread.php?t=22377&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.springframework.org/showthread.php?t=22377&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have recently tried the 2.0 M2 Spring.jar and immediately found that what was &lt;br/&gt;
working for PropertyPlaceholderConfigurer is suddenly not working in 2.0.&lt;/p&gt;

&lt;p&gt;I have a bean with a property like: &amp;lt;property &lt;br/&gt;
name=&quot;readQueueName&quot;&amp;gt;&amp;lt;value&amp;gt;$&lt;/p&gt;
{queue.routerQueue}&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
&lt;br/&gt;
and a property file like: queue.routerQueue=routerQueue1&lt;br/&gt;
&lt;br/&gt;
but what is set in the bean, is ${queue.routerQueue}
&lt;p&gt; and not the substituted &lt;br/&gt;
value. I am pretty certain that the PropertyPlaceholderConfigurer bean is able &lt;br/&gt;
to read the value - I have set breakpoints and extended the class to provide JMX &lt;br/&gt;
viewing of the properties and they are correct.  However, when I set a breakpoint at the &apos;setReadQueueName&apos; method, the value passed in is $&lt;/p&gt;
{queue.routerQueue}
&lt;p&gt;.&lt;/p&gt;

&lt;p&gt;I have many, many properties set in my config files, and some get replaced and others do not. I cannot actually track down a pattern just yet.  Even though some properties get replaced and some dont, it is very consistent when it decides not to replace a property.  That property is never replaced, but I dont know why it decides to replace some but not others.&lt;/p&gt;

&lt;p&gt;I would be happy to provide files and I will also look into this more over the weekend.&lt;/p&gt;
</description>
            <key id="13377">SPR-1719</key>
            <summary>PropertyPlaceholderConfigurer behaves differently in 2.0M2 than in 1.2.6.  Some properties are not replaced.</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="youngsoul">Patrick Ryan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Feb 2006 00:50:17 +0000</created>
                <updated>Tue, 19 Jun 2012 03:54:04 +0000</updated>
                            <resolved>Wed, 22 Feb 2006 20:24:53 +0000</resolved>
                                    <version>2.0 M2</version>
                                    <fixVersion>2.0 M3</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="16481" author="juergen.hoeller" created="Fri, 17 Feb 2006 23:27:51 +0000"  >&lt;p&gt;It would be great if you could narrow down the pattern of occurence here...&lt;/p&gt;

&lt;p&gt;I suspect that some of your beans might now get instantiated earlier then before, maybe before the PropertyPlaceholderConfigurer itself - in which case the configurer wouldn&apos;t be able to resolve the placeholder for such beans anymore. Can you check the creation order of your beans, for example according to the INFO level log?&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="16489" author="youngsoul" created="Sat, 18 Feb 2006 08:44:22 +0000"  >&lt;p&gt;I created a simple test case that exhibits this issue.  I am not sure it it solely do to the abstract properties.&lt;/p&gt;

&lt;p&gt;In this test case I create an abstract bean where its property is not set correctly, I also create a property on the concrete bean and its value is not set correctly.&lt;/p&gt;

&lt;p&gt;however, if there is a list of properties, their values are set correctly.&lt;/p&gt;

&lt;p&gt;It does look like it is getting through the PropertyPlaceholderConfigurer correctly, that is it is performing the substitution correctly but its just not getting to the bean itself.&lt;/p&gt;

&lt;p&gt;I will continue to look at but wanted to pass along a simple test case.&lt;/p&gt;</comment>
                            <comment id="16490" author="youngsoul" created="Sat, 18 Feb 2006 08:56:19 +0000"  >&lt;p&gt;If I move the testString1 property from the abstract parent and into the testPropertyBean directly, and remove the parent attribute, the test case passes so it is something with the abstract parent.&lt;/p&gt;

&lt;p&gt;In other words this bean definition works:&lt;br/&gt;
	&amp;lt;bean id=&quot;testPropertyBean&quot; class=&quot;com.dsi.properties.PropertyTestClass&quot; singleton=&quot;false&quot;  &amp;gt;&lt;br/&gt;
	        &amp;lt;property name=&quot;testString1&quot;&amp;gt;&amp;lt;value&amp;gt;$&lt;/p&gt;
{test.teststring1}
&lt;p&gt;&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
		&amp;lt;property name=&quot;testString2&quot;&amp;gt;&amp;lt;value&amp;gt;$&lt;/p&gt;
{test.teststring2}
&lt;p&gt;&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;br/&gt;
		&amp;lt;property name=&quot;testStrings3&quot;&amp;gt;&lt;br/&gt;
			&amp;lt;list&amp;gt;&lt;br/&gt;
				&amp;lt;value&amp;gt;$&lt;/p&gt;
{test.teststring3.1}
&lt;p&gt;&amp;lt;/value&amp;gt;&lt;br/&gt;
				&amp;lt;value&amp;gt;$&lt;/p&gt;
{test.teststring3.2}
&lt;p&gt;&amp;lt;/value&amp;gt;&lt;/p&gt;

&lt;p&gt;			&amp;lt;/list&amp;gt;&lt;br/&gt;
		&amp;lt;/property&amp;gt;&lt;br/&gt;
	&amp;lt;/bean&amp;gt;&lt;/p&gt;</comment>
                            <comment id="16530" author="garpinc" created="Tue, 21 Feb 2006 15:04:09 +0000"  >&lt;p&gt;I confirm this. In my case I had a portlet context where I defined 	&lt;/p&gt;

&lt;p&gt;&amp;lt;bean id=&quot;propertyConfigurer2&quot; parent=&quot;propertyConfigurer&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;in porlet context the propery was not replaced.&lt;/p&gt;

&lt;p&gt;Switching back to m1 resolves issue.&lt;/p&gt;</comment>
                            <comment id="16561" author="juergen.hoeller" created="Wed, 22 Feb 2006 20:24:53 +0000"  >&lt;p&gt;This was caused by a too eager implementation of merged bean definition caching, actually, which potentially cached the bean definitions before they were processed by the PropertyPlaceholderConfigurer. Fixed as of M3, through avoiding the caching of merged bean definitions before actually creating instances of a bean.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13376">SPR-1718</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="11468" name="propertyplaceholdertestcase.zip" size="1639" author="youngsoul" created="Sat, 18 Feb 2006 08:44:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 45 weeks ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 17 Feb 2006 23:27:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04vo7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28505</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>