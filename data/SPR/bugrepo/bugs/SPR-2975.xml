<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 18:51:10 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2975/SPR-2975.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2975] BeanDefinitionDecorator not being called when nested</title>
                <link>https://jira.spring.io/browse/SPR-2975</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I created a BeanDefinitionDecorator which is associated to the &apos;config&apos; element. I have the following example:&lt;/p&gt;

&lt;p&gt;  &amp;lt;bean id=&quot;b4.1&quot; class=&quot;test.spring.TestSpring$Bean4&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;lin:config&amp;gt;&lt;br/&gt;
      &amp;lt;property name=&quot;p1&quot; value=&quot;v1&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/lin:config&amp;gt;&lt;br/&gt;
  &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;bean id=&quot;b9.3&quot; class=&quot;test.spring.TestSpring$Bean9&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;property name=&quot;bean4&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;bean class=&quot;test.spring.TestSpring$Bean4&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;lin:config&amp;gt;&lt;br/&gt;
          &amp;lt;property name=&quot;p1&quot; value=&quot;v3&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/lin:config&amp;gt;&lt;br/&gt;
      &amp;lt;/bean&amp;gt;&lt;br/&gt;
    &amp;lt;/property&amp;gt;&lt;br/&gt;
  &amp;lt;/bean&amp;gt;&lt;/p&gt;

&lt;p&gt;In the first example, my decorator gets invoked. In the second case it does not get invoked!&lt;/p&gt;</description>
            <key id="15745">SPR-2975</key>
            <summary>BeanDefinitionDecorator not being called when nested</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="frenchyan">Yan Pujante</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Dec 2006 01:51:11 +0000</created>
                <updated>Tue, 19 Jun 2012 03:50:03 +0000</updated>
                            <resolved>Fri, 22 Dec 2006 03:32:08 +0000</resolved>
                                    <version>2.0.1</version>
                                    <fixVersion>2.0.2</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="21419" author="frenchyan" created="Fri, 22 Dec 2006 01:52:53 +0000"  >&lt;p&gt;I attach the schema I am using&lt;/p&gt;</comment>
                            <comment id="21420" author="frenchyan" created="Fri, 22 Dec 2006 01:53:23 +0000"  >&lt;p&gt;Here is the test file containing what is described in the bug&lt;/p&gt;</comment>
                            <comment id="21421" author="frenchyan" created="Fri, 22 Dec 2006 01:56:40 +0000"  >&lt;p&gt;I looked at the source code (version 2.0.1). I think the problem is as follow:&lt;/p&gt;

&lt;p&gt;In DefaultBeanDefinitionDocumentReader lines 163-171:&lt;br/&gt;
		else if (DomUtils.nodeNameEquals(ele, BEAN_ELEMENT)) {&lt;br/&gt;
			BeanDefinitionHolder bdHolder = delegate.parseBeanDefinitionElement(ele);&lt;br/&gt;
			if (bdHolder != null) &lt;/p&gt;
{
				bdHolder = delegate.decorateBeanDefinitionIfRequired(ele, bdHolder);
				// Register the final decorated instance.
				BeanDefinitionReaderUtils.registerBeanDefinition(bdHolder, getReaderContext().getRegistry());
				// Send registration event.
				getReaderContext().fireComponentRegistered(new BeanComponentDefinition(bdHolder));
			}

&lt;p&gt;and in BeanDefinitionDelegate lines 346-348&lt;br/&gt;
		else if (DomUtils.nodeNameEquals(ele, BEAN_ELEMENT)) &lt;/p&gt;
{
			return parseBeanDefinitionElement(ele, bd);
		}

&lt;p&gt;Note that the processing is totally different whether it is a bean at the root level (under &amp;lt;beans&amp;gt;) and the first code gets executed... as such the decorator is invoked. When the bean is a property sub element the second code gets executed and the decorator is never invoked...&lt;/p&gt;</comment>
                            <comment id="21424" author="juergen.hoeller" created="Fri, 22 Dec 2006 03:30:41 +0000"  >&lt;p&gt;This has fortunately already been discovered and fixed, triggered by a report that the &quot;p:&quot; namespace (which is implemented through a BeanDefinitionDecorator) doesn&apos;t work for inner beans.&lt;/p&gt;

&lt;p&gt;Please give one of the recent 2.0.2 snapshots (&lt;a href=&quot;http://www.springframework.org/snapshots&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/snapshots&lt;/a&gt;) a try!&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="21426" author="frenchyan" created="Fri, 22 Dec 2006 04:01:19 +0000"  >&lt;p&gt;I just verified with build2.0.2 (11222006) and it is indeed fixed!&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10011">
                    <name>Depends</name>
                                                                <inwardlinks description="is depended on by">
                                        <issuelink>
            <issuekey id="15707">SPR-2955</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12290" name="lispring.xsd" size="2361" author="frenchyan" created="Fri, 22 Dec 2006 01:52:53 +0000"/>
                            <attachment id="12291" name="test.spring" size="1052" author="frenchyan" created="Fri, 22 Dec 2006 01:53:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 1 week, 6 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 22 Dec 2006 03:30:41 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00v07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5068</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>