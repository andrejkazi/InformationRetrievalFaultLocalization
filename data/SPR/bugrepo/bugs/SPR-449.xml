<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:21:40 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-449/SPR-449.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-449] NullPointerException thrown when StaticApplicationContext becomes parent</title>
                <link>https://jira.spring.io/browse/SPR-449</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I have a ClassPathXmlApplicationContext instantiated as:&lt;br/&gt;
context_ = new ClassPathXmlApplicationContext(&lt;br/&gt;
    configLocations, true, staticContext);&lt;br/&gt;
where staticContext is a StaticApplicationContext instantiated earlier.&lt;/p&gt;

&lt;p&gt;When I try to run the code, I get this exception:&lt;br/&gt;
&amp;lt;error type=&quot;java.lang.NullPointerException&quot;&amp;gt;java.lang.NullPointerException&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:202)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:204)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:286)&lt;br/&gt;
	at org.springframework.context.support.ClassPathXmlApplicationContext.&amp;lt;init&amp;gt;(ClassPathXmlApplicationContext.java:111)&lt;br/&gt;
	at com.mypackage.AppContextTestCase.setUp(AppContextTestCase.java:34)&lt;br/&gt;
	at com.mypackage.DBTestCase.setUp(DBTestCase.java:66)&lt;br/&gt;
	at org.jmock.core.VerifyingTestCase.runBare(Unknown Source)&lt;br/&gt;
&amp;lt;/error&amp;gt;&lt;/p&gt;

&lt;p&gt;I went ahead and looked at AbstractApplicationContext in CVS.  Looks like StaticApplicationContext does not have its applicationEventMulticaster properly initiated, but does get called on that when it is the parent of another AbstractApplicationContext.&lt;/p&gt;</description>
            <key id="10717">SPR-449</key>
            <summary>NullPointerException thrown when StaticApplicationContext becomes parent</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="manifoldronin">Jing Xue</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Nov 2004 12:19:56 +0000</created>
                <updated>Sat, 6 Nov 2004 22:01:26 +0000</updated>
                            <resolved>Sat, 6 Nov 2004 22:01:26 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="11440" author="juergen.hoeller" created="Sat, 6 Nov 2004 22:01:26 +0000"  >&lt;p&gt;The problem is that your StaticApplicationContext has not been properly initialized, i.e. you never called &quot;refresh&quot;. Therefore, the internal MessageSource and ApplicationEventMulticaster have never been initialized. (getMessage calls on your StaticApplicationContext would fail too.)&lt;/p&gt;

&lt;p&gt;I&apos;ve added corresponding checks and error messages: You&apos;ll get an IllegalStateException with a meaningful message now, on accessing MessageSource or ApplicationEventMulticaster functionality.&lt;/p&gt;

&lt;p&gt;You still need to call &quot;refresh&quot; on each of your contexts. More specifically, you need to call &quot;refresh&quot; before you use any context functionality, which also includes using the context instance as parent for another context.&lt;/p&gt;

&lt;p&gt;ClassPathXmlApplicationContext and FileSystemXmlApplicationContext are able to perform an implicit refresh after loading the specified config files. However, StaticApplicationContext depends on programmatic registration of beans after instantiating the context; there is no chance for an implicit refresh here - you need to explicitly call &quot;refresh&quot; when you&apos;re done with registration.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years, 8 weeks, 4 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 6 Nov 2004 22:01:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01c6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7850</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>