<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:58:32 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-316/SPR-316.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-316] Abstract Beans Causes Error With Velocity View</title>
                <link>https://jira.spring.io/browse/SPR-316</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;Using the cool new Abstract bean definition for defining common transaction attributes seems to cause a problem with the VelocityView class. &lt;/p&gt;

&lt;p&gt;Adapting the config from the petclinic example to my app, only copying over the Transaction stuff to apply to my Hibernate Session Factory. &lt;/p&gt;

&lt;p&gt;Before I added this, my Velocity config was working fine. Ever since adding this, I get the following error:&lt;/p&gt;

&lt;p&gt;org.springframework.beans.factory.BeanIsAbstractException: Tried to instantiate abstract bean definition &apos;&amp;amp;baseTransactionProxy&apos;&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:177)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:136)&lt;br/&gt;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:177)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:473)&lt;br/&gt;
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:108)&lt;br/&gt;
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:112)&lt;br/&gt;
	at org.springframework.beans.factory.BeanFactoryUtils.beanOfTypeIncludingAncestors(BeanFactoryUtils.java:141)&lt;br/&gt;
	at org.springframework.web.servlet.view.velocity.VelocityView.initApplicationContext(VelocityView.java:182)&lt;br/&gt;
	at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:79)&lt;br/&gt;
	at org.springframework.web.servlet.view.AbstractCachingViewResolver.loadAndConfigureView(AbstractCachingViewResolver.java:123)&lt;br/&gt;
	at org.springframework.web.servlet.view.AbstractCachingViewResolver.resolveViewName(AbstractCachingViewResolver.java:78)&lt;br/&gt;
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:629)&lt;br/&gt;
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:535)&lt;br/&gt;
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:321)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:802)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:237)&lt;br/&gt;
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:157)&lt;br/&gt;
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:214)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invokeInternal(StandardContextValve.java:198)&lt;br/&gt;
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:152)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:137)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:117)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:102)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)&lt;br/&gt;
	at org.apache.catalina.core.StandardValveContext.invokeNext(StandardValveContext.java:104)&lt;br/&gt;
	at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:520)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.invoke(ContainerBase.java:929)&lt;br/&gt;
	at org.apache.coyote.tomcat5.CoyoteAdapter.service(CoyoteAdapter.java:160)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:799)&lt;br/&gt;
	at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.processConnection(Http11Protocol.java:705)&lt;br/&gt;
	at org.apache.tomcat.util.net.TcpWorkerThread.runIt(PoolTcpEndpoint.java:577)&lt;br/&gt;
	at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:683)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;

&lt;p&gt;The problem seems to be around line 182 of VelocityView.java in org.springframework.web.servlet.view.velocity when it uses BeanFactoryUtils.beanOfTypeIncludingAncestors() . &lt;/p&gt;

&lt;p&gt;It also appears that this affects the Freemarker implementation as well (just eyeballing the code). &lt;/p&gt;

&lt;p&gt;If you need them, I can profile my context configuration files. &lt;/p&gt;</description>
            <key id="10537">SPR-316</key>
            <summary>Abstract Beans Causes Error With Velocity View</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="pburleson">Patrick Burleson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 Sep 2004 14:00:31 +0000</created>
                <updated>Tue, 7 Sep 2004 23:37:30 +0000</updated>
                            <resolved>Tue, 7 Sep 2004 18:51:11 +0000</resolved>
                                    <version>1.1 final</version>
                                    <fixVersion>1.1.1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="11002" author="pburleson" created="Tue, 7 Sep 2004 14:05:58 +0000"  >&lt;p&gt;To confirm this, I took out the abstract definition and actually made the &quot;child&quot; definition a full definition of the TransactionProxyFactoryBean (the &quot;old&quot; style of defining them) and now everything works. &lt;/p&gt;

&lt;p&gt;So there is something amiss with how the VelocityView is getting the ApplicationContext setup that causes it to try and instatiate abstract beans...which is of course a no-no.&lt;/p&gt;</comment>
                            <comment id="11003" author="juergen.hoeller" created="Tue, 7 Sep 2004 18:51:11 +0000"  >&lt;p&gt;Thanks for reporting this! DefaultListableBeanFactory&apos;s &quot;getBeansOfType&quot; implementation indeed doesn&apos;t handle abstract FactoryBeans correctly. I&apos;ve just fixed this; feel free to give a current snapshot a try!&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="11007" author="pburleson" created="Tue, 7 Sep 2004 23:37:30 +0000"  >&lt;p&gt;Just tested from CVS and it&apos;s working now! &lt;/p&gt;

&lt;p&gt;Thanks a lot! &lt;/p&gt;

&lt;p&gt;Hey, aren&apos;t you supposed to be in London and Rome? I hope you&apos;re not solving Spring bugs on holiday!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years, 17 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 7 Sep 2004 18:51:11 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04y93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28923</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>