<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 18:43:02 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-9296/SPR-9296.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-9296] Major Performance Problem in ApplicationContext Creation and Prototype Bean Lookup by Type</title>
                <link>https://jira.spring.io/browse/SPR-9296</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;In version 3.1.1 of the springframework, the creation of the application context and the lookup of beans by type, in particular the lookup of prototype beans is extremely slow (factor 10).&lt;br/&gt;
The same creation and lookup process in spring 3.0.6 was significantly faster.&lt;br/&gt;
The definition of the application context is done through java based bean configuration.&lt;/p&gt;

&lt;p&gt;Therefore we created a sample programm which can be used to reproduce the problem (program together with a gradle build file is attached, &lt;tt&gt;gradle run&lt;/tt&gt; executes the test).&lt;br/&gt;
This application uses javasssist to create 100 bean classes. Each bean class has 5 autowired bean properties. The bean properties are generated, such that no cyclic dependencies occur. Finally a configuration class containing the generated beans is constructed and loaded. All beans are created as singletons except one bean which has been created as prototype scope.&lt;br/&gt;
After the application context is loaded a single bean is looked up from the application context 100 times. In the first case this is done with a bean of scope singleton. In the second case this is done with a bean of scope prototype.&lt;br/&gt;
The same tests was issued on spring 3.1.1 and spring 3.0.6&lt;/p&gt;

&lt;p&gt;The results are as follows:&lt;/p&gt;

&lt;p&gt;==== Spring 3.1.1 ====&lt;/p&gt;

&lt;p&gt;SingletonBean:&lt;br/&gt;
==============&lt;br/&gt;
StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 17004; &lt;span class=&quot;error&quot;&gt;&amp;#91;settingUpApplicationContext&amp;#93;&lt;/span&gt; took 15177 = 89%; &lt;span class=&quot;error&quot;&gt;&amp;#91;retrievingBeans&amp;#93;&lt;/span&gt; took 1827 = 11%&lt;/p&gt;

&lt;p&gt;PrototypeBean:&lt;br/&gt;
==============&lt;br/&gt;
StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 24400; &lt;span class=&quot;error&quot;&gt;&amp;#91;settingUpApplicationContext&amp;#93;&lt;/span&gt; took 13126 = 54%; &lt;span class=&quot;error&quot;&gt;&amp;#91;retrievingBeans&amp;#93;&lt;/span&gt; took 11274 = 46%&lt;/p&gt;

&lt;p&gt;==== Spring 3.0.6 ====&lt;/p&gt;

&lt;p&gt;SingletonBean:&lt;br/&gt;
==============&lt;br/&gt;
StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 3110; &lt;span class=&quot;error&quot;&gt;&amp;#91;settingUpApplicationContext&amp;#93;&lt;/span&gt; took 2654 = 85%; &lt;span class=&quot;error&quot;&gt;&amp;#91;retrievingBeans&amp;#93;&lt;/span&gt; took 456 = 15%&lt;/p&gt;

&lt;p&gt;PrototypeBean:&lt;br/&gt;
==============&lt;br/&gt;
StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 3163; &lt;span class=&quot;error&quot;&gt;&amp;#91;settingUpApplicationContext&amp;#93;&lt;/span&gt; took 1790 = 57%; &lt;span class=&quot;error&quot;&gt;&amp;#91;retrievingBeans&amp;#93;&lt;/span&gt; took 1373 = 43%&lt;/p&gt;

</description>
            <key id="42786">SPR-9296</key>
            <summary>Major Performance Problem in ApplicationContext Creation and Prototype Bean Lookup by Type</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="cbeams">Chris Beams</assignee>
                                    <reporter username="speedskater">Robert Binna</reporter>
                        <labels>
                            <label>performance</label>
                    </labels>
                <created>Mon, 2 Apr 2012 03:43:13 +0000</created>
                <updated>Wed, 6 Jun 2012 00:26:58 +0000</updated>
                            <resolved>Sun, 27 May 2012 09:06:11 +0000</resolved>
                                    <version>3.1.1</version>
                                                    <component>Core</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="78014" author="barni" created="Sun, 29 Apr 2012 23:02:16 +0000"  >&lt;p&gt;We have the same problem with 3.0.7.RELEASE everthing was fine, with 3.1.0.RELEASE the lookup is very slowly (about factor 6)&lt;/p&gt;</comment>
                            <comment id="79349" author="cbeams" created="Sun, 27 May 2012 09:06:14 +0000"  >&lt;p&gt;Robert, thanks for the great reproduction project!  You&apos;ll be glad to know this issue is now fixed with the resolution of &lt;a href=&quot;https://jira.spring.io/browse/SPR-6870&quot; title=&quot;Cache by-type lookups in DefaultListableBeanFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-6870&quot;&gt;&lt;del&gt;SPR-6870&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here are the results...&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;==== 3.0.6 ====&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 1844; [settingUpApplicationContext] took 1701 = 92%; [retrievingBeans] took 143 = 8%&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 2083; [settingUpApplicationContext] took 1171 = 56%; [retrievingBeans] took 912 = 44%&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;==== 3.1.1 ====&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 10928; [settingUpApplicationContext] took 9658 = 88%; [retrievingBeans] took 1270 = 12%&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 16974; [settingUpApplicationContext] took 9145 = 54%; [retrievingBeans] took 7829 = 46%&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&amp;nbsp;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;==== 3.2.0.BUILD-SNAPSHOT ====&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 3793; [settingUpApplicationContext] took 3766 = 99%; [retrievingBeans] took 27 = 1%&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;StopWatch &apos;SpringPerformanceTest&apos;: running time (millis) = 2934; [settingUpApplicationContext] took 2829 = 96%; [retrievingBeans] took 105 = 4%&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;Cheers!&lt;/p&gt;</comment>
                            <comment id="79620" author="speedskater" created="Wed, 6 Jun 2012 00:26:58 +0000"  >&lt;p&gt;Thanks Chris, for the fast and nice fix.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="30177">SPR-6870</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="19558" name="benchmark.zip" size="3928" author="speedskater" created="Mon, 2 Apr 2012 03:43:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        4 years, 29 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 29 Apr 2012 23:02:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05hf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>