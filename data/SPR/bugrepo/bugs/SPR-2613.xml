<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:22:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2613/SPR-2613.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2613] CLONE -form:errors tag clobbers &apos;messages&apos; attribute</title>
                <link>https://jira.spring.io/browse/SPR-2613</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;After upgrading to Spring 2.0 RC3, we noticed that any our i18n code failed to resolve keys; this was tracked down to revisions in the form:errors tag that clobber the &apos;messages&apos; attribute (i.e. removing it instead of resetting it).&lt;/p&gt;

&lt;p&gt;Scenario:&lt;/p&gt;

&lt;p&gt;Consider the following JSP:&lt;/p&gt;

&lt;p&gt;&amp;lt;td align=&quot;right&quot; valign=&quot;top&quot;&amp;gt;	$&lt;/p&gt;
{messages[&apos;common.aa.siteId&apos;]}
&lt;p&gt; &amp;lt;/td&amp;gt;&lt;br/&gt;
    							&amp;lt;td align=&quot;left&quot; valign=&quot;top&quot;&amp;gt;														&lt;br/&gt;
    								&amp;lt;form:input path=&quot;siteId&quot; id=&quot;portfoliopw&quot;/&amp;gt;&amp;lt;br/&amp;gt;&lt;br/&gt;
    								&amp;lt;div id=&quot;pwdChangeErrors&quot;&amp;gt;&amp;lt;form:errors path=&quot;siteId&quot;  /&amp;gt;&amp;lt;/div&amp;gt;&lt;br/&gt;
    							&amp;lt;/td&amp;gt;&lt;br/&gt;
    							&amp;lt;td valign=&quot;top&quot;&amp;gt;&lt;br/&gt;
    							&amp;lt;div id=&quot;savePwdSmall&quot;&amp;gt;$&lt;/p&gt;
{messages[&apos;common.aa.createPortfolio.forgotInformationContactSchool&apos;]}
&lt;p&gt;&amp;lt;/div&amp;gt;&lt;br/&gt;
    							&amp;lt;/td&amp;gt;&lt;/p&gt;

&lt;p&gt;...where we expose a custom map &apos;messages&apos; (I believe this is the same name that JSF/Facelets uses as well) to resolve keys (using a ReloadableResourceBundleMessageSource behind the scenes).   The second use of &apos;messages&apos; does not output anything; removing the form:errors tag resolves the issue (until the next field, and so on...).&lt;/p&gt;

&lt;p&gt;It looks like RC3&apos;s ErrorsTag.java added exposeAttributes and removeAttributes, which clobber the &apos;messages&apos; attribute.&lt;/p&gt;

&lt;p&gt;Options:&lt;/p&gt;

&lt;p&gt;1) Change the &apos;messages&apos; attribute name (it is new in RC3); perhaps &apos;formMessages&apos;?&lt;br/&gt;
2) Store / restore the &apos;messages&apos; attribute in removeAttributes; do note that this prevents use of the oringinal &apos;messages&apos; object inside a form:error tag&lt;br/&gt;
3) Don&apos;t expose the messages as an attribute inside form:error&lt;/p&gt;
</description>
            <key id="15016">SPR-2613</key>
            <summary>CLONE -form:errors tag clobbers &apos;messages&apos; attribute</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="robh">Rob Harrop</assignee>
                                    <reporter username="seabamirum">Tim Lenz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Sep 2006 01:59:29 +0000</created>
                <updated>Wed, 20 Sep 2006 03:18:44 +0000</updated>
                            <resolved>Wed, 20 Sep 2006 03:18:44 +0000</resolved>
                                    <version>2.0 RC3</version>
                                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                        <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 15 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i018wv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7321</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>