<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:48:25 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2828/SPR-2828.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2828] Dependency on a advised bean chokes aspects defined using XML</title>
                <link>https://jira.spring.io/browse/SPR-2828</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;An XML-defined aspect that depends on a advised bean doesn&apos;t work correctly.&lt;br/&gt;
An equivalent aspects defined using @AspectJ syntax works just fine.&lt;/p&gt;

&lt;p&gt;XML-defined aspect&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;produces a configuration error if the dependent bean is defined before the aspect that needs it (this is bad due to asymmetry with @AspectJ)&lt;/li&gt;
	&lt;li&gt;doesn&apos;t advise if the dependent bean is defined after the aspect that needs it (this is worse as it will leave user scratching their head as to what is wrong with their pointcut)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;See &lt;a href=&quot;http://forum.springframework.org/showthread.php?t=31348&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.springframework.org/showthread.php?t=31348&lt;/a&gt; for the forum report that prompted this report.&lt;/p&gt;

&lt;p&gt;The attached patch includes a JUnit test that illustrates the problem.&lt;/p&gt;</description>
            <key id="15476">SPR-2828</key>
            <summary>Dependency on a advised bean chokes aspects defined using XML</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="ramnivas">Ramnivas Laddad</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Nov 2006 04:50:23 +0000</created>
                <updated>Tue, 19 Jun 2012 03:50:11 +0000</updated>
                            <resolved>Fri, 17 Nov 2006 08:59:26 +0000</resolved>
                                    <version>2.0 final</version>
                                    <fixVersion>2.0.1</fixVersion>
                                    <component>Core:AOP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="20745" author="ramnivas" created="Sun, 12 Nov 2006 04:51:31 +0000"  >&lt;p&gt;JUnit test to reproduce the problems&lt;/p&gt;</comment>
                            <comment id="20877" author="juergen.hoeller" created="Wed, 15 Nov 2006 09:03:09 +0000"  >&lt;p&gt;Thanks for pointing this out, Ramnivas! I have already fixed this locally, after some discussion with Adrian.&lt;/p&gt;

&lt;p&gt;The root cause of the problem is the ordering support for aspect beans, where the present code obtains the aspect bean just to check whether it implements Ordered. This leads to early initialization of the aspect instance, which in turn leads to a sort-of circular reference when a bean that the aspect depends on is supposed to be weaved with an aspect as well.&lt;/p&gt;

&lt;p&gt;The reworked code implements late ordering now, with the aspect bean not being obtained until it is part of an actual interception chain. I will commit this tomorrow morning; the fix unfortunately affects quite a few files, hence it might take a while to finalize everything. I will keep you up to date on the status.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="20946" author="juergen.hoeller" created="Fri, 17 Nov 2006 08:59:26 +0000"  >&lt;p&gt;This is finally fixed in CVS HEAD, and will be included in the 2.0.1 release this weekend.&lt;/p&gt;

&lt;p&gt;In the course of this, I&apos;ve polished and reworked the entire AspectJ aspect handling within Spring&apos;s AOP framework, which is part of why this took longer than expected...&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12200" name="property-dependent-aspect-tests.patch" size="14823" author="ramnivas" created="Sun, 12 Nov 2006 04:51:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 6 weeks, 6 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 15 Nov 2006 09:03:09 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00van:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5115</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>