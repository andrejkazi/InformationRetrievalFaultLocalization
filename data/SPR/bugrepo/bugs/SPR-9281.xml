<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:10:49 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-9281/SPR-9281.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-9281] Add ability to specify whether a bean profile is active by default</title>
                <link>https://jira.spring.io/browse/SPR-9281</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I&apos;ve found a case where the ability to specify that certain bean profiles are active by default is extremely convenient.&lt;/p&gt;

&lt;p&gt;We are migrating from one environment to another (from pure Hibernate to JPA) in an evolutionary fashion.  When not specifying any active bean profiles, the legacy environment is intended for backward compatibility reasons; when the new environment is desired, only then would the user wish to set the system property &quot;spring.profiles.active&quot; and specify that he wanted to use the &quot;new stuff&quot; (JPA in this case).&lt;/p&gt;

&lt;p&gt;As an alternative to &lt;a href=&quot;https://jira.spring.io/browse/SPR-8203&quot; title=&quot;Introduce a reserved default profile name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-8203&quot;&gt;&lt;del&gt;SPR-8203&lt;/del&gt;&lt;/a&gt;, the choice could be explicitly made by the author of the application context by adding an attribute called &quot;default-profile-activation&quot; similar to the &amp;lt;beans&amp;gt; element.  This would serve to remove any magic.&lt;/p&gt;

&lt;p&gt;If &quot;default-profile-activation&quot; were an enumerated value, it would make the behavior explicit.  Values I&apos;d recommend are the following.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&quot;inactive-by-default&quot;:  The profile being described is inactive by default and activated only explicitly.  This is the default value if a &quot;profile&quot; attribute is given.  It could be a warning if this value is provided and a nonempty &quot;profile&quot; attribute value were given.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&quot;active-unless-specified&quot;:  The profile being described is active by default, unless other means of explicit activation are provided, like via the &quot;spring.profiles.active&quot; system property.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&quot;active-always&quot;:  The profile being described is always active, regardless of explicit profile activations.  This value is intended for backward compatibility with the &amp;lt;beans&amp;gt; element when it has an empty or no &quot;profile&quot; attribute.  It could be a warning if users provided both a &quot;profile&quot; attribute and a &quot;default-profile-activation&quot; value of &quot;active-always&quot;.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Consider the following file.&lt;/p&gt;

&lt;p&gt;=====&lt;br/&gt;
&amp;lt;beans&amp;gt; &amp;lt;!-- no &apos;profile&apos; attribute, &apos;default-profile-activation&apos; value is &apos;active-always&apos; --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;a&quot; class=&quot;com.acme.A&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/beans&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;beans profile=&quot;jpa&quot;&amp;gt; &amp;lt;!-- &apos;default-profile-activation&apos; value is &apos;inactive-by-default&apos; --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;b&quot; class=&quot;com.acme.B&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/beans&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;beans profile=&quot;pure-hibernate&quot; default-profile-activation=&quot;active-unless-specified&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;c&quot; class=&quot;com.acme.C&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/beans&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;beans default-profile-activation=&quot;active-always&quot;&amp;gt; &amp;lt;!-- no &apos;profile&apos; attribute, results in warning since this is the default in this case? --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;d&quot; class=&quot;com.acme.D&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/beans&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;beans profile=&quot;jpa&quot; default-profile-activation=&quot;inactive-by-default&quot;&amp;gt; &amp;lt;!-- &apos;profile&apos; attribute given, results in warning since this is the default in this case? --&amp;gt;&lt;br/&gt;
    &amp;lt;bean id=&quot;e&quot; class=&quot;com.acme.E&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/beans&amp;gt;&lt;br/&gt;
=====&lt;/p&gt;

&lt;p&gt;If the profile &quot;pure-hibernate&quot; or no profiles were explicitly activated, then the beans defined would be &lt;span class=&quot;error&quot;&gt;&amp;#91;a, c, d&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;If the profile &quot;jpa&quot; were activated, then the beans defined would be &lt;span class=&quot;error&quot;&gt;&amp;#91;a, b, d, e&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;If the profile &quot;foobar&quot;, which is not mentioned in the example, were activated, then the beans defined would be &lt;span class=&quot;error&quot;&gt;&amp;#91;a, d&amp;#93;&lt;/span&gt;.&lt;/p&gt;</description>
            <key id="42755">SPR-9281</key>
            <summary>Add ability to specify whether a bean profile is active by default</summary>
                <type id="4" iconUrl="https://jira.spring.io/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="cbeams">Chris Beams</assignee>
                                    <reporter username="matthewadams">Matthew T. Adams</reporter>
                        <labels>
                            <label>bean-profiles</label>
                            <label>default-bean-profile-activation</label>
                            <label>profiles</label>
                    </labels>
                <created>Thu, 29 Mar 2012 06:34:27 +0000</created>
                <updated>Thu, 27 Aug 2015 13:47:34 +0000</updated>
                            <resolved>Fri, 13 Apr 2012 10:18:52 +0000</resolved>
                                    <version>3.1.1</version>
                                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="77258" author="matthewadams" created="Thu, 29 Mar 2012 06:58:08 +0000"  >&lt;p&gt;Oops, forgot to add one last permutation:&lt;/p&gt;

&lt;p&gt;&amp;lt;beans profile=&quot;jpa&quot; default-profile-activation=&quot;active-always&quot;&amp;gt; &amp;lt;!-- &apos;profile&apos; attribute given, results in warning since there&apos;s no point in specifying a profile name if it&apos;s always active? --&amp;gt;&lt;br/&gt;
  &amp;lt;bean id=&quot;f&quot; class=&quot;com.acme.F&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/beans&amp;gt;&lt;/p&gt;

&lt;p&gt;Add bean f to all active bean lists after example above.&lt;/p&gt;</comment>
                            <comment id="77580" author="cbeams" created="Fri, 13 Apr 2012 02:27:30 +0000"  >&lt;p&gt;Hi Matthew,&lt;/p&gt;

&lt;p&gt;You mention &lt;a href=&quot;https://jira.spring.io/browse/SPR-8203&quot; title=&quot;Introduce a reserved default profile name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-8203&quot;&gt;&lt;del&gt;SPR-8203&lt;/del&gt;&lt;/a&gt; above, but don&apos;t say too much about why it is insufficient for your needs.  The resulting implementation there is the &lt;tt&gt;spring.profiles.default&lt;/tt&gt; property for declarative configuration&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/core/env/AbstractEnvironment.html#DEFAULT_PROFILES_PROPERTY_NAME&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/core/env/AbstractEnvironment.html#DEFAULT_PROFILES_PROPERTY_NAME&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;as well as &lt;tt&gt;ConfigurableEnvironment#setDefaultProfiles(...)&lt;/tt&gt; for programmatic use&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html#setDefaultProfiles(java.lang.String&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/core/env/ConfigurableEnvironment.html#setDefaultProfiles(java.lang.String&lt;/a&gt;...)&lt;/p&gt;

&lt;p&gt;It would be pretty hard to justify introducing yet another mechanism for expressing default profiles.  Can you explain why the existing approaches cannot meet your needs?&lt;/p&gt;</comment>
                            <comment id="77598" author="matthewadams" created="Fri, 13 Apr 2012 07:00:10 +0000"  >&lt;p&gt;The main justification for this request is that the user still has to somehow set the &quot;spring.profiles.default&quot; property.  What I was looking for was the ability drop in new application jars leveraging bean profiles without having to require any changes to existing environments when the legacy behavior is desired.  It appears to me that setting the system property &quot;spring.profiles.default&quot; would be the required change to existing environments.&lt;/p&gt;

&lt;p&gt;How would you propose to activate certain profiles by default without setting &quot;spring.profiles.default&quot; when only XML configuration files are used?&lt;/p&gt;</comment>
                            <comment id="77612" author="cbeams" created="Fri, 13 Apr 2012 10:18:52 +0000"  >&lt;p&gt;Matthew and I discussed offline, and using the reserved default profile (named literally &quot;default&quot;) should provide what&apos;s needed.&lt;/p&gt;

&lt;p&gt;Various combinations of &quot;spring.profiles.active&quot;, &quot;spring.profiles.default&quot;, and the reserved default profile should provide enough flexibility to satisfy most use profile selection use cases.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10150">
                    <name>Depend</name>
                                                                <inwardlinks description="is depended on by">
                                        <issuelink>
            <issuekey id="52502">SPR-11256</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="37304">SPR-8203</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        4 years, 36 weeks, 6 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 13 Apr 2012 02:27:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>sbrannen</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05h8n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31999</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>