<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:45:26 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2083/SPR-2083.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2083] AbstractSlsbInvokerInterceptor doesn&apos;t update internal createMethod field after lookup of new home</title>
                <link>https://jira.spring.io/browse/SPR-2083</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I have &quot;cacheHome=false&quot; option in Spring configuration for SimpleRemoteStatelessSessionProxyFactoryBean so as I can see AbstractSlsbInvokerInterceptor lookup home object on each invocation but createMethod is not get refreshed after this and it uses cached one (as it was cached in afterPropertiesSet method). That could (and does!) lead to exceptions from reflections API if  home object changes class. Resulted exception is:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException&lt;br/&gt;
	at jrockit.reflect.VirtualNativeMethodInvoker.invoke(Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/Object;(Unknown Source)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Ljava/lang/Object;[Ljava/lang/Object;I)Ljava/lang/Object;(Unknown Source)&lt;br/&gt;
	at org.springframework.ejb.access.AbstractSlsbInvokerInterceptor.create()Ljava/lang/Object;(AbstractSlsbInvokerInterceptor.java:174)&lt;br/&gt;
	at org.springframework.ejb.access.AbstractRemoteSlsbInvokerInterceptor.newSessionBeanInstance()Ljavax/ejb/EJBObject;(AbstractRemoteSlsbInvokerInterceptor.java:202)&lt;br/&gt;
	at org.springframework.ejb.access.SimpleRemoteSlsbInvokerInterceptor.getSessionBeanInstance()Ljavax/ejb/EJBObject;(SimpleRemoteSlsbInvokerInterceptor.java:108)&lt;br/&gt;
	at org.springframework.ejb.access.SimpleRemoteSlsbInvokerInterceptor.doInvoke(Lorg/aopalliance/intercept/MethodInvocation;)Ljava/lang/Object;(SimpleRemoteSlsbInvokerInterceptor.java:74)&lt;br/&gt;
	at org.springframework.ejb.access.AbstractRemoteSlsbInvokerInterceptor.invoke(Lorg/aopalliance/intercept/MethodInvocation;)Ljava/lang/Object;(AbstractRemoteSlsbInvokerInterceptor.java:114)&lt;br/&gt;
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed()Ljava/lang/Object;(ReflectiveMethodInvocation.java:170)&lt;br/&gt;
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(Ljava/lang/Object;Ljava/lang/reflect/Method;[Ljava/lang/Object;)Ljava/lang/Object;(JdkDynamicAopProxy.java:176)&lt;/p&gt;

&lt;p&gt;So I think that createMethod field should be nulled/updated after each home lookup.&lt;/p&gt;</description>
            <key id="14092">SPR-2083</key>
            <summary>AbstractSlsbInvokerInterceptor doesn&apos;t update internal createMethod field after lookup of new home</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="alexey.kusak">Alexey Kusak</reporter>
                        <labels>
                    </labels>
                <created>Wed, 31 May 2006 00:26:43 +0000</created>
                <updated>Tue, 19 Jun 2012 03:52:29 +0000</updated>
                            <resolved>Wed, 7 Jun 2006 06:47:55 +0000</resolved>
                                    <version>1.2.7</version>
                                    <fixVersion>2.0 RC1</fixVersion>
                    <fixVersion>1.2.9</fixVersion>
                                    <component>EJB</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="17905" author="juergen.hoeller" created="Wed, 7 Jun 2006 06:47:55 +0000"  >&lt;p&gt;Thanks for pointing this out! I&apos;ve fixed this through less eager createMethod caching. It&apos;s a little unexpected that the home class changes, but it of course is allowed to happen.&lt;/p&gt;

&lt;p&gt;Note that this, as far as I can see, only arises in case of cacheHome=&quot;false&quot; plus lookupHomeOnStartup=&quot;true&quot;. Hence, if you switch both cacheHome AND lookupHomeOnStartup to &quot;false&quot;, it should work properly in Spring 1.2.7/1.2.8 as well.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 30 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 7 Jun 2006 06:47:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04v4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28417</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>