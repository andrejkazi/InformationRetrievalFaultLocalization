<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:45:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2281/SPR-2281.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2281] @Transactional annotation hodes @ManagedResource</title>
                <link>https://jira.spring.io/browse/SPR-2281</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I have a class that has both the annotations @Transactional and @ManagedResource. The resource is not being registered to JMX. If I comment out the @Transactional annotations then the class is registered to JMX.&lt;/p&gt;

&lt;p&gt;My guess is that the class is wrapped by the transactional aspects, and then that wrapped class is passed to the MBeanExporter. The MBeanExporter can no longer see the @ManagedResource annotations.&lt;/p&gt;

&lt;p&gt;This is easy to work around, but I have no idea where to start looking for a fix for it. It may require support from CGLib to propogate the annotations from the underlying class to the wrapped class.&lt;/p&gt;</description>
            <key id="14498">SPR-2281</key>
            <summary>@Transactional annotation hodes @ManagedResource</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robh">Rob Harrop</assignee>
                                    <reporter username="pbpanther">Larry Singer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jul 2006 13:24:53 +0000</created>
                <updated>Tue, 19 Apr 2016 19:32:46 +0000</updated>
                            <resolved>Mon, 17 Jul 2006 22:02:22 +0000</resolved>
                                    <version>1.2.6</version>
                                    <fixVersion>2.0 RC3</fixVersion>
                                    <component>JMX</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="18523" author="pbpanther" created="Tue, 11 Jul 2006 13:26:51 +0000"  >&lt;p&gt;SPR896 may be a similar problem, but I cannot see the original issue to check.&lt;/p&gt;</comment>
                            <comment id="18529" author="robh" created="Tue, 11 Jul 2006 20:34:36 +0000"  >&lt;p&gt;Larry,&lt;/p&gt;

&lt;p&gt;Are you using CGLIB or JDK proxies? This should already work correctly for CGLIB proxies, but not for JDK proxies.&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                            <comment id="18553" author="pbpanther" created="Wed, 12 Jul 2006 10:49:28 +0000"  >&lt;p&gt;Rob,&lt;/p&gt;

&lt;p&gt;I stripped some of my code out to make it more standard Spring and got the exception:&lt;br/&gt;
javax.management.MalformedObjectNameException: Your bean class &lt;span class=&quot;error&quot;&gt;&amp;#91;$Proxy43&amp;#93;&lt;/span&gt; must be marked with a valid ManagedResource attribute when using MetadataNamingStrategy&lt;br/&gt;
	at org.springframework.jmx.export.naming.MetadataNamingStrategy.getObjectName(MetadataNamingStrategy.java:61)&lt;br/&gt;
	at org.springframework.jmx.export.MBeanExporter.getObjectName(MBeanExporter.java:608)&lt;br/&gt;
	at org.springframework.jmx.export.MBeanExporter.registerSimpleBean(MBeanExporter.java:510)&lt;br/&gt;
	at org.springframework.jmx.export.MBeanExporter.registerBeanInstance(MBeanExporter.java:467)&lt;br/&gt;
	at org.springframework.jmx.export.MBeanExporter.registerBeanNameOrInstance(MBeanExporter.java:441)&lt;br/&gt;
	at org.springframework.jmx.export.MBeanExporter.registerBeans(MBeanExporter.java:368)&lt;br/&gt;
	at org.springframework.jmx.export.MBeanExporter.afterPropertiesSet(MBeanExporter.java:312)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1059)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:363)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:226)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:147)&lt;br/&gt;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:275)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:320)&lt;br/&gt;
	at au.com.smarthealth.common.spring.ListApplicationContextLoader.load(ListApplicationContextLoader.java:58)&lt;br/&gt;
	at au.com.smarthealth.server.spring.ServerContextLoaderListener.contextInitialized(ServerContextLoaderListener.java:31)&lt;br/&gt;
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:3669)&lt;br/&gt;
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:4104)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1012)&lt;br/&gt;
	at org.apache.catalina.core.StandardHost.start(StandardHost.java:718)&lt;br/&gt;
	at org.apache.catalina.core.ContainerBase.start(ContainerBase.java:1012)&lt;br/&gt;
	at org.apache.catalina.core.StandardEngine.start(StandardEngine.java:442)&lt;br/&gt;
	at org.apache.catalina.core.StandardService.start(StandardService.java:450)&lt;br/&gt;
	at org.apache.catalina.core.StandardServer.start(StandardServer.java:683)&lt;br/&gt;
	at org.apache.catalina.startup.Catalina.start(Catalina.java:537)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Unknown Source)&lt;br/&gt;
	at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:271)&lt;br/&gt;
	at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:409)&lt;/p&gt;

&lt;p&gt;My class was implementing an interface so it must have been using a JDK proxy. Removing the implements on the class allowed it to be registered to JMX.&lt;/p&gt;

&lt;p&gt;I also tried adding the managed method to the Interface, but still got the exception above.&lt;/p&gt;
</comment>
                            <comment id="18637" author="robh" created="Mon, 17 Jul 2006 22:02:22 +0000"  >&lt;p&gt;Larry,&lt;/p&gt;

&lt;p&gt;We don&apos;t support the use of the JMX metadata model with JDK proxies. To make this work you need to use class proxies. I have clarified this with an explicit check in MetadataNamingStrategy which now throws a descriptive error message.&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10151">
                    <name>Relate</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="68402">SPR-14189</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10020">
                    <name>Related</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="23419">SPR-5057</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 24 weeks, 2 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 11 Jul 2006 20:34:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>juergen.hoeller</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04s1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>