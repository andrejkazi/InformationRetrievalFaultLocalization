<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:25:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-5395/SPR-5395.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-5395] ApplicationContext not closed when using @ContextConfiguration to implement integration tests</title>
                <link>https://jira.spring.io/browse/SPR-5395</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;I am seeing side-effects in an integration test that initializes a Spring ApplicationContext using @ContextConfiguration.  Specifically, close() on the context does not appear to be being called, ever.  I noticed this because one of my DispoableBeans is not receiving a destroy() callback and that is what is causing the side-effect &lt;span class=&quot;error&quot;&gt;&amp;#91;which pops up when a @Test runs in another, unrelated TestCase class&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;I understand a test ApplicationContext is cached between test methods, but I would still expect the context to be closed after all tests have run, before moving on to the next test class in the suite.&lt;/p&gt;</description>
            <key id="25259">SPR-5395</key>
            <summary>ApplicationContext not closed when using @ContextConfiguration to implement integration tests</summary>
                <type id="4" iconUrl="https://jira.spring.io/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://jira.spring.io/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="3">Duplicate</resolution>
                                        <assignee username="sbrannen">Sam Brannen</assignee>
                                    <reporter username="kdonald">Keith Donald</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Jan 2009 01:38:48 +0000</created>
                <updated>Tue, 19 Jun 2012 02:28:12 +0000</updated>
                            <resolved>Sat, 2 May 2009 18:52:05 +0000</resolved>
                                    <version>3.0 M1</version>
                                                    <component>Test</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="41881" author="kdonald" created="Mon, 5 Jan 2009 01:39:08 +0000"  >&lt;p&gt;Some information from Colin Sampaleanu on this:&lt;/p&gt;

&lt;p&gt;&amp;#8211;&lt;/p&gt;

&lt;p&gt;Keith, unfortunately it&apos;s not at all clear to me that there should be any expectation that the should have close() called on it by default.&lt;/p&gt;

&lt;p&gt;With the old AbstractDependencyInjectionSpringContextTests, the same app context was shared across all the test cases (that used the same context path(s)), and close was only called at the end of the test run, and there was a clear contract here to the extent that the two levels higher superclass of that explicitly mentions that close on the cached context(s) is done via a JVM shutdown hook and therefore woudl only happen when the entire test suite is done.&lt;/p&gt;

&lt;p&gt;As for the new TestContext based code, the &quot;contract&quot; is a little bit greyer, but the docs&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://static.springframework.org/spring/docs/2.5.x/reference/testing.html#testcontext-framework&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://static.springframework.org/spring/docs/2.5.x/reference/testing.html#testcontext-framework&lt;/a&gt;&lt;br/&gt;
specifically mention the caching, and talk about the fact that a test method may dirty the context, and need to be annotated with @DirtiesContext, so that basically implies that close() would never be called otherwise.&lt;/p&gt;

&lt;p&gt;What is probably needed is an annotation that can be applied to the whole class, which says to reload the context after this entire test case, but not after each method... &lt;/p&gt;</comment>
                            <comment id="43923" author="sbrannen" created="Sat, 2 May 2009 18:52:05 +0000"  >&lt;p&gt;Duplicates &lt;a href=&quot;https://jira.spring.io/browse/SPR-4702&quot; title=&quot;Support for @DirtiesContext at the test class level&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-4702&quot;&gt;&lt;del&gt;SPR-4702&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="45289" author="sbrannen" created="Mon, 6 Jul 2009 09:45:34 +0000"  >&lt;p&gt;Please note that support for using @DirtiesContext at the class level has been added for the upcoming Spring 3.0.0.RC1 release. Please try out the new feature and provide feedback.&lt;/p&gt;

&lt;p&gt;For further details consult &lt;a href=&quot;https://jira.spring.io/browse/SPR-4702&quot; title=&quot;Support for @DirtiesContext at the test class level&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-4702&quot;&gt;&lt;del&gt;SPR-4702&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://jira.spring.io/browse/SPR-5640&quot; title=&quot;Reload the application context for each test in a class with a class level annotation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-5640&quot;&gt;&lt;del&gt;SPR-5640&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Sam&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="21689">SPR-4702</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10020">
                    <name>Related</name>
                                            <outwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="26202">SPR-5640</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="21689">SPR-4702</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        7 years, 25 weeks, 3 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 2 May 2009 18:52:05 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i033fz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18100</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>