<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 19:23:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2939/SPR-2939.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2939] XmlValidationModeDetector.detectValidationMode has a encoding issue in IBM JDK 1.4.2 :(</title>
                <link>https://jira.spring.io/browse/SPR-2939</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description></description>
            <key id="15682">SPR-2939</key>
            <summary>XmlValidationModeDetector.detectValidationMode has a encoding issue in IBM JDK 1.4.2 :(</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="qxo">qxo</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Dec 2006 14:13:25 +0000</created>
                <updated>Tue, 19 Jun 2012 03:50:36 +0000</updated>
                            <resolved>Mon, 1 Jan 2007 21:00:21 +0000</resolved>
                                    <version>2.0 final</version>
                                    <fixVersion>2.0.2</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="21281" author="qxo" created="Mon, 11 Dec 2006 14:17:24 +0000"  >&lt;p&gt;My  spring config xml have some Chinese &lt;/p&gt;

&lt;p&gt;Caused by: &lt;br/&gt;
sun.io.MalformedInputException&lt;br/&gt;
	at sun.io.ByteToCharGB18030.convert(ByteToCharGB18030.java:170)&lt;br/&gt;
	at sun.nio.cs.StreamDecoder$ConverterSD.convertInto(StreamDecoder.java:287)&lt;br/&gt;
	at sun.nio.cs.StreamDecoder$ConverterSD.implRead(StreamDecoder.java:337)&lt;br/&gt;
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:223)&lt;br/&gt;
	at java.io.InputStreamReader.read(InputStreamReader.java:208)&lt;br/&gt;
	at java.io.BufferedReader.fill(BufferedReader.java:153)&lt;br/&gt;
	at java.io.BufferedReader.readLine(BufferedReader.java:316)&lt;br/&gt;
	at java.io.BufferedReader.readLine(BufferedReader.java:379)&lt;br/&gt;
	at org.springframework.util.xml.XmlValidationModeDetector.detectValidationMode(XmlValidationModeDetector.java:79)&lt;br/&gt;
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.detectValidationMode(XmlBeanDefinitionReader.java:468)&lt;br/&gt;
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.getValidationModeForResource(XmlBeanDefinitionReader.java:438)&lt;br/&gt;
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:404)&lt;br/&gt;
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:357)&lt;/p&gt;</comment>
                            <comment id="21364" author="costin" created="Tue, 19 Dec 2006 23:59:12 +0000"  >&lt;p&gt;First it&apos;s strange that while you are using an IBM VM, the stacktrace showns Sun&apos;s internal classes (sun.*).&lt;br/&gt;
This being said there isn&apos;t much that Spring can do - the encoding problem is handled by the Vm classes and seems that in your case either the encoding is incorrect or the you need to upgrade your VM.&lt;br/&gt;
I&apos;ve found the following issues which might be of interest:&lt;br/&gt;
&lt;a href=&quot;http://bugs.sun.com/bugdatabase/view_bug.do;:WuuT?bug_id=5036209&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://bugs.sun.com/bugdatabase/view_bug.do;:WuuT?bug_id=5036209&lt;/a&gt;&lt;br/&gt;
(basically upgrade the VM machine - which I think you already did)&lt;br/&gt;
&lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=20037&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=20037&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If these do not help you, I suggest you play around with your parser and encoding until you find a combination that fits...&lt;/p&gt;</comment>
                            <comment id="21409" author="juergen.hoeller" created="Thu, 21 Dec 2006 09:37:18 +0000"  >&lt;p&gt;We could potentially catch the MalformedInputException (or it superclass CharConversionException) in XmlValidationModeDetector, falling back to a default validation mode, hoping that the XML parser itself can handle the character set when actually parsing the document. However, which validation mode should we fall back to: DTD or XSD? I guess we could simply analyze the text up until the MalformedInputException, since a DTD declaration won&apos;t typically contain any special characters...&lt;/p&gt;

&lt;p&gt;To get around the entire problem, you could explicitly call &quot;setValidationMode&quot; on your XmlBeanDefinitionReader, telling it whether to expect an XSD or DTD. This avoids the entire validation mode detection, so it will work as long as the XML parser is able to actually parse the document.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="21410" author="juergen.hoeller" created="Thu, 21 Dec 2006 09:44:09 +0000"  >&lt;p&gt;Actually, the MalformedInputException above indicates that some special characters appear before the opening tag of the XML document, probably in some comment. We do stop once we found a DTD declaration or an opening tag already... Could you please paste the beginning of your XML document, indicating where the first special characters appear?&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="21545" author="juergen.hoeller" created="Mon, 1 Jan 2007 21:00:21 +0000"  >&lt;p&gt;I have added a special check for CharConversionException, letting XmlValidationModeDetector return AUTO in that case (= no clear indication). XmlBeanDefinitionReader then decides to use XSD validation by default.&lt;/p&gt;

&lt;p&gt;If that doesn&apos;t work for you, you need to specify XmlBeanDefinitionReader&apos;s &quot;validationMode&quot; setting explicitly, I&apos;m afraid...&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 2 days ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 19 Dec 2006 23:59:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00v27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5077</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>