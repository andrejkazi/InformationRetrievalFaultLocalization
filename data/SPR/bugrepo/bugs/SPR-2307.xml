<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:12:11 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2307/SPR-2307.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2307] &lt;form:option&gt; selects all options</title>
                <link>https://jira.spring.io/browse/SPR-2307</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;In this example, &amp;lt;form:option&amp;gt; does select every option that is being rendered, effectively always selecting the last entry:&lt;/p&gt;

&lt;p&gt;&amp;lt;spring:bind path=&quot;command.rules&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;form:select path=&quot;rules&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;c:forEach var=&quot;rule&quot; items=&quot;$&lt;/p&gt;
{rules}&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;spring:transform var=&quot;key&quot; value=&quot;${rule}&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;form:option value=&quot;${rule}&quot; label=&quot;${key}&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/c:forEach&amp;gt;&lt;br/&gt;
    &amp;lt;/form:select&amp;gt;&lt;br/&gt;
&amp;lt;/spring:bind&amp;gt;&lt;br/&gt;
&lt;br/&gt;
It is the same with the following variation:&lt;br/&gt;
&lt;br/&gt;
&amp;lt;form:select path=&quot;rules&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;c:forEach var=&quot;rule&quot; items=&quot;${rules}
&lt;p&gt;&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;spring:bind path=&quot;command.rules&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;spring:transform var=&quot;key&quot; value=&quot;$&lt;/p&gt;
{rule}&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/spring:bind&amp;gt;&lt;br/&gt;
        &amp;lt;form:option value=&quot;${rule}
&lt;p&gt;&quot; label=&quot;$&lt;/p&gt;
{key}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/c:forEach&amp;gt;&lt;br/&gt;
&amp;lt;/form:select&amp;gt;&lt;/p&gt;

&lt;p&gt;The problem disappears if I reduce the code to the following, by doing without &amp;lt;spring:bind&amp;gt; and &amp;lt;spring:transform&amp;gt;:&lt;/p&gt;

&lt;p&gt;&amp;lt;form:select path=&quot;rules&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;c:forEach var=&quot;rule&quot; items=&quot;$&lt;/p&gt;
{rules}
&lt;p&gt;&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;form:option value=&quot;$&lt;/p&gt;
{rule}&quot; label=&quot;${rule}
&lt;p&gt;&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/c:forEach&amp;gt;&lt;br/&gt;
&amp;lt;/form:select&amp;gt;&lt;/p&gt;

&lt;p&gt;but unfortunately in this case, I have not got a sensible label.&lt;/p&gt;

&lt;p&gt;I suspect, &amp;lt;spring:bind&amp;gt; somehow has a bad influence on the test for equality in &amp;lt;form:option&amp;gt; (always true).&lt;/p&gt;</description>
            <key id="14538">SPR-2307</key>
            <summary>&lt;form:option&gt; selects all options</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robh">Rob Harrop</assignee>
                                    <reporter username="goonie">Andreas Schildbach</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Jul 2006 08:03:17 +0000</created>
                <updated>Tue, 19 Jun 2012 03:52:45 +0000</updated>
                            <resolved>Wed, 19 Jul 2006 00:01:02 +0000</resolved>
                                    <version>2.0 RC2</version>
                                    <fixVersion>2.0 RC3</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="18611" author="robh" created="Sun, 16 Jul 2006 22:26:26 +0000"  >&lt;p&gt;Andreas,&lt;/p&gt;

&lt;p&gt;Can you post the class that corresponds to $&lt;/p&gt;
{rule}
&lt;p&gt;. I guess the main solution here is to try and make the option tag work like &amp;lt;spring:transform/&amp;gt;&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                            <comment id="18613" author="robh" created="Sun, 16 Jul 2006 22:53:43 +0000"  >&lt;p&gt;It also occurs to me that you might have a PropertyEditor that you use for $&lt;/p&gt;
{rule}
&lt;p&gt; - can you post that as well?&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                            <comment id="18627" author="goonie" created="Mon, 17 Jul 2006 05:04:59 +0000"  >&lt;p&gt;Sure, here you are.&lt;/p&gt;</comment>
                            <comment id="18628" author="goonie" created="Mon, 17 Jul 2006 05:12:41 +0000"  >&lt;p&gt;&amp;gt; I guess the main solution here is to try and make the option tag work like &amp;lt;spring:transform/&amp;gt;&lt;/p&gt;

&lt;p&gt;Well yes, it would help if the option tag could optionally expose the stringified (with the PropertyEditor) version of the Object representing the option the tag is rendering. This could be done by a separate attribute with a variable name to be exposed to a local context, similar to &amp;lt;c:forEach&amp;gt;.&lt;/p&gt;</comment>
                            <comment id="18629" author="goonie" created="Mon, 17 Jul 2006 05:51:12 +0000"  >&lt;p&gt;Argh, sorry, my last comment is rubbish. As I have to provide the label to &amp;lt;form:option&amp;gt;, it&apos;s already too late to expose the String to the commands beyond.&lt;/p&gt;

&lt;p&gt;What do you think about this syntax?&lt;/p&gt;

&lt;p&gt;&amp;lt;form:select path=&quot;rules&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;c:forEach var=&quot;rule&quot; items=&quot;$&lt;/p&gt;
{rules}
&lt;p&gt;&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;form:option value=&quot;$&lt;/p&gt;
{rule}
&lt;p&gt;&quot; varKey=&quot;key&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;fmt:message id=&quot;rules.$&lt;/p&gt;
{key}
&lt;p&gt;&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;/form:option&amp;gt;&lt;br/&gt;
    &amp;lt;/c:forEach&amp;gt;&lt;br/&gt;
&amp;lt;/form:select&amp;gt; &lt;/p&gt;

&lt;p&gt;In this example, the content of the &amp;lt;form:option&amp;gt; tag would provide the label.&lt;/p&gt;</comment>
                            <comment id="18634" author="robh" created="Mon, 17 Jul 2006 21:07:27 +0000"  >&lt;p&gt;I&apos;m a little confused now since you are now using the &amp;lt;fmt:message/&amp;gt; tag?&lt;/p&gt;

&lt;p&gt;It was my understanding that you wanted the following to occur:&lt;/p&gt;

&lt;p&gt;given new RulesVariant(&quot;ruleName&quot;, &quot;variantName&quot;)&lt;/p&gt;

&lt;p&gt;to have &lt;/p&gt;

&lt;p&gt;&amp;lt;option&amp;gt;ruleName-variantName&amp;lt;/option&amp;gt;&lt;/p&gt;

&lt;p&gt;This uses to the PropertyEditor to give you the String representation of the label.&lt;/p&gt;

&lt;p&gt;Am I missing something?&lt;/p&gt;</comment>
                            <comment id="18653" author="goonie" created="Tue, 18 Jul 2006 07:45:43 +0000"  >&lt;p&gt;I&apos;m sorry, I tried to keep the examples in my original post as simple as possible. I try to describe my &quot;requirements&quot; with textually:&lt;/p&gt;

&lt;p&gt;The controller is dealing only with objects (RuleVariant), not Strings. I&apos;d like the framework to do the conversion to Strings and back (using the PropertyEditor I have registered). So far its conformant to the original examples. The last example only adds one aspect: internationalization. The labels for the different objects are stored in property files, one for each locale. I use fmt:message for looking up the correct message.&lt;/p&gt;

&lt;p&gt;The simplified version (without i18n) would look like this:&lt;/p&gt;

&lt;p&gt;&amp;lt;form:select path=&quot;rules&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;c:forEach var=&quot;rule&quot; items=&quot;$&lt;/p&gt;
{rules}
&lt;p&gt;&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;form:option value=&quot;$&lt;/p&gt;
{rule}
&lt;p&gt;&quot; varKey=&quot;key&quot;&amp;gt;&lt;br/&gt;
            $&lt;/p&gt;
{key}
&lt;p&gt;        &amp;lt;/form:option&amp;gt;&lt;br/&gt;
    &amp;lt;/c:forEach&amp;gt;&lt;br/&gt;
&amp;lt;/form:select&amp;gt;&lt;/p&gt;</comment>
                            <comment id="18657" author="robh" created="Wed, 19 Jul 2006 00:00:46 +0000"  >&lt;p&gt;Andreas,&lt;/p&gt;

&lt;p&gt;I think what you proposed is the safest way to work here since the form tags should essentially be responsible for mangaging the selected contract. So I went ahead and updated &amp;lt;form:option&amp;gt; to allow for nested content. You now have access to the $&lt;/p&gt;
{value}
&lt;p&gt; and $&lt;/p&gt;
{displayValue}
&lt;p&gt; options - value being the concrete object and displayValue being the Stringified (with PE) value.&lt;/p&gt;

&lt;p&gt;This should also address your &lt;a href=&quot;https://jira.spring.io/browse/SPR-2100&quot; title=&quot;store label in body of &amp;lt;form:option&amp;gt;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SPR-2100&quot;&gt;&lt;del&gt;SPR-2100&lt;/del&gt;&lt;/a&gt; issue.&lt;/p&gt;

&lt;p&gt;Rob&lt;/p&gt;</comment>
                            <comment id="18669" author="goonie" created="Wed, 19 Jul 2006 06:24:46 +0000"  >&lt;p&gt;Thanks Rob! My example works like a charm. However, I&apos;d like to add that instead of implicitly exposing the two variables (possibly overriding/overwriting other attributes with the same name) I would explicitly name the variable to use (or if at all). What about varValue and varDisplayValue? There is also the question of scope - I can&apos;t think of any other sensible scope than &quot;page&quot;.&lt;/p&gt;

&lt;p&gt;I&apos;m having some trouble with null values - I&apos;ll open a separate issue for that.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="11813" name="RulesVariant.java" size="1020" author="goonie" created="Mon, 17 Jul 2006 05:04:59 +0000"/>
                            <attachment id="11814" name="RulesVariantEditor.java" size="377" author="goonie" created="Mon, 17 Jul 2006 05:04:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 24 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 16 Jul 2006 22:26:26 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>true</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01927:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7345</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>