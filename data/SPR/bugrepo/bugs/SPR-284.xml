<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 18:03:34 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-284/SPR-284.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-284] PropertyResourceConfigurer doesn&apos;t handle Properties with defaults properly</title>
                <link>https://jira.spring.io/browse/SPR-284</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;In PropertyResourceConfigurer, if properties have been set, &lt;br/&gt;
the following code is to resolve the properties:&lt;/p&gt;

&lt;p&gt;	public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {&lt;br/&gt;
		Properties props = new Properties();&lt;/p&gt;

&lt;p&gt;		if (this.properties != null) {&lt;br/&gt;
			if (logger.isDebugEnabled()) &lt;/p&gt;
{
				logger.debug(&quot;Applying directly specified properties [&quot; + this.properties + &quot;]&quot;);
			}
&lt;p&gt;			props.putAll(this.properties);&lt;br/&gt;
		}&lt;br/&gt;
                ...&lt;br/&gt;
        }&lt;/p&gt;

&lt;p&gt;However, this doesn&apos;t take into account Properties objects that were created with a default set of Properties for fallback stuff.  Annoyingly, putAll doesn&apos;t do the right thing wrt Properties objects, but, hey, what can you do.&lt;/p&gt;

&lt;p&gt;As a workaround I think that instead of props.putAll(this.properties),&lt;br/&gt;
it should be more like:&lt;/p&gt;

&lt;p&gt;  Enumeration e = this.properties.getPropertyNames();&lt;br/&gt;
  while (e.hasMoreElements())&lt;/p&gt;
  {
    String key = (String)e.nextElement();
    props.setProperty(key, this.properties.getProperty(key));
  }


&lt;p&gt;This will allow people that have fairly rich Properties classes/subclasses to use the PropertyResourceConfigurer in a useful way.&lt;/p&gt;

&lt;p&gt;As a side note, I had to file a similar bug with the Quartz scheduler project last year  &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
</description>
            <key id="10493">SPR-284</key>
            <summary>PropertyResourceConfigurer doesn&apos;t handle Properties with defaults properly</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="retnuh">Hunter Kelly</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Aug 2004 23:16:40 +0000</created>
                <updated>Tue, 24 Aug 2004 23:21:01 +0000</updated>
                            <resolved>Tue, 24 Aug 2004 23:21:01 +0000</resolved>
                                    <version>1.0.2</version>
                                    <fixVersion>1.1 RC1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="10837" author="juergen.hoeller" created="Tue, 24 Aug 2004 23:21:01 +0000"  >&lt;p&gt;Indeed, in 1.0.2, Properties defaults were not properly respected. However, this has been fixed since 1.1 RC1. Please give the current 1.1 RC2 a try and check whether it works for you now!&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        12 years, 19 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 24 Aug 2004 23:21:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i046x3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24495</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>