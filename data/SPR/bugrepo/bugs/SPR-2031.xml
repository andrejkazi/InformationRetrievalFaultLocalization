<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 20:47:19 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SPR-2031/SPR-2031.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SPR-2031] Wrong translation of MS SQL Server RAISERROR</title>
                <link>https://jira.spring.io/browse/SPR-2031</link>
                <project id="10000" key="SPR">Spring Framework</project>
                    <description>&lt;p&gt;There is MS SQL server statement RAISERROR. Calling it causes SQLException. This exception is converted to BadSqlGrammarException by Spring. But grammar is correct.&lt;/p&gt;

&lt;p&gt;The code:&lt;/p&gt;

&lt;p&gt;===&lt;br/&gt;
        try &lt;/p&gt;
{
            dataSource.getConnection().createStatement().execute(&quot;RAISERROR(&apos;Preved!&apos;, 16, 1)&quot;);
        }
&lt;p&gt; catch (SQLException e) &lt;/p&gt;
{
            logger.error(&quot;e: &quot; + e);
            logger.error(&quot;errorCode: &quot; + e.getErrorCode());
            logger.error(&quot;sqlState: &quot; + e.getSQLState());
        }
&lt;p&gt;        try &lt;/p&gt;
{
            new JdbcTemplate(dataSource).execute(&quot;RAISERROR(&apos;Preved!&apos;, 16, 1)&quot;);
        }
&lt;p&gt; catch (DataAccessException e) &lt;/p&gt;
{
            logger.error(&quot;spring e: &quot; + e);
        }
&lt;p&gt;===&lt;/p&gt;

&lt;p&gt;prints:&lt;/p&gt;

&lt;p&gt;===&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Temp&amp;#93;&lt;/span&gt; e: com.microsoft.sqlserver.jdbc.SQLServerException: Preved!&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Temp&amp;#93;&lt;/span&gt; errorCode: 50000&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Temp&amp;#93;&lt;/span&gt; sqlState: S0001&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;JdbcTemplate&amp;#93;&lt;/span&gt; Executing SQL statement &lt;span class=&quot;error&quot;&gt;&amp;#91;RAISERROR(&amp;#39;Preved!&amp;#39;, 16, 1)&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;Temp&amp;#93;&lt;/span&gt; spring e: org.springframework.jdbc.BadSqlGrammarException: StatementCallback; bad SQL grammar &lt;span class=&quot;error&quot;&gt;&amp;#91;RAISERROR(&amp;#39;Preved!&amp;#39;, 16, 1)&amp;#93;&lt;/span&gt;; nested exception is com.microsoft.sqlserver.jdbc.SQLServerException: Preved!&lt;br/&gt;
===&lt;/p&gt;

&lt;p&gt;Look at &lt;a href=&quot;http://msdn2.microsoft.com/en-us/library/ms177497.aspx:&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://msdn2.microsoft.com/en-us/library/ms177497.aspx:&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;===&lt;br/&gt;
RAISERROR is used to return messages back to applications using the same format as a system error or warning message generated by the SQL Server Database Engine.&lt;br/&gt;
===&lt;/p&gt;

&lt;p&gt;Also from there seems like error codes equal or above 50000 are reserved for user errors (and 50000 is default in RAISERROR), all codes in that range maybe should be converted to UserServerErrorDataAccessException, or something I don&apos;t know what.&lt;/p&gt;</description>
            <key id="13995">SPR-2031</key>
            <summary>Wrong translation of MS SQL Server RAISERROR</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="juergen.hoeller">Juergen Hoeller</assignee>
                                    <reporter username="yozh">Stepan Koltsov</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 May 2006 23:03:48 +0000</created>
                <updated>Tue, 19 Jun 2012 03:52:29 +0000</updated>
                            <resolved>Wed, 5 Jul 2006 01:19:45 +0000</resolved>
                                    <version>2.0 M4</version>
                                    <fixVersion>2.0 RC2</fixVersion>
                                    <component>Data</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="18402" author="juergen.hoeller" created="Wed, 5 Jul 2006 01:19:45 +0000"  >&lt;p&gt;The translation to BadSqlGrammarException is caused by the &quot;S0...&quot; SQL state, which corresponds to bad SQL grammar on MySQL. Since this does not seem to apply universally, I&apos;ve removed it from this list again. You will get an UncategorizedSQLException now, which should be appropriate since it&apos;s a user-specific exception.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_10180" key="com.atlassian.jira.toolkit:dayslastcommented">
                        <customfieldname>Days since last comment</customfieldname>
                        <customfieldvalues>
                                        10 years, 26 weeks, 1 day ago
    
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 5 Jul 2006 01:19:45 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10181" key="com.atlassian.jira.toolkit:lastusercommented">
                        <customfieldname>Last commented by a User</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>false</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01erj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8269</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>