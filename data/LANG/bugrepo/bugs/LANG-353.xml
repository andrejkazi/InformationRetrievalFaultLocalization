<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Wed Nov 30 23:27:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LANG-353/LANG-353.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[LANG-353] Javadoc Example for EqualsBuilder is questionable</title>
                <link>https://issues.apache.org/jira/browse/LANG-353</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                    <description>&lt;p&gt;The Javadoc example for the class EqualsBuilder ist questionable:&lt;/p&gt;

&lt;p&gt; public boolean equals(Object obj) {&lt;br/&gt;
   if (obj instanceof MyClass == false) &lt;/p&gt;
{
     return false;
   }
&lt;p&gt;  ...&lt;/p&gt;

&lt;p&gt;The implementation with instanceof lacks guarantees like equals-symmetry  (see e.g. &lt;a href=&quot;http://www.agiledeveloper.com/articles/equals062002.htm&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.agiledeveloper.com/articles/equals062002.htm&lt;/a&gt;  for a discussion of the issue)&lt;br/&gt;
The example should be changed to use getClass(). Attention: the solution in the link above is incomplete as it doesn&apos;t check for null&lt;/p&gt;</description>
                <environment></environment>
        <key id="12376510">LANG-353</key>
            <summary>Javadoc Example for EqualsBuilder is questionable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="kutzi@gmx.de">Christoph Kutzinski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Aug 2007 15:46:11 +0000</created>
                <updated>Mon, 12 Nov 2007 19:56:45 +0000</updated>
                            <resolved>Mon, 12 Nov 2007 19:56:45 +0000</resolved>
                                                    <fixVersion>2.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12528976" author="bayard" created="Thu, 20 Sep 2007 05:07:54 +0000"  >&lt;p&gt;Sounds like you&apos;re suggesting:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;public boolean equals(Object obj) {&lt;/li&gt;
	&lt;li&gt;if (obj == null) 
{ return false; }&lt;br/&gt;
 *   if (obj == this) { return true; }&lt;br/&gt;
 *   if (obj.getClass() != getClass()) {
 *     return false;
 *   }&lt;br/&gt;
 *   MyClass rhs = (MyClass) obj;&lt;br/&gt;
 *   return new EqualsBuilder()&lt;br/&gt;
 *                 .appendSuper(super.equals(obj))&lt;br/&gt;
 *                 .append(field1, rhs.field1)&lt;br/&gt;
 *                 .append(field2, rhs.field2)&lt;br/&gt;
 *                 .append(field3, rhs.field3)&lt;br/&gt;
 *                 .isEquals();&lt;br/&gt;
 *  }&lt;br/&gt;
&lt;br/&gt;
Though an issue that we&apos;ve come across with the builders is what to do with classloaders. So you end up with:&lt;br/&gt;
&lt;br/&gt;
 * public boolean equals(Object obj) {&lt;br/&gt;
 *   if (obj == null) { return false; }&lt;/li&gt;
	&lt;li&gt;if (obj == this) 
{ return true; }&lt;/li&gt;
	&lt;li&gt;if (!obj.getClass().getName().equals(getClass().getName()) 
{
 *     return false;
 *   }&lt;/li&gt;
	&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Or maybe that doesn&apos;t matter because the rest of EqualsBuilder will be unhappy anyway.&lt;/p&gt;</comment>
                            <comment id="12529013" author="kutzi@gmx.de" created="Thu, 20 Sep 2007 07:46:59 +0000"  >&lt;p&gt;Yes, that&apos;s what I&apos;m suggesting.&lt;/p&gt;

&lt;p&gt;And if I understood your second point right - you are suggesting to compare the class names, because the two objects could be loaded in different classloaders:&lt;br/&gt;
No, if two classes are loaded by different classloaders, they (and their instances) are never &quot;equal&quot;. Even if they are loaded from the same source, i.e. the same .class file.&lt;/p&gt;</comment>
                            <comment id="12529149" author="bayard" created="Thu, 20 Sep 2007 16:51:49 +0000"  >&lt;p&gt;Yeah, scratch the classloader bit. I dug around a bit and it was with the Enum code and not the Builder code where we were doing such things. With Enums we did want things to be equal across classloaders, but the builders won&apos;t care.&lt;/p&gt;

&lt;p&gt;I&apos;ll update the javadoc with the first example, and a reference to Effective Java.&lt;/p&gt;</comment>
                            <comment id="12529363" author="kutzi@gmx.de" created="Fri, 21 Sep 2007 09:55:45 +0000"  >&lt;p&gt;Ok.&lt;/p&gt;

&lt;p&gt;Do you have an issue id for the Enum thing? My opinion on that - without knowing the details - is that Enums are not much different from classes and therefore enums from different classloaders shouldn&apos;t be considered equals. So, I would like to comment on that issue.&lt;/p&gt;</comment>
                            <comment id="12533915" author="ggregory@seagullsw.com" created="Thu, 11 Oct 2007 00:44:29 +0000"  >&lt;p&gt;Not to get stuck on the details here, but Enums /are/ different from Classes, and have been made such in Jaav 5. I think of the &lt;span class=&quot;error&quot;&gt;&amp;#91;lang&amp;#93;&lt;/span&gt; enums useful if you cannot use Java 5 enums. I would say that enum elements must be equal across class loaders, otherwise, many an application will have some very odd results. Just imagine, as a simple example, the following (I use the Java 5 notation for brevity):&lt;/p&gt;

&lt;p&gt;public enum Suit &lt;/p&gt;
{ CLUBS, DIAMONDS, HEARTS, SPADES }

&lt;p&gt;CLUBS from one class loader is not the same as... CLUBS from another class loader? Havok in poker-land! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12533977" author="kutzi@gmx.de" created="Thu, 11 Oct 2007 07:43:00 +0000"  >&lt;p&gt;Without knowing the details again (I don&apos;t know which kind of applications you are thinking of): I think if you trying to compare enums from different classloader, that&apos;s already the problem you have. I.e. you shouldn&apos;t try this as it usually indicates that you have mixed up your classloader hierarchy. So it&apos;s better for the enum&apos;s equal to fail fast instead of allowing something which shouldn&apos;t be done.&lt;/p&gt;

&lt;p&gt;But this discussion doesn&apos;t really belong here. If you would like to continue it, you can contact me via e-mail: kutzi@gmx.de&lt;/p&gt;</comment>
                            <comment id="12537846" author="bayard" created="Fri, 26 Oct 2007 06:14:47 +0000"  >&lt;p&gt;Oops, this has sat on my machine for a while. Now committed:&lt;/p&gt;

&lt;p&gt;svn ci -m &quot;Applying the javadoc sample usage change from &lt;a href=&quot;https://issues.apache.org/jira/browse/LANG-353&quot; title=&quot;Javadoc Example for EqualsBuilder is questionable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LANG-353&quot;&gt;&lt;del&gt;LANG-353&lt;/del&gt;&lt;/a&gt; as reported by Christoph Kutzinski&quot; src/java/org/apache/commons/lang/builder/EqualsBuilder.java&lt;/p&gt;

&lt;p&gt;Sending        src/java/org/apache/commons/lang/builder/EqualsBuilder.java&lt;br/&gt;
Transmitting file data .&lt;br/&gt;
Committed revision 588536.&lt;/p&gt;

&lt;p&gt;Prior to closing this, I&apos;m pondering if the EqualsBuilderTest should change to test this pattern too.&lt;/p&gt;</comment>
                            <comment id="12541924" author="bayard" created="Mon, 12 Nov 2007 19:56:45 +0000"  >&lt;p&gt;I updated the tests to use this style in r594276.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 20 Sep 2007 05:07:54 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>147260</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0d67b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>74781</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>