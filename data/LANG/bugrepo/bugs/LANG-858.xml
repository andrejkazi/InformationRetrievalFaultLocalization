<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Wed Nov 30 23:28:27 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/LANG-858/LANG-858.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[LANG-858] StringEscapeUtils.escapeJava() and escapeEcmaScript() do not output the escaped surrogate pairs that are Java parsable</title>
                <link>https://issues.apache.org/jira/browse/LANG-858</link>
                <project id="12310481" key="LANG">Commons Lang</project>
                    <description>&lt;p&gt;In case of Java and ECMA Script, the style of unicode escape &lt;tt&gt;&apos;\uxxxxxx&apos;&lt;/tt&gt; cannot be accepted. We need to separate it into high-surrogate and low-surrogate.&lt;/p&gt;

&lt;p&gt;For example, you put the surrogate pair&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&apos;\uDBFF\uDFFD&apos;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;output must be&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;\\uDBFF\\uDFFD&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However you get&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;\\u10FFFD&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test case here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Test
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testEscapeSurrogatePairs() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;\\uDBFF\\uDFFD&quot;&lt;/span&gt;, StringEscapeUtils.escapeJava(&lt;span class=&quot;code-quote&quot;&gt;&quot;\uDBFF\uDFFD&quot;&lt;/span&gt;));
    assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;\\uDBFF\\uDFFD&quot;&lt;/span&gt;, StringEscapeUtils.escapeEcmaScript(&lt;span class=&quot;code-quote&quot;&gt;&quot;\uDBFF\uDFFD&quot;&lt;/span&gt;));
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I attached the patch which implements simple solution.&lt;br/&gt;
But UnicodeEscaper.java should not be specified for Java, I think. We need to discuss about it.&lt;/p&gt;

&lt;p&gt;This issue does not be appeared in unescape method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12617112">LANG-858</key>
            <summary>StringEscapeUtils.escapeJava() and escapeEcmaScript() do not output the escaped surrogate pairs that are Java parsable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ashphy">Kazuki Hamasaki</reporter>
                        <labels>
                            <label>escaping</label>
                    </labels>
                <created>Wed, 21 Nov 2012 14:40:25 +0000</created>
                <updated>Mon, 21 Oct 2013 05:46:41 +0000</updated>
                            <resolved>Sat, 24 Nov 2012 01:57:07 +0000</resolved>
                                                    <fixVersion>3.2</fixVersion>
                                    <component>lang.*</component>
                    <component>lang.text.translate.*</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13502198" author="garydgregory" created="Wed, 21 Nov 2012 18:52:03 +0000"  >&lt;p&gt;&quot;But UnicodeEscaper.java should not be specified for Java, I think. We need to discuss about it.&quot;&lt;/p&gt;

&lt;p&gt;Can you elaborate please?&lt;/p&gt;

&lt;p&gt;Thank you,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="13502298" author="garydgregory" created="Wed, 21 Nov 2012 20:41:20 +0000"  >&lt;p&gt;Ah, I see, you mean UnicodeEscaper should not be &lt;em&gt;specific&lt;/em&gt; or &lt;em&gt;tied&lt;/em&gt; to Java because Java requires a surrogate pair and not just one value.&lt;/p&gt;</comment>
                            <comment id="13502405" author="ashphy" created="Wed, 21 Nov 2012 23:05:06 +0000"  >&lt;p&gt;For instance, Python supports &lt;tt&gt;\Uxxxxxxxx&lt;/tt&gt;, and Perl supports &lt;tt&gt;\u{xxxxxxxx&lt;/tt&gt;} styles to express the character outside of BMP.&lt;br/&gt;
It&apos;s preferable to support the several type of unicode literal.&lt;/p&gt;</comment>
                            <comment id="13502541" author="garydgregory" created="Thu, 22 Nov 2012 02:24:55 +0000"  >&lt;p&gt;I&apos;ve added some more tests and @Ignore&apos;d the failing ones. &lt;/p&gt;

&lt;p&gt;escapeJava() should behave correctly, we need to see how to make that work under the hood without loosing our current flexibility and making the whole escaping process Java-specific.&lt;/p&gt;</comment>
                            <comment id="13503320" author="garydgregory" created="Sat, 24 Nov 2012 01:57:07 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;commit -m &quot;&amp;lt;action issue=&quot;LANG-858&quot; type=&quot;fix&quot;&amp;gt;StringEscapeUtils.escapeJava() and escapeEcmaScript() do not output the escaped surrogate pairs that are Java parsable&amp;lt;/action&amp;gt;&quot; C:/svn/org/apache/commons/trunks-proper/lang/src/changes/changes.xml C:/svn/org/apache/commons/trunks-proper/lang/src/test/java/org/apache/commons/lang3/StringUtilsTest.java C:/svn/org/apache/commons/trunks-proper/lang/src/main/java/org/apache/commons/lang3/text/translate/JavaUnicodeEscaper.java C:/svn/org/apache/commons/trunks-proper/lang/src/main/java/org/apache/commons/lang3/StringEscapeUtils.java C:/svn/org/apache/commons/trunks-proper/lang/src/main/java/org/apache/commons/lang3/text/translate/UnicodeEscaper.java
    Sending        C:/svn/org/apache/commons/trunks-proper/lang/src/changes/changes.xml
    Sending        C:/svn/org/apache/commons/trunks-proper/lang/src/main/java/org/apache/commons/lang3/StringEscapeUtils.java
    Adding         C:/svn/org/apache/commons/trunks-proper/lang/src/main/java/org/apache/commons/lang3/text/translate/JavaUnicodeEscaper.java
    Sending        C:/svn/org/apache/commons/trunks-proper/lang/src/main/java/org/apache/commons/lang3/text/translate/UnicodeEscaper.java
    Sending        C:/svn/org/apache/commons/trunks-proper/lang/src/test/java/org/apache/commons/lang3/StringUtilsTest.java
    Transmitting file data ...
    Committed revision 1413114.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12554500" name="JavaUnicodeEscape.patch" size="870" author="ashphy" created="Wed, 21 Nov 2012 14:41:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 21 Nov 2012 18:52:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>259312</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0loaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124585</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>