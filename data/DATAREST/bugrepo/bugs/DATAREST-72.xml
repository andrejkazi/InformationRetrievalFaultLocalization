<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 17:04:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATAREST-72/DATAREST-72.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATAREST-72] @RestResource(exported = false) is not considered on repository interfaces</title>
                <link>https://jira.spring.io/browse/DATAREST-72</link>
                <project id="10901" key="DATAREST">Spring Data REST</project>
                    <description>&lt;p&gt;Run the Spring RESTBucks example with &lt;tt&gt;mvn jetty:run&lt;/tt&gt;. Browse &lt;a href=&quot;http://localhost:8080&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8080&lt;/a&gt; and see the repositories for credit cards and payments being exposed although the repositories carry the aforementioned annotation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="47645">DATAREST-72</key>
            <summary>@RestResource(exported = false) is not considered on repository interfaces</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olivergierke">Oliver Gierke</assignee>
                                    <reporter username="olivergierke">Oliver Gierke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Mar 2013 03:57:34 +0000</created>
                <updated>Sun, 24 Nov 2013 12:33:26 +0000</updated>
                            <resolved>Thu, 21 Nov 2013 01:57:54 +0000</resolved>
                                                    <fixVersion>2.0 M1 (Codd)</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="88515" author="jbrisbin" created="Wed, 6 Mar 2013 09:31:15 +0000"  >&lt;p&gt;Fixed in the latest snapshots.&lt;/p&gt;</comment>
                            <comment id="88575" author="jcasalruiz" created="Fri, 8 Mar 2013 08:23:31 +0000"  >&lt;p&gt;Not sure if this requires a new ticket, but seems that @RestResource(exported = false) is not considered at field and method level.&lt;/p&gt;

&lt;p&gt;Test:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;git clone &lt;a href=&quot;https://github.com/olivergierke/spring-restbucks.git&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/olivergierke/spring-restbucks.git&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;git checkout sd-rest-next&lt;/li&gt;
	&lt;li&gt;Add @RestResource(exported = false) to items at Order.java&lt;/li&gt;
	&lt;li&gt;Add @RestResource(exported = false) to findByStatus at OrderRepository.java&lt;/li&gt;
	&lt;li&gt;mvn jetty:run&lt;/li&gt;
	&lt;li&gt;curl &lt;a href=&quot;http://localhost:8080/orders/search&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8080/orders/search&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Method fundByStatus appears.&lt;/li&gt;
	&lt;li&gt;curl &lt;a href=&quot;http://localhost:8080/orders/2&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://localhost:8080/orders/2&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Field Items appear.&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="88576" author="jcasalruiz" created="Fri, 8 Mar 2013 08:24:53 +0000"  >&lt;p&gt;Details at comments.&lt;/p&gt;</comment>
                            <comment id="88585" author="jbrisbin" created="Fri, 8 Mar 2013 13:51:27 +0000"  >&lt;p&gt;We actually had some discussions about this internally early on. We arm wrestled over it and eventually ended up with the notion that it&apos;s not a terribly good idea to use an annotation to turn on and off a property. The idea is that it&apos;s not a full Resource in the same sense that a Repository or an Entity is and you have to search both the Field and try and find a Method if you&apos;re going to support both field-level and method-level annotations for a property.&lt;/p&gt;

&lt;p&gt;If you override the &lt;tt&gt;configureRepositoryRestConfiguration&lt;/tt&gt; method in the &lt;tt&gt;RepositoryRestMvcConfiguration&lt;/tt&gt;, you can add a &lt;tt&gt;ResourceMapping&lt;/tt&gt; for the property of an entity. That&apos;s where you can turn things off.&lt;/p&gt;


&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: gray; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;@Override&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;protected&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;void&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt; configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;	config.addResourceMappingForDomainType(Person.&lt;/span&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;class&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;	      .addResourceMappingFor(&lt;/span&gt;&lt;span style=&quot;color: blue; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;&quot;siblings&quot;&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;	      .setExported(&lt;/span&gt;&lt;span style=&quot;color: #006699; font-weight: bold; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;false&lt;/span&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;);&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;


&lt;p&gt;This is copied from the spring-data-rest-example application (I added the setExported to demonstrate this and validated that it does turn off a property in the rest-shell) included in the spring-data-rest source code.&lt;/p&gt;</comment>
                            <comment id="88616" author="jcasalruiz" created="Mon, 11 Mar 2013 02:04:08 +0000"  >&lt;p&gt;The whole problem that I&apos;m having is about securing my application. &lt;tt&gt;RestResource&lt;/tt&gt; at field level in addition of &lt;tt&gt;@JsonIgnore&lt;/tt&gt; just helped without being a really good idea. I&apos;ll try your solution.&lt;/p&gt;</comment>
                            <comment id="88618" author="jcasalruiz" created="Mon, 11 Mar 2013 04:22:18 +0000"  >&lt;p&gt;It&apos;s the same for repository methods? Seems that now ignores the annotation at repository method level too.&lt;/p&gt;</comment>
                            <comment id="95842" author="ptahchiev" created="Sat, 23 Nov 2013 06:40:35 +0000"  >&lt;p&gt;I don&apos;t think this is fixed.&lt;/p&gt;

&lt;p&gt;It is closely related to &lt;a href=&quot;https://jira.spring.io/browse/DATAREST-196&quot; title=&quot;No way to exclude repository from being exported.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DATAREST-196&quot;&gt;&lt;del&gt;DATACMNS-375&lt;/del&gt;&lt;/a&gt;, which I still experience, even when using data-rest-core 2.0.0.M1, with data-rest-repository 1.1.0.M1, with data-commons 1.7.0.M1.&lt;/p&gt;

&lt;p&gt;Please reopen it.&lt;/p&gt;</comment>
                            <comment id="95854" author="olivergierke" created="Sun, 24 Nov 2013 10:28:58 +0000"  >&lt;p&gt;What exactly makes you think it&apos;s not fixed? With the 2.0 M1 release we entirely rewrote the mapping metadata for the resources exposed for repositories. You might wanna check the according &lt;a href=&quot;https://github.com/spring-projects/spring-data-rest/blob/master/spring-data-rest-core/src/test/java/org/springframework/data/rest/core/mapping/RepositoryCollectionResourceMappingUnitTests.java#L48&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;unit test&lt;/a&gt; for the mapping metadata honoring the annotation to not expose it.&lt;/p&gt;

&lt;p&gt;I&apos;ll move &lt;a href=&quot;https://jira.spring.io/browse/DATAREST-196&quot; title=&quot;No way to exclude repository from being exported.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DATAREST-196&quot;&gt;&lt;del&gt;DATACMNS-375&lt;/del&gt;&lt;/a&gt; to SD REST as none of the export mechanisms is managed in Spring Data Commons directly. The ticket effectively seems to be a duplicate of this one here.&lt;/p&gt;</comment>
                            <comment id="95855" author="olivergierke" created="Sun, 24 Nov 2013 10:31:40 +0000"  >&lt;p&gt;If you can come up with a reproducible test case, feel free to open another ticket. Simply making the repository package protected also prevents it from being excluded by default.&lt;/p&gt;</comment>
                            <comment id="95858" author="ptahchiev" created="Sun, 24 Nov 2013 12:33:26 +0000"  >&lt;p&gt;As you suggested I have created a new issue with a sample project to reproduce it. Please refer to &lt;a href=&quot;https://jira.spring.io/browse/DATAREST-197&quot; title=&quot;@RestResource(exported=false) throws java.lang.IllegalArgumentException: Not an managed type: class java.lang.Object&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DATAREST-197&quot;&gt;&lt;del&gt;DATAREST-197&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="51073">DATAREST-196</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 6 Mar 2013 09:31:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34230</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0668f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>36048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33932</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>