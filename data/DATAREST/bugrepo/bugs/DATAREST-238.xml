<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 16:57:18 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATAREST-238/DATAREST-238.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATAREST-238] PUT on entity with self links causes changes to be overwritten with old values</title>
                <link>https://jira.spring.io/browse/DATAREST-238</link>
                <project id="10901" key="DATAREST">Spring Data REST</project>
                    <description>&lt;p&gt;When PUTting the following JSON (a &quot;Workload&quot; entity):&lt;/p&gt;
&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;{&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  &quot;version&quot; : 1,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  &quot;weight&quot; : 123,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  &quot;handlingMinutes&quot; : 2,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  &quot;articleCount&quot; : 3,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  &quot;address&quot; : {&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;line1&quot; : null,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;line2&quot; : null,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;line3&quot; : null,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;postCode&quot; : &quot;53123&quot;,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;city&quot; : &quot;Bonn          &quot;,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;countryCode&quot; : null,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;street&quot; : &quot;Bonner Bonnweg&quot;,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;houseNumber&quot; : &quot;125&quot;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  },&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  &quot;links&quot; : [ {&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;rel&quot; : &quot;self&quot;,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;href&quot; : &quot;http://127.0.0.1:8000/api/workloadDao/1060&quot;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  }, {&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;rel&quot; : &quot;area&quot;,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;href&quot; : &quot;http://127.0.0.1:8000/api/workloadDao/1060/area&quot;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  }, {&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;rel&quot; : &quot;product&quot;,&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;    &quot;href&quot; : &quot;http://127.0.0.1:8000/api/workloadDao/1060/product&quot;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;  } ]&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;}&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;.. the incoming JSON is converted all fine and well, until it runs into the links/rel/self/href thing, and hits this line: &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This causes the converted Workload entity from the PUT call to be overwritten with the old values. End-effect: A PUT looks like it is successful, but no changes are stored.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/spring-projects/spring-data-rest/blob/2.0.0.M1/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/PersistentEntityJackson2Module.java#L135&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-data-rest/blob/2.0.0.M1/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/json/PersistentEntityJackson2Module.java#L135&lt;/a&gt;&lt;/p&gt;</description>
                <environment>OS X, JDK 1.7, PostgreSQL with JPA/EclipseLink&lt;br/&gt;
spring-version: 3.2.6.RELEASE&lt;br/&gt;
spring-data-jpa-version:1.3.4.RELEASE&lt;br/&gt;
spring-data-rest-version: 2.0.0.M1&lt;br/&gt;
eclipselink-version: 2.5.1</environment>
        <key id="55396">DATAREST-238</key>
            <summary>PUT on entity with self links causes changes to be overwritten with old values</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gregturn">Greg Turnquist</assignee>
                                    <reporter username="tfnico">Thomas Ferris Nicolaisen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 30 Jan 2014 06:00:51 +0000</created>
                <updated>Thu, 4 Jun 2015 09:08:54 +0000</updated>
                            <resolved>Thu, 13 Feb 2014 03:24:19 +0000</resolved>
                                    <version>2.0 M1 (Codd)</version>
                                    <fixVersion>2.0 GA (Codd)</fixVersion>
                                    <component>Content negotiation</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                <comments>
                            <comment id="98280" author="nickweedon" created="Fri, 31 Jan 2014 10:27:52 +0000"  >&lt;p&gt;Its interesting that this happens. I was reworking the code in that area (in a private fork of SDR) and I couldn&apos;t make sense of the code I saw. I figured that this bug that you see would be the result. &lt;/p&gt;

&lt;p&gt;I am just in the process of adding unit tests for a fix that will address this issue (as well as allowing Jackson annotations to be 100% compatible with SDR). &lt;/p&gt;

&lt;p&gt;Once i submit the pull request, it might take some time for the fix to be reviewed though since I know that the SDR developers are pretty swamped with features and issues at the moment.&lt;/p&gt;

&lt;p&gt;Assuming we are not both somehow mistaken, its good to know I wasn&apos;t going crazy by thinking that the existing code was a bit broken in this area &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="98366" author="gregturn" created="Mon, 3 Feb 2014 09:26:41 +0000"  >&lt;p&gt;I&apos;ve tracked down the issue. Essentially, I had to cut out that deserializer. Deserializing a JSON object should simply ignore the _links given that they are read only data and the default deserializers can do it with an adjustment to the configuration.&lt;/p&gt;</comment>
                            <comment id="98370" author="gregturn" created="Mon, 3 Feb 2014 09:48:33 +0000"  >&lt;p&gt;Fix for this issue&lt;/p&gt;</comment>
                            <comment id="98381" author="nickweedon" created="Mon, 3 Feb 2014 17:43:36 +0000"  >&lt;p&gt;I actually already have a fix for this, only my fix actually does not ignore the _links section, instead, the linked associations are included in the deserialized object. &lt;/p&gt;

&lt;p&gt;The self link is a special case and the ID is extracted from the self link and used as the id field of the object (an exception is thrown if an ID is already provided). This is consistent with the GET behavior since the self link can be used as the ID in this case.&lt;/p&gt;

&lt;p&gt;The way that my deserializer works is as follows:&lt;br/&gt;
1. Create a token buffer&lt;br/&gt;
2. Recursively parse the incoming request using JsonParser &lt;br/&gt;
3. Add all non &apos;_links&apos; tokens to the token buffer.&lt;br/&gt;
4. Convert _links entries into json token format (using existing code to locate the correct repository and call findOne) and add to the token buffer as json tokens.&lt;br/&gt;
5. Take the token buffer and deserialize this as a regular JSON object. This allows all Jackson annotations in the domain class to still be honored.&lt;/p&gt;

&lt;p&gt;This recursive parser works with link arrays and _links sections within inlined objects.&lt;/p&gt;

&lt;p&gt;For the serializer side, I have also performed changes (i won&apos;t go into detail here) to allow the Jackson annotations in the domain class to be honored when serializing. &lt;/p&gt;

&lt;p&gt;I should hopefully have it submitted today, I am just finishing off some unit tests.&lt;/p&gt;</comment>
                            <comment id="98397" author="nickweedon" created="Tue, 4 Feb 2014 04:57:05 +0000"  >&lt;p&gt;Here is the fix i mentioned (&lt;a href=&quot;https://github.com/spring-projects/spring-data-rest/pull/133&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-data-rest/pull/133&lt;/a&gt;).&lt;br/&gt;
Note that this uses the &apos;draft-kelly-json-hal-06&apos; IETF draft Hal style (the style that appears to be used in GETs in the latest SDR release).&lt;/p&gt;</comment>
                            <comment id="98398" author="tfnico" created="Tue, 4 Feb 2014 05:04:22 +0000"  >&lt;p&gt;@Nick Do you want me to build/test on that PR?&lt;/p&gt;</comment>
                            <comment id="98400" author="nickweedon" created="Tue, 4 Feb 2014 05:12:45 +0000"  >&lt;p&gt;You certainly can be but beware that it has not yet been reviewed by the SDR developers and so it may not make it into a release. &lt;/p&gt;

&lt;p&gt;I am basically just putting forward a proposed &apos;fix&apos;. &lt;/p&gt;

&lt;p&gt;As long as you are potentially prepared to repatch with these changes then go for it. Otherwise I would wait until it gets reviewed.&lt;/p&gt;</comment>
                            <comment id="98422" author="gregturn" created="Tue, 4 Feb 2014 08:31:21 +0000"  >&lt;p&gt;Thanks @Nick for your effort.&lt;/p&gt;

&lt;p&gt;The fix I have attached in a link above in a separate PR basically ignores the _links attribute when doing any sort of an update. That allows the update to focus purely on the data structure. This also has the beneficial side effect that it doesn&apos;t matter if its called _links, links, _foobar, or whatever. Any attributes that we add on when rendering the JSON that are additive are essentially ignored when you turn around and push it back to update/replace the attribute. And since we can glean id numbers and or property name based on URIs, we don&apos;t really need to fetch such URI components from the _links section.&lt;/p&gt;

&lt;p&gt;If there are other parts of PR 133 that needs to be evaluated, can you comment on their respective JIRA issues so we don&apos;t lose track of that?&lt;/p&gt;</comment>
                            <comment id="98429" author="nickweedon" created="Tue, 4 Feb 2014 09:44:18 +0000"  >&lt;p&gt;Oliver has kindly explained to me the reasons behind moving away from processing the _links sections, particularly in the area of updating existing relations. Understanding this now, i can see why you ignore the _links section.&lt;/p&gt;

&lt;p&gt;I have gone through the Jira issues and commented on those that i believe my fix is applicable to. You can now of course ignore my comments on Jira issues that relate to _links processing.&lt;/p&gt;

&lt;p&gt;The focus of my change was supposed to be focused on allowing JSON serialization and deserialzation to work without ignoring Jackson annotations on the domain class. I kind of got a bit side tracked on the _links functionality when I saw some existing behaviour there. My fix does still address Jackson annotations however. I believe that the fix you have made will also allow Jackson annotations to work since the entire domain object will now be processed by the default jackson deserializer. &lt;/p&gt;

&lt;p&gt;I would recommend against ignoring all unknown data fields however since silent failure can have dire consequences, particularly when dealing with data. Consider the case where a REST client is updated with a new data field but the REST server has not been updated. In such a case data will be lost if this new field is ignored and it is better to reject such a request with a http error. Ignoring known decorative fields such as a _links &apos;self&apos; field is safe because the intent of the update is still understood. By ignoring all fields on the other hand, there is an opportunity for data corruption to occur.   &lt;/p&gt;

</comment>
                            <comment id="98435" author="gregturn" created="Tue, 4 Feb 2014 13:48:38 +0000"  >&lt;p&gt;@nick&lt;/p&gt;

&lt;p&gt;I took your advice. Check PR 130 and see how I replaced ignoring ALL unknowns with a handler to only ignore _links.&lt;/p&gt;</comment>
                            <comment id="98445" author="nickweedon" created="Tue, 4 Feb 2014 18:59:54 +0000"  >&lt;p&gt;That looks good. Looks like a nice clean fix for the issue at hand. &lt;/p&gt;

&lt;p&gt;Thinking forward on this issue (and what I am about to say really belongs in a different but related ticket), i am wondering why the _links field was previously being ignored instead of allowing an error to occur? Is that for reasons of backwards compatibility or some Hal client perhaps?&lt;br/&gt;
I would think that if anything other than a &apos;self&apos; link is provided then the result would probably not be what the REST client expected. Maybe a &apos;developer friendly&apos; exception should be raised in such a case, explaining that Hal fields are not support in POSTs/PUTs?&lt;/p&gt;

&lt;p&gt;Anyhow, like I said, these thoughts probably belong in another ticket. I think your fix addresses the issue well.&lt;/p&gt;</comment>
                            <comment id="98835" author="olivergierke" created="Wed, 12 Feb 2014 07:45:47 +0000"  >&lt;p&gt;The PR generally looks good to me. I&apos;d vote to simply ignore all unknown properties for now as a dedicated ignoring has to be media type specific (&lt;tt&gt;_links&lt;/tt&gt; might be a perfectly valid property in non-HAL representations), which we currently cannot take into account.&lt;/p&gt;

&lt;p&gt;Also, in a REST model, &lt;b&gt;the server&lt;/b&gt; drives the interaction and defines which data it will accept. Hence the client being &quot;newer&quot; than the server is a pretty uncommon (if not disallowed) scenario.&lt;/p&gt;</comment>
                            <comment id="98883" author="nickweedon" created="Thu, 13 Feb 2014 01:44:31 +0000"  >&lt;p&gt;Looking at the old code again, it actually looks like the code was in fact previously ignoring all fields already. The funny thing is that the checks that are done to see if the property name is &quot;links&quot; or &quot;rel&quot; are completely redundant since the field is ignored if there is no persistent property of this name. In fact the only time that the if(&quot;links&quot;.equals) would even execute would be in the case where you actually have a persistent property named links??? I think that this broken code tricked me into thinking that it was only ignoring these fields.&lt;/p&gt;

&lt;p&gt;Anyhow, that aside, given that this was the previous behavior, I agree that it is better to maintain this behavior since changing it does not relate to this ticket. I therefore apologize for the bum steer (Australian expression :] ).&lt;/p&gt;

&lt;p&gt;For any final/releasable version however, my advice still holds. Although you mention that the client being &quot;newer&quot; than the server is pretty uncommon, in my experience this has happened quite frequently. The situation often rears its ugly head when you have a server product that acts as a client to another server, particularly in large enterprise systems that span multiple time zones and that are therefore often governed by different groups of people. In such a setting it is quite frequent that one group will upgrade to a newer version of the product before another group and in a totally chaotic and haphazard manner &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; It is also quite frequent in the case of rolling upgrades when dealing with high availability (i.e. 24/7) servers where the servers are exchanging information between one another (such as when replicating data through REST due to the servers using heterogeneous data storage, for instance one being integrated into Active Directory via LDAP and the other using an Oracle database).&lt;/p&gt;

&lt;p&gt;There are also various permutations of this problem involving new or removed fields emerging in new client or server versions of a product.&lt;/p&gt;

&lt;p&gt;When dealing with data corruption, particularly when the victim is a large international company such as HSBC or Deutsche Bank for instance (i.e. one that can bend you over with a large gang of lawyers), telling them that it is a disallowed scenario doesn&apos;t really help anyone. Data corruption is the worst kind of bug and it should be avoided at all costs, even if the situation is uncommon.&lt;/p&gt;

&lt;p&gt;Sorry for the large sermon but I just wanted to elaborate on some of the kind of scenarios where this can occur.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="50572">DATAREST-143</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 31 Jan 2014 10:27:52 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>olivergierke</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10684" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Pull Request URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/spring-projects/spring-data-rest/pull/130]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i004u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>791</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41575</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10120" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Reference URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://gist.github.com/tfnico/37d24e841e63af2397ee]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10480" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="34">43 - Babbage SR3</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>