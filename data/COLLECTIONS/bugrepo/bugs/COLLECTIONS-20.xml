<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun Nov 20 00:41:14 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/COLLECTIONS-20/COLLECTIONS-20.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[COLLECTIONS-20] [collections] TestObservedBag and TestObservedSet fail under Java 1.3.1</title>
                <link>https://issues.apache.org/jira/browse/COLLECTIONS-20</link>
                <project id="12310465" key="COLLECTIONS">Commons Collections</project>
                    <description>&lt;p&gt;With CVS HEAD of 2003-Sept-16 two unit tests fail under Java 1.3.1_04.&lt;/p&gt;

&lt;p&gt;  $ java -version&lt;br/&gt;
  java version &quot;1.3.1_04&quot;&lt;br/&gt;
  Java(TM) 2 Runtime Environment, Standard Edition (build 1.3.1_04-b02)&lt;br/&gt;
  Java HotSpot(TM) Client VM (build 1.3.1_04-b02, mixed mode)&lt;/p&gt;

&lt;p&gt;The stack trace is:&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; There were 2 failures:&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; 1) testObservedSet(o.a.c.collections.observed.TestObservedBag)&lt;br/&gt;
junit.framework.AssertionFailedError: expected same:&amp;lt;7&amp;gt; was not:&amp;lt;6&amp;gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at&lt;br/&gt;
o.a.c.collections.observed.ObservedTestHelper.doTestRemoveIterated(ObservedTestHelper.java:933)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at&lt;br/&gt;
o.a.c.collections.observed.ObservedTestHelper.bulkTestObservedCollection(ObservedTestHelper.java:156)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at&lt;br/&gt;
o.a.c.collections.observed.ObservedTestHelper.bulkTestObservedBag(ObservedTestHelper.java:188)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at&lt;br/&gt;
o.a.c.collections.observed.TestObservedBag.testObservedSet(TestObservedBag.java:98)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; 2) testObservedSet(o.a.c.collections.observed.TestObservedSet)&lt;br/&gt;
junit.framework.AssertionFailedError: expected same:&amp;lt;7&amp;gt; was not:&amp;lt;6&amp;gt;&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at&lt;br/&gt;
o.a.c.collections.observed.ObservedTestHelper.doTestRemoveIterated(ObservedTestHelper.java:933)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at&lt;br/&gt;
o.a.c.collections.observed.ObservedTestHelper.bulkTestObservedCollection(ObservedTestHelper.java:156)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at&lt;br/&gt;
o.a.c.collections.observed.ObservedTestHelper.bulkTestObservedSet(ObservedTestHelper.java:164)&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt;     at&lt;br/&gt;
o.a.c.collections.observed.TestObservedSet.testObservedSet(TestObservedSet.java:106)&lt;/p&gt;

&lt;p&gt;     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; FAILURES!!!&lt;br/&gt;
     &lt;span class=&quot;error&quot;&gt;&amp;#91;java&amp;#93;&lt;/span&gt; Tests run: 7489,  Failures: 2,  Errors: 0&lt;/p&gt;


&lt;p&gt;It doesn&apos;t matter whether it is compiled with 1.4.1 or 1.3.1 as summarized here:&lt;/p&gt;

&lt;p&gt;                          Run with:&lt;/p&gt;

&lt;p&gt;                          1.3.1_04        1.4.1_03&lt;/p&gt;

&lt;p&gt;Compiled with:  1.3.1_04    fail            pass &lt;/p&gt;

&lt;p&gt;                1.4.1_03    fail            pass&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340972">COLLECTIONS-20</key>
            <summary>[collections] TestObservedBag and TestObservedSet fail under Java 1.3.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="janekdb@yahoo.co.uk">Janek Bogucki</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Sep 2003 03:05:33 +0000</created>
                <updated>Sat, 15 Mar 2008 21:35:57 +0000</updated>
                            <resolved>Sat, 15 Mar 2008 21:35:57 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12405085" author="janekdb@yahoo.co.uk" created="Sat, 20 Sep 2003 03:37:53 +0000"  >&lt;p&gt;I looked into this a (tiny) bit and discovered that the fault is related to an&lt;br/&gt;
assumption made in ObservedTestHelper.doTestRemoveIterated(ObservedFactory&lt;br/&gt;
factory) about the order of elements returned by the iterator:&lt;/p&gt;

&lt;p&gt;        coll.addAll(SIX_SEVEN_LIST);&lt;br/&gt;
        LISTENER.preEvent = null;&lt;br/&gt;
        LISTENER.postEvent = null;&lt;br/&gt;
        Assert.assertEquals(2, coll.size());&lt;br/&gt;
        Iterator it = coll.iterator();&lt;br/&gt;
        it.next();&lt;br/&gt;
        it.next();&lt;br/&gt;
        it.remove();&lt;br/&gt;
        Assert.assertEquals(1, coll.size());&lt;/p&gt;

&lt;p&gt;Here the last element of the collection is removed however the order the&lt;br/&gt;
elements returned by the iterator is different between JDK 1.3.1 and JDK 1.4.1.&lt;/p&gt;

&lt;p&gt;The order by type is show here:&lt;/p&gt;

&lt;p&gt;                       1.3.1    1.4.1     &lt;/p&gt;

&lt;p&gt;  ObservedBag          7, 6     6, 7&lt;br/&gt;
  ObservedBuffer       6, 7     6, 7&lt;br/&gt;
  ObservedCollection   6, 7     6, 7&lt;br/&gt;
  ObservedList         6, 7     6, 7&lt;br/&gt;
  ObservedSet          7, 6     6, 7&lt;/p&gt;</comment>
                            <comment id="12405086" author="scolebourne@joda.org" created="Sat, 20 Sep 2003 19:17:19 +0000"  >&lt;p&gt;Fixed, good catch, thanks&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23201</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 20 Sep 2003 19:17:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 11 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sjtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164688</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>