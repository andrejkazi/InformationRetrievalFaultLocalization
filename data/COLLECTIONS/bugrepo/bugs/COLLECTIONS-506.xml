<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sun Nov 20 00:21:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/COLLECTIONS-506/COLLECTIONS-506.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[COLLECTIONS-506] Result of CollectionUtils are different between version 3.2.1 and version 4.0</title>
                <link>https://issues.apache.org/jira/browse/COLLECTIONS-506</link>
                <project id="12310465" key="COLLECTIONS">Commons Collections</project>
                    <description>&lt;p&gt;CollectionUtils V3 uses equals to compute results but not CollectionUtils v4 (it seems to use ==)&lt;/p&gt;

&lt;p&gt;The following exemple with subtract method :&lt;/p&gt;

&lt;p&gt; List&amp;lt;ObjectTest&amp;gt; listA = new ArrayList&amp;lt;ObjectTest&amp;gt;();&lt;br/&gt;
        List&amp;lt;ObjectTest&amp;gt; listB = new ArrayList&amp;lt;ObjectTest&amp;gt;();&lt;/p&gt;

&lt;p&gt;        listA.add(new ObjectTest(&quot;Test1&quot;));&lt;br/&gt;
        listA.add(new ObjectTest(&quot;Test2&quot;));&lt;br/&gt;
        listA.add(new ObjectTest(&quot;Test3&quot;));&lt;/p&gt;

&lt;p&gt;        listB.add(new ObjectTest(&quot;Test1&quot;));&lt;br/&gt;
        listB.add(new ObjectTest(&quot;Test2&quot;));&lt;/p&gt;


&lt;p&gt;        Collection&amp;lt;?&amp;gt; res1 = org.apache.commons.collections.CollectionUtils.subtract(listA, listB);&lt;br/&gt;
        System.out.println(&quot;Res1 size = &quot; +res1.size());&lt;br/&gt;
        Collection&amp;lt;?&amp;gt; res2 =  org.apache.commons.collections4.CollectionUtils.subtract(listA, listB);&lt;br/&gt;
        System.out.println(&quot;Res2 size = &quot; +res2.size());&lt;/p&gt;


&lt;p&gt;Produces this : &lt;br/&gt;
Res1 size = 1&lt;br/&gt;
Res2 size = 3&lt;/p&gt;

&lt;p&gt;The new behaviour is not useful. It would be better to have the V3 behaviour&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12686070">COLLECTIONS-506</key>
            <summary>Result of CollectionUtils are different between version 3.2.1 and version 4.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="anthonyC">Anthony Communier</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Dec 2013 19:13:10 +0000</created>
                <updated>Fri, 27 Nov 2015 21:11:18 +0000</updated>
                            <resolved>Tue, 31 Dec 2013 16:25:11 +0000</resolved>
                                    <version>4.0</version>
                                    <fixVersion>4.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13855241" author="anthonyc" created="Sun, 22 Dec 2013 19:14:35 +0000"  >&lt;p&gt;This is the example&lt;/p&gt;</comment>
                            <comment id="13855249" author="tn" created="Sun, 22 Dec 2013 20:04:50 +0000"  >&lt;p&gt;I could not yet test your example but looking at the source of ObjectTest it looks like you did not implement hashCode properly.&lt;/p&gt;

&lt;p&gt;As the subtract method puts the items in a HashBag it is absolutely necessary that you follow the contract for Object#equals (see &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals%28java.lang.Object%29&lt;/a&gt;) for more details.&lt;/p&gt;</comment>
                            <comment id="13855268" author="anthonyc" created="Sun, 22 Dec 2013 20:47:39 +0000"  >&lt;p&gt;You&apos;re right, it works well when hashCode is implemented properly.  Thank you.&lt;/p&gt;

&lt;p&gt;It would be nice to have a remark in javadoc to know the requirement in order to make CollectionUtils methods working. It could be a class or method comment or something like a migration guide or a warning.&lt;/p&gt;

&lt;p&gt;Thank you for those useful methods.&lt;/p&gt;

&lt;p&gt;Best regards&lt;/p&gt;</comment>
                            <comment id="13859551" author="tn" created="Tue, 31 Dec 2013 16:25:11 +0000"  >&lt;p&gt;Added clarification to the class javadoc of CollectionUtils in r1554554.&lt;/p&gt;</comment>
                            <comment id="13860143" author="anthonyc" created="Thu, 2 Jan 2014 11:34:45 +0000"  >&lt;p&gt;Thank you !&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12620095" name="test-common-collection.zip" size="2615" author="anthonyC" created="Sun, 22 Dec 2013 19:14:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 22 Dec 2013 20:04:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365027</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 46 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qx3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>365335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>