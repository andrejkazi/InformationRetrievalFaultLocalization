<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Nov 19 20:44:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/COLLECTIONS-447/COLLECTIONS-447.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[COLLECTIONS-447] TreeListIterator can return incorrect results after remove() is called</title>
                <link>https://issues.apache.org/jira/browse/COLLECTIONS-447</link>
                <project id="12310465" key="COLLECTIONS">Commons Collections</project>
                    <description>&lt;p&gt;&lt;tt&gt;TreeList.TreeListIterator&lt;/tt&gt; can get in a bad state when &lt;tt&gt;remove()&lt;/tt&gt; is called, causing it to subsequently return incorrect results. This is because &lt;tt&gt;TreeListIterator&lt;/tt&gt; caches an &lt;tt&gt;AVLNode&lt;/tt&gt; reference in its field &lt;tt&gt;next&lt;/tt&gt;, and this node reference may become stale when &lt;tt&gt;remove()&lt;/tt&gt; is called (it may contain a reference to a node that no longer exists in the tree).&lt;/p&gt;

&lt;p&gt;I will attach two patches: &lt;tt&gt;testcase.patch&lt;/tt&gt; will contain a test case illustrating the bug, and &lt;tt&gt;fix.patch&lt;/tt&gt; will contain a fix. (To fix the bug, I simply clear the cached &lt;tt&gt;next&lt;/tt&gt; value in &lt;tt&gt;TreeListIterator.remove&lt;/tt&gt;.)&lt;/p&gt;

&lt;p&gt;This was originally reported in a comment to &lt;a href=&quot;https://issues.apache.org/jira/browse/COLLECTIONS-433&quot; title=&quot;TreeList.addAll() complexity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COLLECTIONS-433&quot;&gt;&lt;del&gt;COLLECTIONS-433&lt;/del&gt;&lt;/a&gt;; I am creating a separate issue for this at Thomas Neidhart&apos;s suggestion.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows 7, jdk1.5.0_22&lt;/p&gt;</environment>
        <key id="12635005">COLLECTIONS-447</key>
            <summary>TreeListIterator can return incorrect results after remove() is called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jbarnes">Jeffrey Barnes</reporter>
                        <labels>
                            <label>patch</label>
                            <label>test</label>
                    </labels>
                <created>Sun, 3 Mar 2013 03:24:24 +0000</created>
                <updated>Mon, 9 Nov 2015 20:53:26 +0000</updated>
                            <resolved>Mon, 4 Mar 2013 20:20:55 +0000</resolved>
                                    <version>Nightly Builds</version>
                                    <fixVersion>3.2.2</fixVersion>
                    <fixVersion>4.0-alpha1</fixVersion>
                    <fixVersion>4.0</fixVersion>
                                    <component>Collection</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="13592594" author="tn" created="Mon, 4 Mar 2013 20:20:55 +0000"  >&lt;p&gt;Applied the patch together with some additional comment in r1452481.&lt;/p&gt;

&lt;p&gt;Thanks for the analysis and patch, this was really a tricky one!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12606417">COLLECTIONS-433</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12571781" name="fix.patch" size="1045" author="jbarnes" created="Sun, 3 Mar 2013 03:26:50 +0000"/>
                            <attachment id="12571780" name="testcase.patch" size="1081" author="jbarnes" created="Sun, 3 Mar 2013 03:26:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 4 Mar 2013 20:20:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315498</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 37 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ifxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>315842</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>