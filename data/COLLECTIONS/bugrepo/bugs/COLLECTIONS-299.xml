<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Nov 19 23:55:40 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/COLLECTIONS-299/COLLECTIONS-299.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[COLLECTIONS-299] ExtendedProperties.convertProperties loses non-String values</title>
                <link>https://issues.apache.org/jira/browse/COLLECTIONS-299</link>
                <project id="12310465" key="COLLECTIONS">Commons Collections</project>
                    <description>&lt;p&gt;A Properties object normally has Strings as its values. But it does partially support non-String-typed values via the raw put and get methods inherited from Hashtable. And other Properties methods are aware that the value might not be a String; see documentation for methods propertyNames() and stringPropertyNames() for example.&lt;/p&gt;

&lt;p&gt;ExtendedProperties.convertProperties does this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (Enumeration e = props.propertyNames(); e.hasMoreElements();) {
      &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; s = (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) e.nextElement();
      c.setProperty(s, props.getProperty(s));
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Properties.propertyNames() returns the names of all keys in the set, regardless of the associated value&apos;s type. But Properties.getProperty(key) returns null if the value type is not a String. The call to c.setProperty invokes setPropertyInternal, which can pass this null value to Hashtable.put, which then throws a NullPointerException.&lt;/p&gt;

&lt;p&gt;It&apos;s rather puzzling to have a valid (string-key, non-string-value) entry in the Properties object and get a NullPointerException.&lt;/p&gt;

&lt;p&gt;Perhaps the call&lt;br/&gt;
  props.getProperty(s)&lt;br/&gt;
can be changed to&lt;br/&gt;
  props.get(s)&lt;/p&gt;

&lt;p&gt;Alternately, at least documenting that this method does not support non-string values in the input Properties object would be useful.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12398319">COLLECTIONS-299</key>
            <summary>ExtendedProperties.convertProperties loses non-String values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="skitching">Simon Kitching</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Jun 2008 11:13:26 +0000</created>
                <updated>Fri, 27 Nov 2015 21:11:10 +0000</updated>
                            <resolved>Thu, 28 Feb 2013 19:37:57 +0000</resolved>
                                                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12605265" author="sebb@apache.org" created="Mon, 16 Jun 2008 11:46:34 +0000"  >&lt;p&gt;Add code markers to stop reformatting of code section - and conversion of ;&amp;#41; to &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12644858" author="bayard" created="Tue, 4 Nov 2008 00:10:16 +0000"  >&lt;p&gt;Interestingly this mimics the same issue in java.util.Properties. If you pass a value into its Properties(Properties) constructor then any non-String values are lost. I think the javadoc route is probably best here - especially as the getProperty to get change makes tests fail.&lt;/p&gt;</comment>
                            <comment id="12644860" author="bayard" created="Tue, 4 Nov 2008 00:16:00 +0000"  >&lt;p&gt;I added null-protection to stop the NPE.&lt;/p&gt;

&lt;p&gt;svn ci -m &quot;Adding a test for &lt;a href=&quot;https://issues.apache.org/jira/browse/COLLECTIONS-299&quot; title=&quot;ExtendedProperties.convertProperties loses non-String values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COLLECTIONS-299&quot;&gt;&lt;del&gt;COLLECTIONS-299&lt;/del&gt;&lt;/a&gt; and a fix. Fixes by not adding any non-String values as per java.util.Properties; also adding to the javadoc&quot; src&lt;/p&gt;

&lt;p&gt;Sending        src/java/org/apache/commons/collections/ExtendedProperties.java&lt;br/&gt;
Sending        src/test/org/apache/commons/collections/TestExtendedProperties.java&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 711140.&lt;/p&gt;</comment>
                            <comment id="13639415" author="tn" created="Tue, 23 Apr 2013 18:57:38 +0000"  >&lt;p&gt;Obsolete fix as class ExtendedProperties has been removed.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                                                <inwardlinks description="is superceded by">
                                        <issuelink>
            <issuekey id="12445725">COLLECTIONS-351</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 16 Jun 2008 11:46:34 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18702</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0si93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164434</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>