<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Sat Nov 19 20:33:43 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/COLLECTIONS-23/COLLECTIONS-23.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[COLLECTIONS-23] BeanMap.putAll(beanmap) fails</title>
                <link>https://issues.apache.org/jira/browse/COLLECTIONS-23</link>
                <project id="12310465" key="COLLECTIONS">Commons Collections</project>
                    <description>&lt;p&gt;I created two beanmaps, both around objects of the same class, to try to&lt;br/&gt;
effectively clone the underlying objects (this was before I looked harder and&lt;br/&gt;
realized that BeanMap.clone() would try to instantiate a new object on its own).&lt;/p&gt;

&lt;p&gt;I found that this fails with a java.lang.IllegalArgumentException: The bean of&lt;br/&gt;
type: com.isx.isaf.IsafAgentDescription has no property called: class&lt;/p&gt;

&lt;p&gt;The reason: BeanMap&apos;s underlying introspector notices the read-only property of&lt;br/&gt;
&quot;class&quot; (the class of the bean object), and has a get() entry for it that has&lt;br/&gt;
no matching put.&lt;/p&gt;

&lt;p&gt;When AbstractMap.putAll iterates through the values, it tries to put() the class&lt;br/&gt;
value and this causes the failure.&lt;/p&gt;

&lt;p&gt;The workarounds is to reimplement putAll() outside the map and catch exceptions &lt;br/&gt;
for every failed put (this should be the only one unless the bean itself has &lt;br/&gt;
other read-only properties).  &lt;/p&gt;

&lt;p&gt;BeanMap.clone() correctly checks for read-only properties and doesn&apos;t try to &lt;br/&gt;
set them, but is limited to beans that have zero-parameter constructors; its &lt;br/&gt;
real problem is that it is still &quot;protected&quot; in BeanMap, not public.  &lt;/p&gt;

&lt;p&gt;Possible fix is to override putAll() from AbstractMap and check if the&lt;br/&gt;
property is read-only before calling put() and ignoring it if it is.  Options&lt;br/&gt;
involving fixing put() itself would cause more problems than solutions, IMHO.&lt;/p&gt;

&lt;p&gt;Another fix is to catch the &quot;class&quot; property and filter it out completely so&lt;br/&gt;
it never shows up in the keySet or entrySet at all.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: other&lt;br/&gt;
Platform: Other&lt;/p&gt;</environment>
        <key id="12340278">COLLECTIONS-23</key>
            <summary>BeanMap.putAll(beanmap) fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="acroyear@io.com">Joe Shelby</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jul 2002 03:08:05 +0000</created>
                <updated>Sat, 15 Mar 2008 21:35:57 +0000</updated>
                            <resolved>Sat, 15 Mar 2008 21:35:57 +0000</resolved>
                                    <version>2.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12402801" author="pjack@sfaf.org" created="Sat, 10 Aug 2002 09:06:51 +0000"  >&lt;p&gt;Added a putAllWriteable(BeanMap) method that will let you only copy the&lt;br/&gt;
writeable properties.  Didn&apos;t want to override putAll(Map) because it would&lt;br/&gt;
break backwards compatibility, and in most cases it really is an exception to&lt;br/&gt;
try to put a read-only property.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 10 Aug 2002 09:06:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18975</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0sjsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>164685</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>