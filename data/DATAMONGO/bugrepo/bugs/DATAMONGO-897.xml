<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 15:54:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATAMONGO-897/DATAMONGO-897.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATAMONGO-897] FindAndUpdate broken when using @DbRef and interface as target</title>
                <link>https://jira.spring.io/browse/DATAMONGO-897</link>
                <project id="10701" key="DATAMONGO">Spring Data MongoDB</project>
                    <description>&lt;p&gt;&lt;tt&gt;NullPointerException&lt;/tt&gt; is thrown when using &lt;tt&gt;MongoTemplate.findAndModify(...)&lt;/tt&gt; with &lt;tt&gt;@DbRef&lt;/tt&gt; and &lt;tt&gt;interface&lt;/tt&gt; as &lt;tt&gt;@DbRef&lt;/tt&gt; target. See attached project for more details. Probably regression issue since same test is passing with &lt;tt&gt;Spring Data Commons 1.6.3.RELEASE&lt;/tt&gt; and &lt;tt&gt;Spring Data MongoDB 1.3.3.RELEASE&lt;/tt&gt;.&lt;/p&gt;
</description>
                <environment>Spring 4.0.2.RELEASE, Spring Data Commons 1.7.1.RELEASE, Spring Data MongoDB 1.4.1.RELEASE, JDK 7, MongoDB 2.4.7 </environment>
        <key id="56835">DATAMONGO-897</key>
            <summary>FindAndUpdate broken when using @DbRef and interface as target</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cstrobl">Christoph Strobl</assignee>
                                    <reporter username="lauri.kimmel">Lauri Kimmel</reporter>
                        <labels>
                            <label>@DbRef</label>
                            <label>NullPointerException</label>
                            <label>djikstra</label>
                            <label>findAndUpdate</label>
                            <label>regression</label>
                    </labels>
                <created>Tue, 1 Apr 2014 04:38:51 +0000</created>
                <updated>Wed, 16 Apr 2014 02:09:48 +0000</updated>
                            <resolved>Mon, 14 Apr 2014 23:48:22 +0000</resolved>
                                    <version>1.4.1 (Codd SR1)</version>
                                    <fixVersion>1.4.2 (Codd SR2)</fixVersion>
                    <fixVersion>1.5 RC1 (Dijkstra)</fixVersion>
                                    <component>Core</component>
                    <component>Mapping</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="101571" author="cstrobl" created="Wed, 9 Apr 2014 01:04:14 +0000"  >&lt;p&gt;In 1.4 &lt;tt&gt;DBRef&lt;/tt&gt; resolution in &lt;tt&gt;QueryMapper&lt;/tt&gt; changed in a way that tries to inspect if the properties &lt;tt&gt;Id&lt;/tt&gt; can be assigned to the given type. When one passes in an &lt;tt&gt;Update&lt;/tt&gt; it is most likely not to have all type information at hand, which means in case of an property pointing to an interface that the entire resolution might have failed.&lt;/p&gt;

&lt;p&gt;In 1.5 it`s possible to resolve properties on interfaces as long as those follow the beans convention. But it failed, as it does in 1.4.x, for those properties not having the required getters.&lt;/p&gt;</comment>
                            <comment id="101866" author="olivergierke" created="Mon, 14 Apr 2014 02:56:53 +0000"  >&lt;p&gt;I&apos;ve force-pushed the branch to rebase it against the latest changes? Any chance we can get a test case on the &lt;tt&gt;QueryMapper&lt;/tt&gt; level instead of the one in &lt;tt&gt;MongoTemplateTests&lt;/tt&gt;. The latter is more and more becoming some kind of kitchen sink for all sorts of tests for changes that seem to be totally unrelated to actual type.&lt;/p&gt;</comment>
                            <comment id="101913" author="cstrobl" created="Mon, 14 Apr 2014 12:25:27 +0000"  >&lt;p&gt;sure. good point - moved test from &lt;tt&gt;MongoTemplateTests&lt;/tt&gt; to &lt;tt&gt;UpdateMapperUnitTests&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="21901" name="sdm.issue.zip" size="7370" author="lauri.kimmel" created="Tue, 1 Apr 2014 04:38:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 2 Apr 2014 00:23:55 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43090</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>olivergierke</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10684" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Pull Request URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/spring-projects/spring-data-mongodb/pull/164]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i003mn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>589</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>42792</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10480" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="42">46 - Codd SR2</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>