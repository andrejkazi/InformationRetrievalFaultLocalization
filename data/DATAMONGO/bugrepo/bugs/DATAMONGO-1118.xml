<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 15:31:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATAMONGO-1118/DATAMONGO-1118.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATAMONGO-1118] Custom converters not used for map keys</title>
                <link>https://jira.spring.io/browse/DATAMONGO-1118</link>
                <project id="10701" key="DATAMONGO">Spring Data MongoDB</project>
                    <description>&lt;p&gt;I have an enum with rather long names and shorter per-value &quot;tags&quot; that I want to use for serialization. I&apos;ve implemented a &lt;tt&gt;Converter&lt;/tt&gt; pair that maps the values back and forth. They work properly when saving a &lt;tt&gt;Set&lt;/tt&gt; of the enum.&lt;/p&gt;

&lt;p&gt;However, when saving a &lt;tt&gt;Map&amp;lt;MyEnum,?&amp;gt;&lt;/tt&gt;, the converter method is skipped; the enum&apos;s name is still used as the map key saved to Mongo. This would be frustrating but work-aroundable, but the proper converter &lt;b&gt;is&lt;/b&gt; applied on reads. This means that when I save an object with a non-empty map and immediately attempt to read it, I get an exception when calling the read converter (since it&apos;s being supplied an invalid argument).&lt;/p&gt;

&lt;p&gt;The problem appears to be at &lt;tt&gt;MappingMongoConverter:644&lt;/tt&gt;, where the conversion service is explicitly skipped. This means that converters are applied to all types on read, and to all instances except map keys on write.&lt;/p&gt;</description>
                <environment></environment>
        <key id="61177">DATAMONGO-1118</key>
            <summary>Custom converters not used for map keys</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cstrobl">Christoph Strobl</assignee>
                                    <reporter username="w_c_smith">Christopher Smith</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Dec 2014 05:12:11 +0000</created>
                <updated>Tue, 27 Jan 2015 10:29:36 +0000</updated>
                            <resolved>Tue, 6 Jan 2015 06:54:54 +0000</resolved>
                                    <version>1.6.1 (Evans SR1)</version>
                                    <fixVersion>1.5.5 (Dijkstra SR5)</fixVersion>
                    <fixVersion>1.6.2 (Evans SR2)</fixVersion>
                    <fixVersion>1.7 RC1 (Fowler)</fixVersion>
                                    <component>Mapping</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="110823" author="cstrobl" created="Fri, 19 Dec 2014 04:45:03 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://jira.spring.io/secure/ViewProfile.jspa?name=w_c_smith&quot; class=&quot;user-hover&quot; rel=&quot;w_c_smith&quot;&gt;Christopher Smith&lt;/a&gt; for reporting. Confirmed, registered converts are called for &lt;tt&gt;Map&lt;/tt&gt; keys on read but not on write.&lt;/p&gt;</comment>
                            <comment id="111154" author="w_c_smith" created="Tue, 6 Jan 2015 09:04:56 +0000"  >&lt;p&gt;I&apos;m glad to see a fix, but I disagree with both the priority and text changes. The problem is that this &lt;b&gt;introduced data corruption&lt;/b&gt; because of inconsistent treatment of the map keys. Not using converters at all would have been a minor bug, but using them for read but not for write meant that data written by the repository would immediately cause exceptions when trying to read it back.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 19 Dec 2014 04:45:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47250</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>olivergierke</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10684" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Pull Request URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/spring-projects/spring-data-mongodb/pull/260]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i081tz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>47001</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>46952</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10480" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="71">55 - Evans SR2</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>