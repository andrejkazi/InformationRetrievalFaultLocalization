<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 15:05:40 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATAMONGO-112/DATAMONGO-112.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATAMONGO-112] Storing a DBRef uses the wrong collection name</title>
                <link>https://jira.spring.io/browse/DATAMONGO-112</link>
                <project id="10701" key="DATAMONGO">Spring Data MongoDB</project>
                    <description>&lt;p&gt;Storing an Object containing a DBRef that consists of a CamelCase class is always stored in lowercase.&lt;br/&gt;
The annotation &lt;/p&gt;

&lt;p&gt;@Document(collection= &quot;camelCaseClass&quot;)&lt;br/&gt;
public class CamelCaseClass implements Serializable {&lt;/p&gt;

&lt;p&gt;is not used.&lt;br/&gt;
Thus they are not referenced correctly after u load the Object containing the refs again.&lt;/p&gt;

&lt;p&gt;JSON&lt;/p&gt;

&lt;p&gt;{&lt;br/&gt;
  &quot;_id&quot;: ObjectId(&quot;4db91e03e2c4d7e9721c9963&quot;),&lt;br/&gt;
  &quot;refs&quot;: [&lt;br/&gt;
    &lt;/p&gt;
{
      &quot;$ref&quot;: &quot;camelcaseclass&quot;,                     &amp;lt;- should be camelCaseClass
      &quot;$id&quot;: ObjectId(&quot;4db91dfbe2c4d7e9701c9963&quot;)
    }
&lt;p&gt;,&lt;/p&gt;
    {
      &quot;$ref&quot;: &quot;camelcaseclass&quot;,                     &amp;lt;- should be camelCaseClass
      &quot;$id&quot;: ObjectId(&quot;4db91dfce2c4d7e9711c9963&quot;)
    }
&lt;p&gt;  ]&lt;br/&gt;
}  &lt;/p&gt;


&lt;p&gt;See DBRefTestCase&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://ethone.de/spring/mongodb-samples.zip&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://ethone.de/spring/mongodb-samples.zip&lt;/a&gt;&lt;/p&gt;</description>
                <environment>Ubuntu 10.04, MongoDB 1.8,1</environment>
        <key id="40446">DATAMONGO-112</key>
            <summary>Storing a DBRef uses the wrong collection name</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="1" iconUrl="https://jira.spring.io/images/icons/priorities/blocker.png">Blocker</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="thomas.risberg">Thomas Risberg</assignee>
                                    <reporter username="mas">Matthias Scudlik</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Apr 2011 01:20:48 +0000</created>
                <updated>Mon, 25 Mar 2013 09:30:48 +0000</updated>
                            <resolved>Wed, 18 May 2011 14:39:56 +0000</resolved>
                                    <version>1.0 M2</version>
                                    <fixVersion>1.0 M3</fixVersion>
                                    <component>Mapping</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="71637" author="mas" created="Tue, 3 May 2011 08:06:11 +0000"  >&lt;p&gt;Using &lt;/p&gt;

&lt;p&gt;	@DBRef(collection=&quot;camelCaseClass&quot;)&lt;br/&gt;
	private List&amp;lt;CamelCaseClass&amp;gt; refs = new ArrayList&amp;lt;CamelCaseClass&amp;gt;();&lt;/p&gt;

&lt;p&gt;It is working. But why do i have to set the collections name here AGAIN?&lt;br/&gt;
And its not documented.&lt;/p&gt;

&lt;p&gt;Please at least document it.&lt;/p&gt;

&lt;p&gt;In the example of the docs it&apos;s only working because its not a CamelCaseClass (more or less coincidence)&lt;/p&gt;

&lt;p&gt;@Document&lt;br/&gt;
public class Account &lt;/p&gt;
{

  @Id
  private ObjectId id;
  private Float total;

}

&lt;p&gt;@Document&lt;br/&gt;
public class Person &lt;/p&gt;
{

  @Id
  private ObjectId id;
  @Indexed
  private Integer ssn;
  @DBRef
  private List&amp;lt;Account&amp;gt; accounts;

}</comment>
                            <comment id="71677" author="thomas.risberg" created="Wed, 18 May 2011 14:39:56 +0000"  >&lt;p&gt;Fixed as part of refactoring for &lt;a href=&quot;https://jira.spring.io/browse/DATAMONGO-122&quot; title=&quot;Use same default collection name for MappingMongoConverter and SimpleMongoConverter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;DATAMONGO-122&quot;&gt;&lt;del&gt;DATAMONGO-122&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You need to change the query in the &quot;testFindByName&quot; test to &lt;br/&gt;
		query.addCriteria(Criteria.where(&quot;refs.$id&quot;).is(new ObjectId(foo1.getId())));&lt;/p&gt;


&lt;p&gt;We don&apos;t do any String-&amp;gt;ObjectId conversions at that level&lt;/p&gt;

&lt;p&gt;-Thomas&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10151">
                    <name>Relate</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="40326">DATAMONGO-122</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 18 May 2011 14:39:56 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29804</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0508n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>29245</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>24228</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>