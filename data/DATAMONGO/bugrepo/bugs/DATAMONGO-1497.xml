<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 15:16:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATAMONGO-1497/DATAMONGO-1497.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATAMONGO-1497] MappingMongoConverter&apos;s check for whether a value is available for a property should use DbObjectAccessor</title>
                <link>https://jira.spring.io/browse/DATAMONGO-1497</link>
                <project id="10701" key="DATAMONGO">Spring Data MongoDB</project>
                    <description>&lt;p&gt;&lt;tt&gt;MappingMongoConverter&lt;/tt&gt;&apos;s read method when dealing with remaining properties and associations not already set in the constructor should use a &lt;tt&gt;DBObjectAccessor&lt;/tt&gt; instead of accessing the DBObject directly.&lt;/p&gt;

</description>
                <environment></environment>
        <key id="69915">DATAMONGO-1497</key>
            <summary>MappingMongoConverter&apos;s check for whether a value is available for a property should use DbObjectAccessor</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olivergierke">Oliver Gierke</assignee>
                                    <reporter username="jllachf">Jordi Llach Fernandez</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Sep 2016 08:53:43 +0000</created>
                <updated>Thu, 29 Sep 2016 12:05:58 +0000</updated>
                            <resolved>Thu, 22 Sep 2016 16:10:20 +0000</resolved>
                                    <version>1.10 M1 (Ingalls)</version>
                    <version>1.8.5 (Gosling SR5)</version>
                    <version>1.9.3 (Hopper SR3)</version>
                                    <fixVersion>1.7.3 (Fowler SR3)</fixVersion>
                    <fixVersion>1.9.4 (Hopper SR4)</fixVersion>
                    <fixVersion>1.8.6 (Gosling SR6)</fixVersion>
                                    <component>Mapping</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="132308" author="olivergierke" created="Thu, 22 Sep 2016 08:57:19 +0000"  >&lt;p&gt;Would you mind elaborating on what the actual problem from an application point of view is you see?&lt;/p&gt;</comment>
                            <comment id="132312" author="jllachf" created="Thu, 22 Sep 2016 09:24:45 +0000"  >&lt;p&gt;Sure ...when reading a nested field structure from MongoDB into a flat field the usage of DBObjectAccessor is needed in order to deal with dot named fields, for instance. &lt;/p&gt;

&lt;p&gt;@Field(&quot;DATA.TITLE&quot;)&lt;br/&gt;
String title;&lt;/p&gt;

&lt;p&gt;This is similar to what I suggested a year ago but for reading,   &lt;a href=&quot;https://jira.spring.io/browse/DATAMONGO-1335&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://jira.spring.io/browse/DATAMONGO-1335&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In fact, &lt;tt&gt;MappingMongoConverter&lt;/tt&gt;&apos;s &lt;tt&gt;MongoDbPropertyValueProvider&lt;/tt&gt; is already using a &lt;tt&gt;DBObjectAccessor&lt;/tt&gt; when resolving properties and associations values&lt;/p&gt;</comment>
                            <comment id="132313" author="olivergierke" created="Thu, 22 Sep 2016 09:31:04 +0000"  >&lt;p&gt;I get that. But do you have a concrete example (maybe in form of a test case) of where the code is not doing that? You seem to have looked at the internals quite deeply already. I&apos;d just like to see a concrete example of something not working.&lt;/p&gt;</comment>
                            <comment id="132318" author="jllachf" created="Thu, 22 Sep 2016 11:34:47 +0000"  >&lt;p&gt;I&apos;ve referenced a sample project from my github account.&lt;br/&gt;
Take into account that if Customer entity has a constructor as the one bellow the test will pass&lt;/p&gt;

&lt;p&gt;public Customer(Long id, String firstName, List&amp;lt;Order&amp;gt; firstOrders, String lastName, List&amp;lt;Order&amp;gt; lastOrders) &lt;/p&gt;
</comment>
                            <comment id="132327" author="olivergierke" created="Thu, 22 Sep 2016 15:46:29 +0000"  >&lt;p&gt;Thanks, Jordi. That was helpful. Found the issue. Working on a fix.&lt;/p&gt;</comment>
                            <comment id="132329" author="olivergierke" created="Thu, 22 Sep 2016 16:10:20 +0000"  >&lt;p&gt;Fix is in place. Feel free to give the snapshots a try. I&apos;ve ported the fix back into the Gosling branch, too (as your project was using Boot 1.3.8 and thus Gosling SR5). But be advised that we don&apos;t really plan to perform an actual release for that branch, as the primarily maintained versions are Hopper and Ingalls.&lt;/p&gt;</comment>
                            <comment id="132348" author="jllachf" created="Thu, 22 Sep 2016 19:47:05 +0000"  >&lt;p&gt;Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 22 Sep 2016 08:57:19 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>olivergierke</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09fzj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10120" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Reference URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/yacota/datamongo-1497]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10480" key="com.pyxis.greenhopper.jira:gh-sprint">
                        <customfieldname>Sprint</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="114">Kay M1</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>