<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 15:44:50 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATAMONGO-562/DATAMONGO-562.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATAMONGO-562] Cannot create entity with OptimisticLocking (@Version) and initial id</title>
                <link>https://jira.spring.io/browse/DATAMONGO-562</link>
                <project id="10701" key="DATAMONGO">Spring Data MongoDB</project>
                    <description>&lt;p&gt;Cannot store entities with @Version and id already set. Either a NullPointerException or OptimisticLockingFailureException&lt;/p&gt;

&lt;p&gt;The following test case provokes a NullPointerException since person.version is null. However, if I change version to 0 I will get an OptimisticLockingFailureException.&lt;/p&gt;

&lt;p&gt;	@Test&lt;br/&gt;
	public void optimisticLockingHandlingWithExistingId() &lt;/p&gt;
{
		PersonWithVersionPropertyOfTypeInteger person = new PersonWithVersionPropertyOfTypeInteger();
		person.id = new ObjectId().toString();
		person.age = 29;
		person.firstName = &quot;Patryk&quot;;
		template.save(person);
	}</description>
                <environment></environment>
        <key id="45824">DATAMONGO-562</key>
            <summary>Cannot create entity with OptimisticLocking (@Version) and initial id</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olivergierke">Oliver Gierke</assignee>
                                    <reporter username="jankronquist">Jan Kronquist</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Oct 2012 05:57:43 +0000</created>
                <updated>Wed, 21 Sep 2016 08:04:23 +0000</updated>
                            <resolved>Wed, 24 Oct 2012 07:13:51 +0000</resolved>
                                    <version>1.1.1</version>
                                    <fixVersion>1.1.2</fixVersion>
                    <fixVersion>2.0 M1 (Kay)</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="84454" author="jankronquist" created="Wed, 24 Oct 2012 06:00:05 +0000"  >&lt;p&gt;Added test case in pull request: &lt;a href=&quot;https://github.com/SpringSource/spring-data-mongodb/pull/15&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/SpringSource/spring-data-mongodb/pull/15&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="84458" author="olivergierke" created="Wed, 24 Oct 2012 07:13:51 +0000"  >&lt;p&gt;Thanks for the pull request. I applied it and added a fix for the failing test. We&apos;re now inspecting the version property instead of the id for deciding whether to start versioning or not.&lt;/p&gt;</comment>
                            <comment id="84484" author="jankronquist" created="Wed, 24 Oct 2012 13:05:05 +0000"  >&lt;p&gt;ok! So the version field must be nullable? Fine by me...&lt;/p&gt;</comment>
                            <comment id="84488" author="olivergierke" created="Wed, 24 Oct 2012 13:43:02 +0000"  >&lt;p&gt;Yes, as it&apos;s essentially an artificial field we control we can define the rules here, not so much with the id as you discovered &lt;img class=&quot;emoticon&quot; src=&quot;https://jira.spring.io/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. Snapshot is deployed so feel free to give it a spin.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 24 Oct 2012 07:13:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32751</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>cstrobl</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05x5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>34577</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32453</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>