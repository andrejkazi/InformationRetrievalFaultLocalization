<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Thu Dec 22 15:12:30 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/DATAMONGO-309/DATAMONGO-309.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[DATAMONGO-309] POJO containing a List of Maps not persisting properly</title>
                <link>https://jira.spring.io/browse/DATAMONGO-309</link>
                <project id="10701" key="DATAMONGO">Spring Data MongoDB</project>
                    <description>&lt;p&gt;I&apos;m trying to represent a JSON structure that looks like this:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;{&quot;id&quot;: &quot;abc123&quot;, &quot;listOfMaps&quot; : [ { &quot;aString&quot; : &quot;aValue&quot; , &quot;anArray&quot; : { &quot;anotherValue&quot;}}]}&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;But when I create a POJO and matching Repository to persist it, the Map containing a List of Strings does not persist properly. I&apos;ve attached a screenshot from my debugger to show what it looks like in memory. When converted to a String using a MongoTemplate, it looks like:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;{ &quot;_class&quot; : &quot;com.foo.MyPojo&quot; , &quot;_id&quot; : { &quot;$oid&quot; : &quot;4eaec52bad108fb6c5ecde5a&quot;} , &quot;listOfMaps&quot; : [ { &quot;aString&quot; : &quot;aValue&quot; , &quot;anArray&quot; : { &quot;_class&quot; : &quot;[[Ljava.lang.String;&quot;}}]}&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;Note that I&apos;m losing the values in &quot;anArray&quot;.&lt;/p&gt;

&lt;p&gt;This is using 1.0.0M5. I&apos;ve included a full unit test. Should just need to set appropriate MongoDB server settings in the Spring config file to get it running.&lt;/p&gt;</description>
                <environment></environment>
        <key id="40634">DATAMONGO-309</key>
            <summary>POJO containing a List of Maps not persisting properly</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="olivergierke">Oliver Gierke</assignee>
                                    <reporter username="jeffrey.segal">Jeffrey Segal</reporter>
                        <labels>
                    </labels>
                <created>Mon, 31 Oct 2011 09:17:17 +0000</created>
                <updated>Mon, 25 Mar 2013 09:31:09 +0000</updated>
                            <resolved>Wed, 23 Nov 2011 01:38:15 +0000</resolved>
                                    <version>1.0 M5</version>
                                    <fixVersion>1.0 RC1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="0">0d</timeoriginalestimate>
                            <timeestimate seconds="0">0d</timeestimate>
                                        <comments>
                            <comment id="72121" author="jeffrey.segal" created="Mon, 31 Oct 2011 09:18:04 +0000"  >&lt;p&gt;Screen Shot of the null array value.&lt;/p&gt;</comment>
                            <comment id="72980" author="olivergierke" created="Wed, 23 Nov 2011 01:38:12 +0000"  >&lt;p&gt;Fixed. Will be available in tonight&apos;s snapshot build. We didn&apos;t consider arrays to be collection like structures when handling &lt;tt&gt;Map&lt;/tt&gt; values. Note that you won&apos;t be able to read the &lt;tt&gt;String[]&lt;/tt&gt; from the document again but get a &lt;tt&gt;List&lt;/tt&gt; read from it instead as we cannot store type information for collections and have to default to &lt;tt&gt;List&lt;/tt&gt; unless there&apos;s a more concrete type defined at the property (which doesn&apos;t seem to be doable for your case as you store a raw &lt;tt&gt;List&lt;/tt&gt;).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="19026" name="debugger.png" size="183731" author="jeffrey.segal" created="Mon, 31 Oct 2011 09:18:04 +0000"/>
                            <attachment id="19130" name="mylyn-context.zip" size="39347" author="olivergierke" created="Wed, 23 Nov 2011 01:38:27 +0000"/>
                            <attachment id="19025" name="unit-test.zip" size="24821" author="jeffrey.segal" created="Mon, 31 Oct 2011 09:17:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Nov 2011 01:38:12 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27943</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10182" key="com.atlassian.jira.toolkit:lastupdaterorcommenter">
                        <customfieldname>Last updater</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>tmarshall</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00nnb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5231</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>