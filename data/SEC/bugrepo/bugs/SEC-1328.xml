<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 10:34:13 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1328/SEC-1328.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1328] RedirectUtils/DefaultRedirectStrategy contextRelative redirect doesn&apos;t account for url like http://context.xyz.com/context</title>
                <link>https://jira.spring.io/browse/SEC-1328</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;Unfortunately in our production URL the hostname starts with same string as the context so the code that searches for the context in order to strip off everything before it finds the first occurance and leaves a chunk of URL (since the slash from the protocol helps match the slash in the context).&lt;/p&gt;

&lt;p&gt;The current code does this:&lt;br/&gt;
            int len = request.getContextPath().length();&lt;br/&gt;
            int index = url.indexOf(request.getContextPath()) + len;&lt;br/&gt;
            finalUrl = url.substring(index);&lt;/p&gt;

&lt;p&gt;I fixed it by doing: &lt;br/&gt;
            url = url.replaceFirst(&quot;.*://&quot;, &quot;&quot;); // strip off protocol&lt;br/&gt;
	    int len = request.getContextPath().length();&lt;br/&gt;
	    int index = url.indexOf(request.getContextPath()) + len;&lt;br/&gt;
	    finalUrl = url.substring(index);&lt;/p&gt;

&lt;p&gt;Since I am using spring-security-2.0.5 the only way I can fix is by copying the class and modifying it in my project to override the one in the jar. I suppose in Spring 3.0 I will be able to create my own RedirectStrategy. I know this probably will only ever impact me but I hope it is worth fixing.&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</description>
                <environment></environment>
        <key id="29264">SEC-1328</key>
            <summary>RedirectUtils/DefaultRedirectStrategy contextRelative redirect doesn&apos;t account for url like http://context.xyz.com/context</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="hdeadman">Hal Deadman</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Dec 2009 04:53:47 +0000</created>
                <updated>Sat, 6 Feb 2016 06:12:57 +0000</updated>
                            <resolved>Fri, 18 Dec 2009 04:05:20 +0000</resolved>
                                    <version>2.0.5</version>
                    <version>3.0.0.RC2</version>
                                    <fixVersion>3.0.0</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="0">0d</timeoriginalestimate>
                            <timeestimate seconds="0">0d</timeestimate>
                                        <comments>
                            <comment id="49397" author="luke" created="Wed, 16 Dec 2009 00:25:42 +0000"  >&lt;p&gt;Thanks for the report. Seems like a common enough situation that it is worth fixing.&lt;/p&gt;</comment>
                            <comment id="49482" author="luke" created="Fri, 18 Dec 2009 04:05:18 +0000"  >&lt;p&gt;Should be fixed in trunk. I&apos;ve basically followed your suggestion of stripping off the protocol up to &quot;://&quot;&lt;/p&gt;</comment>
                            <comment id="124235" author="issuemaster" created="Sat, 6 Feb 2016 06:12:57 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1574&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1574&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 16 Dec 2009 00:25:42 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19621</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i01yjj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11473</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11449</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>