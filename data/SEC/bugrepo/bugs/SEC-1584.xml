<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 11:30:31 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1584/SEC-1584.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1584] Path parameters should be stripped from pathInfo and servletPath before matching</title>
                <link>https://jira.spring.io/browse/SEC-1584</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;RFC 2396 defines parameters which can occur in any of the path segments of a URL, after a semi-colon character. The servlet spec refers to these as &quot;path parameters&quot; and is not consistent on whether they should be removed from the decoded values returned by HttpServletRequest,getServletPath() and HttpServletRequest,getPathInfo(). As a result, different servlet containers treat the issue differently. Tomcat does not include path parameter values, but Websphere apparently does.&lt;/p&gt;

&lt;p&gt;Path parameters should be removed before matching against a secured Ant path pattern (which uses the concatenated servletPath + pathInfo). They complicate the process of pattern matching and make it harder to account for all possible URL values which an attacker could submit. In practice they are rarely used within an application, though most users will be familiar with the addition of a jsessionid parameter to URLs. &lt;/p&gt;

&lt;p&gt;As an example, if an application defined a secured path as &quot;/secure/*&lt;b&gt;&quot;, then to account for the possibility of path parameters, the pattern would actually have to be &quot;/secure&lt;/b&gt;/**&quot;, otherwise a path such as &quot;/secure;x=y/file&quot; could be used to bypass the match. In cases where a trailing wildcard is not used, it could be possible to add a parameter which caused a different match to take place. For example with this configuration:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;&amp;lt;intercept-url path=&quot;*user.jsp&quot; access=&quot;user&quot; /&amp;gt;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;&amp;lt;intercept-url path=&quot;/admin/**&quot; access=&quot;admin&quot; /&amp;gt; &lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;A user could potentially gain admin access by submitting a request to &quot;/admin/securedFile.jsp;x=user.jsp&quot;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="33617">SEC-1584</key>
            <summary>Path parameters should be stripped from pathInfo and servletPath before matching</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="2" iconUrl="https://jira.spring.io/images/icons/priorities/critical.png">Critical</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="luke">Luke Taylor</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Oct 2010 04:33:41 +0000</created>
                <updated>Sat, 6 Feb 2016 06:15:36 +0000</updated>
                            <resolved>Wed, 27 Oct 2010 09:41:22 +0000</resolved>
                                    <version>2.0.5</version>
                    <version>3.0.3</version>
                    <version>3.1.0.M1</version>
                                    <fixVersion>3.0.4</fixVersion>
                    <fixVersion>2.0.6</fixVersion>
                    <fixVersion>3.1.0.M2</fixVersion>
                                    <component>Web</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="58757" author="luke" created="Mon, 4 Oct 2010 06:09:27 +0000"  >&lt;p&gt;RFC 2396 has been superseded by RFC 3986 which no longer refers explicitly to parameters in the definition of a URI, other than to say: &lt;/p&gt;

&lt;p&gt;&quot;URI producing applications  often use the reserved characters allowed in a segment to delimit scheme-specific or dereference-handler-specific subcomponents. &#160;For example, the semicolon (&quot;;&quot;) and equals (&quot;=&quot;) reserved characters are often used to delimit parameters and parameter values applicable to that segment.&quot;&lt;/p&gt;

&lt;p&gt;So in theory one or more semi-colons can occur in a path segment, without being regarded as a delimiter for parameters. However, for the specific case of HTTP URLs, which is most relevant here, RFC 2616 still uses the path definitions from RFC 2396. The likelihood of having un-encoded semi-colons in a URL which are required by the application seems very slim and is outweighed by the risks defined above, so stripping out strings following a semi-colon still seems like the best option.&lt;/p&gt;</comment>
                            <comment id="59661" author="luke" created="Mon, 25 Oct 2010 06:02:09 +0000"  >&lt;p&gt;Investigating this further, there are other possible areas where containers interpret URIs differently. For example, Tomcat and Jetty will both normalize the URI to obtain the servletPath and pathInfo, whereas Websphere retains path traversal sequences (such as &quot;/./&quot; and &quot;/../&quot;). So for two servlet mappings &quot;/admin/&lt;b&gt;&quot; and &quot;/user/&lt;/b&gt;&quot; WAS will map the request URI &quot;/admin/../user/blah&quot; to the &quot;/admin&quot; servlet, whereas both Tomcat and Jetty would use the &quot;/user&quot; mapping. A configuration parameter (com.ibm.ws.webcontainer.normalizerequesturi) has been introduced to in WAS to override this behaviour. There is no good reason I can think of why Spring Security applications should need to use unnormalized request URIs, so we should probably reject these by default to be on the safe side.&lt;/p&gt;

&lt;p&gt;Another thing which might affect pattern matching is the use of multiple &quot;/&quot; characters. Tomcat strips these out, but other containers may not. We should also strip these for matching.&lt;/p&gt;</comment>
                            <comment id="60032" author="luke" created="Wed, 27 Oct 2010 11:39:28 +0000"  >&lt;p&gt;A new strategy has been created (HttpFirewall) which is injected into the FilterChainProxy and wraps the requests prior to passing them down the filter chain. With the default implementation, the wrapper wil remove all path parameters from each segment of the URI while they are passing through the security filters. Sequences of multiple &quot;/&quot; characters are reduced to a single character. Unnormalized are rejected paths by default.&lt;/p&gt;

&lt;p&gt;If an alternative strategy is required, it can be injected directly into the FilterChainProxy bean or by using the http-firewall namespace element.&lt;/p&gt;</comment>
                            <comment id="124512" author="issuemaster" created="Sat, 6 Feb 2016 06:15:36 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1823&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1823&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 6 Feb 2016 06:15:36 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19401</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i025zb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12487</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>