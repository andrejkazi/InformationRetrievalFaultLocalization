<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 10:36:06 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1104/SEC-1104.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1104] Server created by ApacheDSContainer is shutdown twice, causing a hang</title>
                <link>https://jira.spring.io/browse/SEC-1104</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;I have a default ApacheDS server launched for testing via &amp;lt;ldap-server/&amp;gt; element in my spring config. This is inside a webapp, and the context is loaded through a servlet context listener (if that makes any difference).&lt;/p&gt;

&lt;p&gt;ApacheDSContainer implements both Lifecycle and DisposableBean.  Both destroy methods get called, but neither checks the &apos;running&apos; field before trying to shut down the ApacheDS server.  The first shutdown works, but since the server is contacted over a socket, the second attempt hangs until the socket times out.&lt;/p&gt;

&lt;p&gt;The easy fix is to just check the &apos;running&apos; field in the stop() method and don&apos;t do anything if the server isn&apos;t running.&lt;/p&gt;</description>
                <environment></environment>
        <key id="25601">SEC-1104</key>
            <summary>Server created by ApacheDSContainer is shutdown twice, causing a hang</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="topping">Brian Topping</reporter>
                        <labels>
                    </labels>
                <created>Mon, 9 Feb 2009 16:09:34 +0000</created>
                <updated>Sat, 6 Feb 2016 06:10:24 +0000</updated>
                            <resolved>Tue, 5 May 2009 21:07:47 +0000</resolved>
                                    <version>2.0.4</version>
                                    <fixVersion>3.0.0 M1</fixVersion>
                                    <component>LDAP</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="42480" author="topping" created="Wed, 11 Feb 2009 14:11:42 +0000"  >&lt;p&gt;On further inspection, this problem was coincidental to starting to use the ApacheDSContainer, not causal.  I believe there &lt;b&gt;is&lt;/b&gt; a problem calling the stop method twice, although after cleaning up the code, my issue remains.  So this could be set to a low priority or closed, although I will attach the patch here regardless.&lt;/p&gt;</comment>
                            <comment id="42481" author="topping" created="Wed, 11 Feb 2009 14:19:43 +0000"  >&lt;p&gt;Patch for ApacheDSContainer.java to clean up lifecycle semantics&lt;/p&gt;</comment>
                            <comment id="43785" author="luke" created="Tue, 21 Apr 2009 17:30:14 +0000"  >&lt;p&gt;Thanks for the report. I&apos;ve added a check of the &quot;running&quot; flag in the stop() method but I&apos;ve retained the Lifecycle interface (unlike your patch). The same bean instance could potentially be started and stopped without necessarily being destroyed.&lt;/p&gt;</comment>
                            <comment id="123994" author="issuemaster" created="Sat, 6 Feb 2016 06:10:24 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1354&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1354&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="15128" name="ApacheDS.patch" size="5842" author="topping" created="Wed, 11 Feb 2009 14:19:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Apr 2009 17:30:14 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0249z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12240</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>