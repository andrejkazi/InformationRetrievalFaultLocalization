<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 09:55:33 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1434/SEC-1434.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1434] Google App Engine - &apos;org.springframework.security.filterChainProxy&apos;: Initialization of bean failed (java.security.AccessControlException)</title>
                <link>https://jira.spring.io/browse/SEC-1434</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;The combination of Spring 3.0.1 and Spring Security 3.0.2 on Google App engine lead to the exception below. Note, the combination of Spring 3.0.1 and Spring Security 3.0.1 does not have this issue.&lt;/p&gt;

&lt;p&gt;Nested in org.springframework.beans.factory.BeanCreationException: Error creating bean with name &apos;org.springframework.security.filterChainProxy&apos;: Initialization of bean failed; nested exception is java.security.AccessControlException: access denied (java.lang.RuntimePermission getClassLoader):&lt;br/&gt;
java.security.AccessControlException: access denied (java.lang.RuntimePermission getClassLoader)&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:355)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:567)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(Unknown Source)&lt;br/&gt;
	at com.google.apphosting.runtime.security.CustomSecurityManager.checkPermission(CustomSecurityManager.java:45)&lt;br/&gt;
	at java.lang.ClassLoader.getSystemClassLoader(Unknown Source)&lt;br/&gt;
	at org.springframework.beans.BeanUtils.findEditorByConvention(BeanUtils.java:392)&lt;br/&gt;
	at org.springframework.beans.TypeConverterDelegate.findDefaultEditor(TypeConverterDelegate.java:360)&lt;br/&gt;
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:213)&lt;br/&gt;
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:104)&lt;br/&gt;
	at org.springframework.beans.BeanWrapperImpl.convertIfNecessary(BeanWrapperImpl.java:419)&lt;br/&gt;
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:657)&lt;br/&gt;
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:192)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:984)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:886)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:479)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)&lt;br/&gt;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveInnerBean(BeanDefinitionValueResolver.java:270)&lt;br/&gt;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:125)&lt;br/&gt;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveManagedMap(BeanDefinitionValueResolver.java:382)&lt;br/&gt;
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:161)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyPropertyValues(AbstractAutowireCapableBeanFactory.java:1305)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1067)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:450)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:290)&lt;br/&gt;
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:287)&lt;br/&gt;
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:189)&lt;br/&gt;
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:557)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:842)&lt;br/&gt;
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:416)&lt;br/&gt;
	at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:261)&lt;br/&gt;
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:192)&lt;br/&gt;
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.startContext(ContextHandler.java:530)&lt;br/&gt;
	at org.mortbay.jetty.servlet.Context.startContext(Context.java:135)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.startContext(WebAppContext.java:1218)&lt;br/&gt;
	at org.mortbay.jetty.handler.ContextHandler.doStart(ContextHandler.java:500)&lt;br/&gt;
	at org.mortbay.jetty.webapp.WebAppContext.doStart(WebAppContext.java:448)&lt;br/&gt;
	at org.mortbay.component.AbstractLifeCycle.start(AbstractLifeCycle.java:40)&lt;br/&gt;
	at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.createHandler(AppVersionHandlerMap.java:191)&lt;br/&gt;
	at com.google.apphosting.runtime.jetty.AppVersionHandlerMap.getHandler(AppVersionHandlerMap.java:168)&lt;br/&gt;
	at com.google.apphosting.runtime.jetty.JettyServletEngineAdapter.serviceRequest(JettyServletEngineAdapter.java:123)&lt;br/&gt;
	at com.google.apphosting.runtime.JavaRuntime.handleRequest(JavaRuntime.java:235)&lt;br/&gt;
	at com.google.apphosting.base.RuntimePb$EvaluationRuntime$6.handleBlockingRequest(RuntimePb.java:5485)&lt;br/&gt;
	at com.google.apphosting.base.RuntimePb$EvaluationRuntime$6.handleBlockingRequest(RuntimePb.java:5483)&lt;br/&gt;
	at com.google.net.rpc.impl.BlockingApplicationHandler.handleRequest(BlockingApplicationHandler.java:24)&lt;br/&gt;
	at com.google.net.rpc.impl.RpcUtil.runRpcInApplication(RpcUtil.java:363)&lt;br/&gt;
	at com.google.net.rpc.impl.Server$2.run(Server.java:837)&lt;br/&gt;
	at com.google.tracing.LocalTraceSpanRunnable.run(LocalTraceSpanRunnable.java:56)&lt;br/&gt;
	at com.google.tracing.LocalTraceSpanBuilder.internalContinueSpan(LocalTraceSpanBuilder.java:536)&lt;br/&gt;
	at com.google.net.rpc.impl.Server.startRpc(Server.java:792)&lt;br/&gt;
	at com.google.net.rpc.impl.Server.processRequest(Server.java:367)&lt;br/&gt;
	at com.google.net.rpc.impl.ServerConnection.messageReceived(ServerConnection.java:448)&lt;br/&gt;
	at com.google.net.rpc.impl.RpcConnection.parseMessages(RpcConnection.java:319)&lt;br/&gt;
	at com.google.net.rpc.impl.RpcConnection.dataReceived(RpcConnection.java:290)&lt;br/&gt;
	at com.google.net.async.Connection.handleReadEvent(Connection.java:474)&lt;br/&gt;
	at com.google.net.async.EventDispatcher.processNetworkEvents(EventDispatcher.java:774)&lt;br/&gt;
	at com.google.net.async.EventDispatcher.internalLoop(EventDispatcher.java:205)&lt;br/&gt;
	at com.google.net.async.EventDispatcher.loop(EventDispatcher.java:101)&lt;br/&gt;
	at com.google.net.rpc.RpcService.runUntilServerShutdown(RpcService.java:251)&lt;br/&gt;
	at com.google.apphosting.runtime.JavaRuntime$RpcRunnable.run(JavaRuntime.java:394)&lt;br/&gt;
	at java.lang.Thread.run(Unknown Source)&lt;/p&gt;</description>
                <environment>Spring: 3.0.1&lt;br/&gt;
Spring Security: 3.0.2</environment>
        <key id="30497">SEC-1434</key>
            <summary>Google App Engine - &apos;org.springframework.security.filterChainProxy&apos;: Initialization of bean failed (java.security.AccessControlException)</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="tleese22">Taylor Leese</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Mar 2010 14:21:50 +0000</created>
                <updated>Sat, 6 Feb 2016 06:14:04 +0000</updated>
                            <resolved>Mon, 15 Mar 2010 14:27:00 +0000</resolved>
                                    <version>3.0.2</version>
                                    <fixVersion>3.0.3</fixVersion>
                    <fixVersion>3.1.0.M1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                <comments>
                            <comment id="51820" author="luke" created="Tue, 9 Mar 2010 00:55:15 +0000"  >&lt;p&gt;There aren&apos;t actually any Spring Security classes in this stacktrace, so it is a problem initializing the bean factory because of Google&apos;s SecurityManager restrictions. If possible, please provide some indication of what is actually being instantiated when this error occurs.&lt;/p&gt;</comment>
                            <comment id="51833" author="tleese22" created="Tue, 9 Mar 2010 03:33:49 +0000"  >&lt;p&gt;Below is my spring security related configuration file (applicationContext-security.xml) and my web.xml. It sounds like this is what you are looking for, but if you need more info please let me know.&lt;/p&gt;

&lt;p&gt;applicationContext-security.xml:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;&lt;br/&gt;
    xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;&lt;br/&gt;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans&lt;br/&gt;
        &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&lt;/a&gt;&lt;br/&gt;
        &lt;a href=&quot;http://www.springframework.org/schema/security&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/schema/security&lt;/a&gt;&lt;br/&gt;
        &lt;a href=&quot;http://www.springframework.org/schema/security/spring-security-3.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/schema/security/spring-security-3.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;http auto-config=&quot;false&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;intercept-url pattern=&quot;/css/**&quot; filters=&quot;none&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;intercept-url pattern=&quot;/img/**&quot; filters=&quot;none&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;intercept-url pattern=&quot;/js/**&quot; filters=&quot;none&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;intercept-url pattern=&quot;/app/admin/**&quot; filters=&quot;none&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;intercept-url pattern=&quot;/app/login/**&quot; filters=&quot;none&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;intercept-url pattern=&quot;/app/register/**&quot; filters=&quot;none&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;intercept-url pattern=&quot;/app/error/**&quot; filters=&quot;none&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;intercept-url pattern=&quot;/&quot; filters=&quot;none&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;intercept-url pattern=&quot;/**&quot; access=&quot;ROLE_USER&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;logout logout-success-url=&quot;/&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;form-login login-page=&quot;/app/login&quot; default-target-url=&quot;/&quot; authentication-failure-url=&quot;/app/login?login_error=1&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;session-management invalid-session-url=&quot;/app/login&quot; /&amp;gt;&lt;br/&gt;
	&amp;lt;remember-me services-ref=&quot;rememberMeServices&quot; key=&quot;myKey&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/http&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;authentication-manager alias=&quot;authenticationManager&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;authentication-provider user-service-ref=&quot;userDetailsService&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;password-encoder hash=&quot;sha-256&quot; base64=&quot;true&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;salt-source user-property=&quot;username&quot; /&amp;gt;&lt;br/&gt;
            &amp;lt;/password-encoder&amp;gt;&lt;br/&gt;
        &amp;lt;/authentication-provider&amp;gt;&lt;br/&gt;
    &amp;lt;/authentication-manager&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;beans:bean id=&quot;userDetailsService&quot; class=&quot;com.my.service.auth.UserDetailsServiceImpl&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;beans:bean id=&quot;rememberMeServices&quot; class=&quot;org.springframework.security.web.authentication.rememberme.PersistentTokenBasedRememberMeServices&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;beans:property name=&quot;userDetailsService&quot; ref=&quot;userDetailsService&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;beans:property name=&quot;tokenRepository&quot; ref=&quot;persistentTokenRepository&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;beans:property name=&quot;key&quot; value=&quot;myKey&quot; /&amp;gt;&lt;br/&gt;
    &amp;lt;/beans:bean&amp;gt;&lt;/p&gt;

&lt;p&gt;    &amp;lt;beans:bean id=&quot;persistentTokenRepository&quot; class=&quot;com.my.service.auth.PersistentTokenRepositoryImpl&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/beans:beans&amp;gt;&lt;/p&gt;</comment>
                            <comment id="51849" author="luke" created="Tue, 9 Mar 2010 08:47:05 +0000"  >&lt;p&gt;Thanks, but it would be helpful to know what the actual bean type is that&apos;s being created. This should be output in the debug log from AbstractAutowireCapableBeanFactory.&lt;/p&gt;</comment>
                            <comment id="51858" author="tleese22" created="Tue, 9 Mar 2010 14:07:30 +0000"  >&lt;p&gt;Attached is the relevant portion of the logs from GAE. I added below to my logging.properties file:&lt;/p&gt;

&lt;p&gt;org.springframework.beans.factory.support.level=FINEST&lt;/p&gt;</comment>
                            <comment id="52019" author="pbackx" created="Sat, 13 Mar 2010 21:38:37 +0000"  >&lt;p&gt;FYI,&lt;/p&gt;

&lt;p&gt;There is some discussion on this topic at Stack Overflow:&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/2335244/google-app-engine-spring-security-issue-java-security-accesscontrolexception&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://stackoverflow.com/questions/2335244/google-app-engine-spring-security-issue-java-security-accesscontrolexception&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It seems to be related to a call to BeanUtils.findEditorByConvention&lt;/p&gt;</comment>
                            <comment id="52027" author="tleese22" created="Sun, 14 Mar 2010 03:51:35 +0000"  >&lt;p&gt;Yes, that is the question I asked on SO. The BeanUtils.findEditorByConvention call throws an exception because it tries to get the ClassLoader and App Engine doesn&apos;t allow it. However, what isn&apos;t clear is why this exception is only thrown with Spring Security 3.0.2 and not Spring Security 3.0.1.&lt;/p&gt;</comment>
                            <comment id="52070" author="luke" created="Mon, 15 Mar 2010 14:26:38 +0000"  >&lt;p&gt;This appears to happen with much simpler configurations - anything using the http namespace in GAE. It seems to be due to using a BeanDefinition with type java.lang.String (when creating the &quot;universal match&quot; pattern in the FilterChainProxy). The changes for &lt;a href=&quot;https://jira.spring.io/browse/SEC-1407&quot; title=&quot;Refactor URL Matching to use RequestMatcher interface&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SEC-1407&quot;&gt;&lt;del&gt;SEC-1407&lt;/del&gt;&lt;/a&gt; mean that it shouldn&apos;t be relevant for the 3.1 branch (master) as the relevant code no longer exists. &lt;/p&gt;

&lt;p&gt;I&apos;ve modified the 3.0.x branch to use a plain String for the universal match key, which should fix the problem there too.&lt;/p&gt;</comment>
                            <comment id="52142" author="tleese22" created="Wed, 17 Mar 2010 04:57:25 +0000"  >&lt;p&gt;This appears to have fixed this specific issue, but I&apos;m still having other issues with remember me and GAE. I posted an question (&lt;a href=&quot;http://forum.springsource.org/showthread.php?p=289581#post289581&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://forum.springsource.org/showthread.php?p=289581#post289581&lt;/a&gt;) that describes the issue I&apos;m having. I&apos;m not sure if this is another bug or me doing something wrong.&lt;/p&gt;</comment>
                            <comment id="52351" author="juergen.hoeller" created="Tue, 23 Mar 2010 22:41:56 +0000"  >&lt;p&gt;As of Spring 3.0.2, the Spring BeanUtils class catches an AccessControlException in findEditorByConvention and silently skips the JavaBeans system editor check then. That should sort out the core issue underneath this one here.&lt;/p&gt;

&lt;p&gt;Juergen&lt;/p&gt;</comment>
                            <comment id="124353" author="issuemaster" created="Sat, 6 Feb 2016 06:14:04 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1677&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1677&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="16268" name="gae.log" size="89047" author="tleese22" created="Tue, 9 Mar 2010 14:07:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 9 Mar 2010 00:55:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19527</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03ycf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>