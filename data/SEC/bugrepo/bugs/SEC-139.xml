<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 11:53:40 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-139/SEC-139.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-139] MethodInvocationUtils.create ( Object, method ) should maybe return methods of unenhanced class</title>
                <link>https://jira.spring.io/browse/SEC-139</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;I have a problem with MethodInvocationUtils.create.&lt;/p&gt;

&lt;p&gt;Using it on a spring supplied bean - my security and otherwise &lt;br/&gt;
enhanced service bean - (doer) of course does not return the&lt;br/&gt;
appropriate attributes in ConfigAttributeDefinition.getAttributes&lt;br/&gt;
respectively ConfigAttributeDefinition.lookupAttributes&lt;br/&gt;
for testing it in MethodInvocationPrivilegeEvaluator.isAllowed&lt;/p&gt;

&lt;p&gt;I could use MethodInvocationUtils.createFromClass,&lt;br/&gt;
but I think its easier to test the Spring supplied&lt;br/&gt;
since I should not have to know the actual class of&lt;br/&gt;
the beans in my application.&lt;/p&gt;

&lt;p&gt;OTOH maybe people want to test the enhanced&lt;br/&gt;
class methods?&lt;/p&gt;

&lt;p&gt;So maybe one could use this:&lt;/p&gt;

&lt;p&gt;public static MethodInvocation create(Object object, String methodName,&lt;br/&gt;
        Object[] args) {&lt;br/&gt;
        Assert.notNull(object, &quot;Object required&quot;);&lt;/p&gt;

&lt;p&gt;        Class[] classArgs = null;&lt;/p&gt;

&lt;p&gt;        if (args != null) {&lt;br/&gt;
            List list = new ArrayList();&lt;/p&gt;

&lt;p&gt;            for (int i = 0; i &amp;lt; args.length; i++) &lt;/p&gt;
{
                list.add(args[i].getClass());
            }

&lt;p&gt;            classArgs = (Class[]) list.toArray();&lt;br/&gt;
        }&lt;br/&gt;
        Class clazz = object.getClass();&lt;br/&gt;
        if(object instanceof Factory) &lt;/p&gt;
{ 
           clazz = clazz.getSuperclass();
        }
&lt;p&gt;        return createFromClass(clazz, methodName, classArgs);&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>all</environment>
        <key id="13093">SEC-139</key>
            <summary>MethodInvocationUtils.create ( Object, method ) should maybe return methods of unenhanced class</summary>
                <type id="4" iconUrl="https://jira.spring.io/images/icons/issuetypes/improvement.png">Improvement</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="balex">Ben Alex</assignee>
                                    <reporter username="ido_tamir">Ido Tamir</reporter>
                        <labels>
                    </labels>
                <created>Mon, 2 Jan 2006 20:28:40 +0000</created>
                <updated>Sat, 6 Feb 2016 06:13:33 +0000</updated>
                            <resolved>Sat, 28 Jan 2006 07:37:31 +0000</resolved>
                                    <version>1.0.0 RC1</version>
                                    <fixVersion>1.0.0 RC2</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="16232" author="balex" created="Sat, 28 Jan 2006 07:35:51 +0000"  >&lt;p&gt;Unable to reproduce this problem. I have added two new tests to MethodInvocationPrivilegeEvaluatorTests which expressly use a ProxyFactoryBean-generated proxy object (the test methods are called testAllowsAccessUsingCreate and testDeclinesAccessUsingCreate). The object obtained from the BeanFactory is able to be successfully presented to MethodInvocationUtils. The issue is probably a result of obfuscation by bug &lt;a href=&quot;https://jira.spring.io/browse/SEC-163&quot; title=&quot;MethodInvocationUtils.create(Object, String, Object[]) causes ClassCastException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SEC-163&quot;&gt;&lt;del&gt;SEC-163&lt;/del&gt;&lt;/a&gt;, which has also been corrected.&lt;/p&gt;</comment>
                            <comment id="16233" author="balex" created="Sat, 28 Jan 2006 07:37:31 +0000"  >&lt;p&gt;See &lt;a href=&quot;https://jira.spring.io/browse/SEC-163&quot; title=&quot;MethodInvocationUtils.create(Object, String, Object[]) causes ClassCastException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SEC-163&quot;&gt;&lt;del&gt;SEC-163&lt;/del&gt;&lt;/a&gt;. If this remains a bug, please provide a new test method I can add to MethodInvocationPrivilegeEvaluatorTests to reproduce.&lt;/p&gt;</comment>
                            <comment id="124303" author="issuemaster" created="Sat, 6 Feb 2016 06:13:33 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/400&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/400&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13094">SEC-140</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 28 Jan 2006 07:35:51 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20687</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i04myn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>27094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21743</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>