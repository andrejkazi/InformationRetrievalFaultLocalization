<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 11:25:52 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-2615/SEC-2615.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-2615] accesscontrollist tag documentation incorrectly states hasPermission is an or</title>
                <link>https://jira.spring.io/browse/SEC-2615</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;h2&gt;&lt;a name=&quot;UpdatedDescription&quot;&gt;&lt;/a&gt;Updated Description&lt;/h2&gt;

&lt;p&gt;In 3.1 the accesscontrollist tag began performing an and on the permissions. This may have been accidental, but I think that it is more intuitive &amp;amp; secure for it to behave this way. When compared to hasAnyRole and hasRoles the hasPermission tag implies it is an and. If users end up needing OR support, then the authorize tag can be used along with the hasPermission expression. For example:&lt;/p&gt;

&lt;p/&gt;
&lt;div id=&quot;syntaxplugin&quot; class=&quot;syntaxplugin&quot; style=&quot;border: 1px dashed #bbb; border-radius: 5px !important; overflow: auto; max-height: 30em;&quot;&gt;
&lt;table cellspacing=&quot;0&quot; cellpadding=&quot;0&quot; border=&quot;0&quot; width=&quot;100%&quot; style=&quot;font-size: 1em; line-height: 1.4em !important; font-weight: normal; font-style: normal; color: black;&quot;&gt;
		&lt;tbody &gt;
				&lt;tr id=&quot;syntaxplugin_code_and_gutter&quot;&gt;
						&lt;td  style=&quot; line-height: 1.4em !important; padding: 0em; vertical-align: top;&quot;&gt;
					&lt;pre style=&quot;font-size: 1em; margin: 0 10px;  margin-top: 10px;   margin-bottom: 10px;  width: auto; padding: 0;&quot;&gt;&lt;span style=&quot;color: black; font-family: &apos;Consolas&apos;, &apos;Bitstream Vera Sans Mono&apos;, &apos;Courier New&apos;, Courier, monospace !important;&quot;&gt;&amp;lt;sec:authorize access=&quot;hasPermission(#domain, &apos;read&apos;) or hasPermission(#domain, &apos;write&apos;) &quot;&amp;gt;&lt;/span&gt;&lt;/pre&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
			&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;p/&gt;

&lt;p&gt;In general, the authorize tag should be preferred as it is the more powerful way of performing authorization checks.&lt;/p&gt;

&lt;h2&gt;&lt;a name=&quot;Original&quot;&gt;&lt;/a&gt;Original&lt;/h2&gt;

&lt;p&gt;According to section 4.4 of the Spring Security reference guide:&lt;br/&gt;
It checks a comma-separated list of required permissions for a specified domain object. If the current user has any of those permissions, then the tag body will be evaluated. If they don&#8217;t, it will be skipped.&lt;br/&gt;
&lt;a href=&quot;http://docs.spring.io/spring-security/site/docs/3.2.4.RELEASE/reference/htmlsingle/#the-accesscontrollist-tag&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://docs.spring.io/spring-security/site/docs/3.2.4.RELEASE/reference/htmlsingle/#the-accesscontrollist-tag&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However, the tag seems to check that the user must have all the permissions listed in the hasPermission attribute.&lt;/p&gt;

&lt;p&gt;It looks like &lt;a href=&quot;https://jira.spring.io/browse/SEC-1560&quot; title=&quot;AccessControlListTag should use PermissionEvaluator&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SEC-1560&quot;&gt;&lt;del&gt;SEC-1560&lt;/del&gt;&lt;/a&gt; introduced the problem.  I believe that means it impacts versions 3.1 through the current version.&lt;/p&gt;

&lt;p&gt;I&apos;m attaching a diff that I believe will get the tag working as documented again.&lt;/p&gt;</description>
                <environment></environment>
        <key id="58036">SEC-2615</key>
            <summary>accesscontrollist tag documentation incorrectly states hasPermission is an or</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Complete</resolution>
                                        <assignee username="rwinch">Rob Winch</assignee>
                                    <reporter username="hopkink1">Kenneth Hopkins</reporter>
                        <labels>
                    </labels>
                <created>Fri, 30 May 2014 12:44:56 +0000</created>
                <updated>Sat, 6 Feb 2016 06:25:16 +0000</updated>
                            <resolved>Tue, 18 Nov 2014 15:00:13 +0000</resolved>
                                    <version>3.1.0</version>
                    <version>3.1.1</version>
                    <version>3.1.2</version>
                    <version>3.1.3</version>
                    <version>3.1.4</version>
                    <version>3.1.5</version>
                    <version>3.1.6</version>
                    <version>3.2.0</version>
                    <version>3.2.1</version>
                    <version>3.2.2</version>
                    <version>3.2.3</version>
                    <version>3.2.4</version>
                    <version>3.2.5</version>
                    <version>4.0.0.M1</version>
                    <version>4.0.0.M2</version>
                                    <fixVersion>4.0.0.RC1</fixVersion>
                                    <component>Taglibs</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                <comments>
                            <comment id="125633" author="issuemaster" created="Sat, 6 Feb 2016 06:25:16 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/2831&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/2831&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="22048" name="accesscontrollist.diff" size="995" author="hopkink1" created="Fri, 30 May 2014 12:44:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 6 Feb 2016 06:25:16 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44200</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07ld3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>44333</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43902</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10120" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>Reference URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[http://docs.spring.io/spring-security/site/docs/3.2.4.RELEASE/reference/htmlsingle/#the-accesscontrollist-tag]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>