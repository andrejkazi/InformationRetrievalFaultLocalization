<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 09:48:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1002/SEC-1002.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1002] java.lang.IllegalStateException: Mask 1 does not have a corresponding static Permission</title>
                <link>https://jira.spring.io/browse/SEC-1002</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;This problem, which appears in both 2.0.3 and 2.0.4, seems to be related to&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://jira.springframework.org/browse/SEC-908&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://jira.springframework.org/browse/SEC-908&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but I&apos;m not sure. I haven&apos;t done much research into the cause.&lt;/p&gt;

&lt;p&gt;At any rate, I&apos;m using the &amp;lt;security:accesscontrollist&amp;gt; tag but not the &amp;lt;global-method-security&amp;gt; element in the app context. (I know there&apos;s no inherent connection between the two, but I mention it because you need to remove &amp;lt;global-method-security&amp;gt; in order to reproduce the bug.) When the JSP that contains the tag runs, I get the following stacktrace:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalStateException: Mask 1 does not have a corresponding static Permission&lt;br/&gt;
	org.springframework.util.Assert.state(Assert.java:384)&lt;br/&gt;
	org.springframework.security.acls.domain.DefaultPermissionFactory.buildFromMask(DefaultPermissionFactory.java:85)&lt;br/&gt;
	org.springframework.security.acls.domain.AbstractRegisteredPermission.buildFromMask(AbstractRegisteredPermission.java:25)&lt;br/&gt;
	org.springframework.security.taglibs.authz.AccessControlListTag.parsePermissionsString(AccessControlListTag.java:221)&lt;br/&gt;
	org.springframework.security.taglibs.authz.AccessControlListTag.doStartTag(AccessControlListTag.java:97)&lt;br/&gt;
	...&amp;lt;snip&amp;gt;...&lt;/p&gt;

&lt;p&gt;Anyway, I tried one of the ideas in the above-mentioned JIRA issue (namely forcing a BasePermission load and the associated execution of the static initializer) and that solved the problem.&lt;/p&gt;

&lt;p&gt;I assume that what&apos;s happening is that DefaultPermissionFactory is trying to carry permissions bits I&apos;ve set either in the tags or else in the database to actual Permissions, isn&apos;t finding anything in the registeredPermissionsByInteger map, and is failing as a result.&lt;/p&gt;</description>
                <environment></environment>
        <key id="24166">SEC-1002</key>
            <summary>java.lang.IllegalStateException: Mask 1 does not have a corresponding static Permission</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="wwheeler">Willie Wheeler</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Oct 2008 16:41:58 +0000</created>
                <updated>Sat, 6 Feb 2016 06:09:18 +0000</updated>
                            <resolved>Wed, 16 Sep 2009 06:37:38 +0000</resolved>
                                    <version>2.0.4</version>
                                    <fixVersion>3.0.0 RC1</fixVersion>
                                    <component>ACLs</component>
                    <component>Taglibs</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="43843" author="luke" created="Sun, 26 Apr 2009 13:57:17 +0000"  >&lt;p&gt;The ACL tags should probably be rewritten to use the PermissionEvaluator interface from the core, as this has no specific dependencies on the ACL module itself.&lt;/p&gt;</comment>
                            <comment id="46765" author="luke" created="Wed, 16 Sep 2009 06:36:36 +0000"  >&lt;p&gt;This should hopefully be resolved by the removal of static fields and methods from BasePermission and the requirement that a PermissionFactory is used directly to convert masks to Permissions (see &lt;a href=&quot;https://jira.spring.io/browse/SEC-1022&quot; title=&quot;Remove use of static methods/initializers in Acl Permissions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;SEC-1022&quot;&gt;&lt;del&gt;SEC-1022&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="123882" author="issuemaster" created="Sat, 6 Feb 2016 06:09:18 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1253&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1253&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10130">
                    <name>Supersede</name>
                                                                <inwardlinks description="is superseded by">
                                        <issuelink>
            <issuekey id="24566">SEC-1022</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 26 Apr 2009 13:57:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i024of:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12467</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12302</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>