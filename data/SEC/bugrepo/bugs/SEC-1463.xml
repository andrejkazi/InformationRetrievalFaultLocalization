<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 10:15:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1463/SEC-1463.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1463] Users defined in XML can&apos;t login when their username contains capital</title>
                <link>https://jira.spring.io/browse/SEC-1463</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;The following users (see reference documentation), defined in XML, can login:&lt;br/&gt;
&amp;lt;authentication-manager&amp;gt;&lt;br/&gt;
    &amp;lt;authentication-provider&amp;gt;&lt;br/&gt;
      &amp;lt;user-service&amp;gt;&lt;br/&gt;
        &amp;lt;user name=&quot;jimi&quot; password=&quot;jimispassword&quot; authorities=&quot;ROLE_USER, ROLE_ADMIN&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;user name=&quot;bob&quot; password=&quot;bobspassword&quot; authorities=&quot;ROLE_USER&quot; /&amp;gt;&lt;br/&gt;
      &amp;lt;/user-service&amp;gt;&lt;br/&gt;
    &amp;lt;/authentication-provider&amp;gt;&lt;br/&gt;
  &amp;lt;/authentication-manager&amp;gt;&lt;/p&gt;

&lt;p&gt;When the usernames begin with a capital, those users can&apos;t login.&lt;br/&gt;
When submmitting the default form generated by &amp;lt;form-login&amp;gt; you get an error: Your login attempt was not successful, try again. Reason: Bad credentials&lt;br/&gt;
&amp;lt;authentication-manager&amp;gt;&lt;br/&gt;
    &amp;lt;authentication-provider&amp;gt;&lt;br/&gt;
      &amp;lt;user-service&amp;gt;&lt;br/&gt;
        &amp;lt;user name=&quot;Jimi&quot; password=&quot;jimispassword&quot; authorities=&quot;ROLE_USER, ROLE_ADMIN&quot; /&amp;gt;&lt;br/&gt;
        &amp;lt;user name=&quot;Bob&quot; password=&quot;bobspassword&quot; authorities=&quot;ROLE_USER&quot; /&amp;gt;&lt;br/&gt;
      &amp;lt;/user-service&amp;gt;&lt;br/&gt;
    &amp;lt;/authentication-provider&amp;gt;&lt;br/&gt;
  &amp;lt;/authentication-manager&amp;gt;&lt;/p&gt;

&lt;p&gt;When you define users in a datbase (via &amp;lt;jdbc-user-serivce&amp;gt;) this problem doesn&apos;t occur.&lt;/p&gt;</description>
                <environment></environment>
        <key id="31119">SEC-1463</key>
            <summary>Users defined in XML can&apos;t login when their username contains capital</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="desmethans">Hans Desmet</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Apr 2010 20:46:55 +0000</created>
                <updated>Sat, 6 Feb 2016 06:14:20 +0000</updated>
                            <resolved>Fri, 30 Apr 2010 07:04:49 +0000</resolved>
                                    <version>3.0.2</version>
                                    <fixVersion>3.0.3</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="53188" author="luke" created="Fri, 23 Apr 2010 00:00:17 +0000"  >&lt;p&gt;Usernames aren&apos;t case insensitive. The code that checks this is the same - it only depends on the UserDetailsService, so it is most likely something to do with your database schema setup. If you disagree, please provide evidence that you can load an upper case name from a database and authenticate against it.&lt;/p&gt;</comment>
                            <comment id="53201" author="desmethans" created="Fri, 23 Apr 2010 06:36:18 +0000"  >&lt;p&gt;The problem occurs when you define the users in XML, NOT when you define them in a database.&lt;/p&gt;

&lt;p&gt;You can see the problem with following app (STS project in attach)&lt;/p&gt;

&lt;p&gt;web.xml&lt;br/&gt;
------------&lt;br/&gt;
&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee &lt;a href=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&lt;/a&gt;&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;display-name&amp;gt;UserNamesWithUperCaseLetters&amp;lt;/display-name&amp;gt;&lt;br/&gt;
  &amp;lt;listener&amp;gt;&lt;br/&gt;
  &amp;lt;listener-class&amp;gt;&lt;br/&gt;
    org.springframework.web.context.ContextLoaderListener&lt;br/&gt;
  &amp;lt;/listener-class&amp;gt;&lt;br/&gt;
&amp;lt;/listener&amp;gt;&lt;br/&gt;
  &amp;lt;context-param&amp;gt;&lt;br/&gt;
  &amp;lt;param-name&amp;gt;contextConfigLocation&amp;lt;/param-name&amp;gt;&lt;br/&gt;
  &amp;lt;param-value&amp;gt;&lt;br/&gt;
    /WEB-INF/springSecurity.xml&lt;br/&gt;
  &amp;lt;/param-value&amp;gt;&lt;br/&gt;
&amp;lt;/context-param&amp;gt;&lt;br/&gt;
  &amp;lt;filter&amp;gt;&lt;br/&gt;
  &amp;lt;filter-name&amp;gt;springSecurityFilterChain&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
  &amp;lt;filter-class&amp;gt;&lt;br/&gt;
    org.springframework.web.filter.DelegatingFilterProxy&lt;br/&gt;
  &amp;lt;/filter-class&amp;gt;&lt;br/&gt;
&amp;lt;/filter&amp;gt;&lt;br/&gt;
&amp;lt;filter-mapping&amp;gt;&lt;br/&gt;
  &amp;lt;filter-name&amp;gt; springSecurityFilterChain&amp;lt;/filter-name&amp;gt;&lt;br/&gt;
  &amp;lt;url-pattern&amp;gt;/*&amp;lt;/url-pattern&amp;gt;	&lt;br/&gt;
&amp;lt;/filter-mapping&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;welcome-file-list&amp;gt;&lt;br/&gt;
    &amp;lt;welcome-file&amp;gt;index.html&amp;lt;/welcome-file&amp;gt;&lt;br/&gt;
  &amp;lt;/welcome-file-list&amp;gt;&lt;br/&gt;
&amp;lt;/web-app&amp;gt;&lt;/p&gt;

&lt;p&gt;springSecurity.xml&lt;br/&gt;
---------------------------&lt;br/&gt;
&amp;lt;beans:beans xmlns=&quot;http://www.springframework.org/schema/security&quot;	&lt;br/&gt;
  xmlns:beans=&quot;http://www.springframework.org/schema/beans&quot;	&lt;br/&gt;
  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&lt;br/&gt;
  xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans	&lt;br/&gt;
  &lt;a href=&quot;http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/schema/beans/spring-beans-3.0.xsd&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://www.springframework.org/schema/security&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/schema/security&lt;/a&gt;	&lt;br/&gt;
&lt;a href=&quot;http://www.springframework.org/schema/security/spring-security-3.0.xsd&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www.springframework.org/schema/security/spring-security-3.0.xsd&lt;/a&gt;&quot;&amp;gt;&lt;br/&gt;
  &amp;lt;http&amp;gt;	&lt;br/&gt;
    &amp;lt;form-login/&amp;gt;&lt;br/&gt;
    &amp;lt;intercept-url pattern=&quot;/index.html&quot;	&lt;br/&gt;
      access=&quot;ROLE_MANAGER&quot; /&amp;gt;&lt;br/&gt;
  &amp;lt;/http&amp;gt;&lt;br/&gt;
  &amp;lt;authentication-manager&amp;gt;&lt;br/&gt;
    &amp;lt;authentication-provider&amp;gt;	&lt;br/&gt;
      &amp;lt;user-service&amp;gt;	&lt;br/&gt;
        &amp;lt;user name=&quot;joe&quot; password=&quot;joe&quot; authorities=&quot;ROLE_MANAGER&quot; /&amp;gt;	&lt;br/&gt;
        &amp;lt;user name=&quot;Jack&quot; password=&quot;jack&quot; authorities=&quot;ROLE_MANAGER&quot; /&amp;gt;&lt;br/&gt;
      &amp;lt;/user-service&amp;gt;&lt;br/&gt;
    &amp;lt;/authentication-provider&amp;gt;&lt;br/&gt;
  &amp;lt;/authentication-manager&amp;gt;&lt;br/&gt;
&amp;lt;/beans:beans&amp;gt;&lt;/p&gt;

&lt;p&gt;index.html&lt;br/&gt;
---------------&lt;br/&gt;
&amp;lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&amp;gt;&lt;br/&gt;
&amp;lt;html&amp;gt;&lt;br/&gt;
&amp;lt;head&amp;gt;&lt;br/&gt;
&amp;lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&quot;&amp;gt;&lt;br/&gt;
&amp;lt;title&amp;gt;Welcome&amp;lt;/title&amp;gt;&lt;br/&gt;
&amp;lt;/head&amp;gt;&lt;br/&gt;
&amp;lt;body&amp;gt;&lt;br/&gt;
&amp;lt;h1&amp;gt;Welcome&amp;lt;/h1&amp;gt;&lt;br/&gt;
&amp;lt;/body&amp;gt;&lt;br/&gt;
&amp;lt;/html&amp;gt;&lt;/p&gt;

&lt;p&gt;When you open the webapp with your browser and you type joe as username and joe as password you see index.html&lt;br/&gt;
When you open the webapp with your browser and you type Jack as username and jack as password you see following error:&lt;br/&gt;
Your login attempt was not successful, try again.&lt;br/&gt;
Reason: Bad credentials&lt;/p&gt;</comment>
                            <comment id="53212" author="luke" created="Sat, 24 Apr 2010 02:36:56 +0000"  >&lt;p&gt;Ah, Ok. I thought you were saying that the lookup was case-insensitive with the database, but not with the in-memory provider. Looking at the code, it turns out that The in-memory UserDetailsService &lt;b&gt;is&lt;/b&gt; supposed to be case insensitive (names are stored in lower case). For some reason  This seems to be an issue with 3.0.x branch but not the master branch. The namespace parsing code creates a separate map without lower-case usernames. I will correct this and update the documentation to clarify that the username is case-insensitive for &amp;lt;user-service&amp;gt; users.&lt;/p&gt;

&lt;p&gt;The UserMap class should also be deprecated and the code for the in-memory UserDetailsService simplified.&lt;/p&gt;</comment>
                            <comment id="79034" author="w.owczarczyk" created="Sat, 19 May 2012 04:32:38 +0000"  >&lt;p&gt;I think this problem still persists (tested on Spring Security 3.1.0)&lt;/p&gt;</comment>
                            <comment id="124382" author="issuemaster" created="Sat, 6 Feb 2016 06:14:20 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1703&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1703&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Related</name>
                                            <outwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="31136">SEC-1464</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="16483" name="UserNamesWithUperCaseLetters.zip" size="6828" author="desmethans" created="Fri, 23 Apr 2010 06:36:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 23 Apr 2010 00:00:17 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03y8f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23088</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19604</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>