<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 11:22:00 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-267/SEC-267.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-267] NamedEntityObjectIdentity not stripping cglib ehanced class names.</title>
                <link>https://jira.spring.io/browse/SEC-267</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;There is a bug in NamedEntityObjectIdentity that is causing me problems. I checked with the version in head and it still exists there.  Assuming your class has the cglib enhanced name &lt;/p&gt;

&lt;p&gt;    model.Site$$EnhancerByCGLIB$$378957af  &lt;/p&gt;

&lt;p&gt;The ClassNameUtils.getShortName methids is called turning the above into  &lt;/p&gt;

&lt;p&gt;   model.Site$$EnhancerByCGLIB$$378957af.Site &lt;/p&gt;

&lt;p&gt;Before its gets passed into the getPackageName method, which then just drops off the .Site giving you back  your original class name.&lt;/p&gt;

&lt;p&gt;The problem, after chaseing my tail for a while, turns out to be the call to getPackageName(object.getClass().getName()) is not  closed.&lt;/p&gt;

&lt;p&gt;This &lt;/p&gt;

&lt;p&gt; public NamedEntityObjectIdentity(Object object)&lt;br/&gt;
        throws IllegalAccessException, InvocationTargetException {&lt;br/&gt;
        Assert.notNull(object, &quot;object cannot be null&quot;);&lt;/p&gt;

&lt;p&gt;        this.classname = (getPackageName(object.getClass().getName()) == null)&lt;br/&gt;
            ? ClassUtils.getShortName(object.getClass())&lt;br/&gt;
            : getPackageName(object.getClass().getName() + &quot;.&quot;&lt;br/&gt;
                + ClassUtils.getShortName(object.getClass()));&lt;/p&gt;

&lt;p&gt;Should be&lt;/p&gt;

&lt;p&gt; public NamedEntityObjectIdentity(Object object)&lt;br/&gt;
        throws IllegalAccessException, InvocationTargetException {&lt;br/&gt;
        Assert.notNull(object, &quot;object cannot be null&quot;);&lt;/p&gt;

&lt;p&gt;        this.classname = (getPackageName(object.getClass().getName()) == null)&lt;br/&gt;
            ? ClassUtils.getShortName(object.getClass())&lt;br/&gt;
            : getPackageName(object.getClass().getName()) + &quot;.&quot;&lt;br/&gt;
                + ClassUtils.getShortName(object.getClass());&lt;/p&gt;</description>
                <environment></environment>
        <key id="13953">SEC-267</key>
            <summary>NamedEntityObjectIdentity not stripping cglib ehanced class names.</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="balex">Ben Alex</assignee>
                                    <reporter username="cmercer">Chris Mercer</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 May 2006 08:42:47 +0000</created>
                <updated>Sat, 6 Feb 2016 06:25:52 +0000</updated>
                            <resolved>Mon, 22 May 2006 21:42:20 +0000</resolved>
                                    <version>1.0.0 RC2</version>
                                    <fixVersion>1.0.0</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="17694" author="balex" created="Mon, 22 May 2006 21:42:20 +0000"  >&lt;p&gt;Checked fix into SVN.&lt;/p&gt;</comment>
                            <comment id="125693" author="issuemaster" created="Sat, 6 Feb 2016 06:25:52 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/528&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/528&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Mon, 22 May 2006 21:42:20 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20566</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i021nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11976</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>11869</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>