<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 10:26:12 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1660/SEC-1660.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1660] Switch from HTTPS to HTTP does not work on Tomcat wont work if session-fixation protection is enabled</title>
                <link>https://jira.spring.io/browse/SEC-1660</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;Hello, In your documentation here: &lt;a href=&quot;http://static.springsource.org/spring-security/site/faq.html#faq-tomcat-https-session&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://static.springsource.org/spring-security/site/faq.html#faq-tomcat-https-session&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;You say: I&apos;m using Tomcat (or some other servlet container) and have enabled HTTPS for my login page, switching back to HTTP afterwards. It doesn&apos;t work - I just end up back at the login page after authenticating. This happens because sessions created under HTTPS, for which the session cookie is marked as &quot;secure&quot;, cannot subsequently be used under HTTP. The browser will not send the cookie back to the server and any session state will be lost (including the security context information). Starting a session in HTTP first should work as the session cookie won&apos;t be marked as secure.&lt;/p&gt;

&lt;p&gt;I may be wrong but I don&apos;t understand how this can work.&lt;br/&gt;
Later when we authenticate, defaults policy (SessionFixationProtectionStrategy) will create a new Session and SessionFixationProtectionStrategy will make it copy attributes, &lt;br/&gt;
since this new session is in HTTPS so Cookie marked as secure, later when we switch back to HTTP cookie will consequently not be transmitted resulting &lt;br/&gt;
in either a new session being created or the old invalidated one. &lt;br/&gt;
This can be fixed by using a org.springframework.security.web.authentication.session.SessionFixationProtectionStrategy &lt;br/&gt;
used by both &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;session-management invalid-session-url=&quot;/sessionTimeout.do2&quot; session-authentication-strategy-ref=&quot;sas&quot;&lt;br/&gt;
-org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Maybe you should indicate it in documentation because many people have this issue. &lt;br/&gt;
I think issue affects more versions. &lt;/p&gt;

&lt;p&gt;Philippe &lt;/p&gt;

</description>
                <environment></environment>
        <key id="35949">SEC-1660</key>
            <summary>Switch from HTTPS to HTTP does not work on Tomcat wont work if session-fixation protection is enabled</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://jira.spring.io/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="p.mouawad@ubik-ingenierie.com">Philippe Mouawad</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Jan 2011 09:15:29 +0000</created>
                <updated>Sat, 6 Feb 2016 06:16:25 +0000</updated>
                            <resolved>Fri, 21 Jan 2011 08:19:30 +0000</resolved>
                                                    <fixVersion>3.1.0.RC1</fixVersion>
                                    <component>Docs and Website</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="62617" author="luke" created="Fri, 21 Jan 2011 08:19:30 +0000"  >&lt;p&gt;Thanks for pointing this out. I&apos;ve updated the FAQ to mention this, and also to clarify that switching between HTTP and HTTPS is a bad idea in general.&lt;/p&gt;</comment>
                            <comment id="124597" author="issuemaster" created="Sat, 6 Feb 2016 06:16:25 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1898&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1898&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 21 Jan 2011 08:19:30 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19343</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03udz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>22465</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18921</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>