<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 11:43:07 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-439/SEC-439.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-439] AclEntryAfterInvocationProvider.decide() returns null when result object not applicable to the provider</title>
                <link>https://jira.spring.io/browse/SEC-439</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;Maybe I&apos;m confused but I&apos;m using ACL_AFTER_READ to control access to instances of my DomainObjectAclAware objects.  In my afterAclRead bean I define:&lt;/p&gt;

&lt;p&gt;&amp;lt;property name=&quot;processDomainObjectClass&quot;&amp;gt;&amp;lt;value&amp;gt;foo.DomainObjectAclAware&amp;lt;/value&amp;gt;&amp;lt;/property&amp;gt;&lt;/p&gt;

&lt;p&gt;I stepped through code while retrieving an object that was &lt;b&gt;not&lt;/b&gt; an instance of DomainObjectAclAware and the provider returned null anyway as if I do not have access to the object.  See lines 90-96 of org.acegisecurity.afterinvocation.AclEntryAfterInvocationProvider:&lt;/p&gt;

&lt;p&gt;                if (!getProcessDomainObjectClass().isAssignableFrom(returnedObject.getClass())) {&lt;br/&gt;
                    if (logger.isDebugEnabled()) &lt;/p&gt;
{
                        logger.debug(&quot;Return object is not applicable for this provider, skipping&quot;);
                    }

&lt;p&gt;                    return null;&lt;br/&gt;
                }&lt;/p&gt;

&lt;p&gt;Shouldn&apos;t this return the object instead of null?&lt;/p&gt;</description>
                <environment></environment>
        <key id="16154">SEC-439</key>
            <summary>AclEntryAfterInvocationProvider.decide() returns null when result object not applicable to the provider</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="balex">Ben Alex</assignee>
                                    <reporter username="tduffey">Tom Duffey</reporter>
                        <labels>
                    </labels>
                <created>Sun, 18 Feb 2007 18:01:19 +0000</created>
                <updated>Sat, 6 Feb 2016 06:32:40 +0000</updated>
                            <resolved>Tue, 22 May 2007 18:05:01 +0000</resolved>
                                    <version>1.0.3</version>
                                    <fixVersion>1.0.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="22302" author="tduffey" created="Sun, 18 Feb 2007 23:53:23 +0000"  >&lt;p&gt;Also compare this to lines 112-113 of AclEntryAfterInvocationCollectionFilteringProvider.java:&lt;/p&gt;

&lt;p&gt;                    } else if (!getProcessDomainObjectClass().isAssignableFrom(domainObject.getClass())) {&lt;br/&gt;
                        hasPermission = true;&lt;/p&gt;

&lt;p&gt;So the collection filter seems to work as I would expect the above to work.&lt;/p&gt;</comment>
                            <comment id="22473" author="tduffey" created="Wed, 28 Feb 2007 00:37:52 +0000"  >&lt;p&gt;Suggested patch&lt;/p&gt;</comment>
                            <comment id="23930" author="balex" created="Tue, 22 May 2007 18:05:01 +0000"  >&lt;p&gt;AclEntryAfterInvocationProvider should not modify the object (including changing it to null) unless the processDomainObjectClass matches. The patch has been applied in SVN commit 1853.&lt;/p&gt;</comment>
                            <comment id="126415" author="issuemaster" created="Sat, 6 Feb 2016 06:32:40 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/700&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/700&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12432" name="AclEntryAfterInvocationProvider.java.patch" size="539" author="tduffey" created="Wed, 28 Feb 2007 00:37:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 22 May 2007 18:05:01 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>20402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05cgv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>31226</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>28647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>