<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 10:14:14 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-905/SEC-905.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-905] &lt;protect-pointcut /&gt; pointcuts do not respect method arguments</title>
                <link>https://jira.spring.io/browse/SEC-905</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;Suppose you have two methods with the same name but different parameter types along with some further methods. E.g. securing a method with one parameter with an admin role and all other methods (by using *.(..)) with a user role this leads to upredictable results. Depending on which of the two methods you secure, you either get both secured with admin role or all methods of the class are only user secured.&lt;/p&gt;

&lt;p&gt;Digging into the sources I suppose the MapBasedDefinitionSource to be the problem. addSecureMethod(Class javaType, String mappedName, ConfigAttributeDefinition attr) only regards method names but does NOT regard parameters.&lt;/p&gt;

&lt;p&gt;Furthermore the check for more specificality seems odd to me. If you take the order of the pointcut definitions into account, the first pointcut matching a method should win. I doubt if it is possible at all to find out if one pointcut is a subset or superset of another. SO why not take the first match?&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Ollie&lt;/p&gt;</description>
                <environment>MacOSX 1.5.4, Eclipse 3.3</environment>
        <key id="22983">SEC-905</key>
            <summary>&lt;protect-pointcut /&gt; pointcuts do not respect method arguments</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="olivergierke">Oliver Gierke</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Jul 2008 15:30:00 +0000</created>
                <updated>Sat, 6 Feb 2016 06:37:53 +0000</updated>
                            <resolved>Tue, 12 Aug 2008 04:15:05 +0000</resolved>
                                    <version>2.0.3</version>
                                    <fixVersion>2.0.4</fixVersion>
                                    <component>Namespace</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="37308" author="olivergierke" created="Thu, 3 Jul 2008 15:30:58 +0000"  >&lt;p&gt;Eclipse project documenting the issue. The test case fails, although it should not.&lt;/p&gt;</comment>
                            <comment id="38866" author="luke" created="Tue, 12 Aug 2008 03:07:29 +0000"  >&lt;p&gt;I think this issue is best resolved by the addition of a new addSecureMethod(Class, Method, ConfigAttributeDefinition) method. Since the class already uses a full Method object within the key for its methodMap, if this were called by the ProtectPointcutPostProcessor then it would automatically make use of the full signature, including arguments. It&apos;s important that only the first matching method is added so that the pointcuts are considered in order and a later, more generalized match doesn&apos;t overwrite an earlier set of attributes.&lt;/p&gt;

&lt;p&gt;Regarding the checking for more specific matches, this only applies to wildcarded method names, so doesn&apos;t apply to pointcuts as these will always use the full method name for the &apos;mappedName&apos; parameter. This functionality is only intended for situations where something like &quot;doSome*&quot; and &quot;doSomething&quot; are both registered. &quot;doSomething&quot; is more specific in that case and takes precedence. &lt;/p&gt;</comment>
                            <comment id="38869" author="luke" created="Tue, 12 Aug 2008 04:15:05 +0000"  >&lt;p&gt;I&apos;ve added the suggested method to MapBasedMethodInvocationDefinitionSource and it is now called from ProtectPointcutPostProcessor instead of the version taking the method name. It won&apos;t overwrite an existing definition, so in the case of protect-pointcut declarations, the first match for a method will always be used.&lt;/p&gt;</comment>
                            <comment id="126925" author="issuemaster" created="Sat, 6 Feb 2016 06:37:53 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1158&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1158&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="14330" name="protect-pointcut-test.zip" size="9552" author="olivergierke" created="Thu, 3 Jul 2008 15:30:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 12 Aug 2008 03:07:29 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2466</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00y0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5555</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6820</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>