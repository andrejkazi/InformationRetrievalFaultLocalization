<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 10:44:54 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1078/SEC-1078.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1078] WebSphere2SpringSecurityPropagationInterceptor creates an auth token with null credentials - rejected by pre-auth provider</title>
                <link>https://jira.spring.io/browse/SEC-1078</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;WebSphere2SpringSecurityPropagationInterceptor creates a PreAuthenticatedAuthenticationToken request with the was username, and null credentials (line 55 in WebSphere2SpringSecurityPropagationInterceptor).&lt;/p&gt;

&lt;p&gt;Such an auth request will be rejected by corresponding provider, (PreAuthenticatedAuthenticationProvider, lines 73-80).&lt;/p&gt;

&lt;p&gt;I suggest to change the interceptor and follow what&apos;s in the WebSpherePreAuthenticatedProcessingFilter: the filter return &quot;N/A&quot; as the credentials, which is ok, since the pre-auth provider does not check credential values.&lt;/p&gt;

&lt;p&gt;Also, in order to unit test WAS stuff into the org.springframework.security.ui.preauth.websphere package, the WASSecurityHelper should be refactored into a non-static class - at least this would have prevented this bug. You will find attached a proposal for such a refactoring.&lt;/p&gt;</description>
                <environment></environment>
        <key id="25305">SEC-1078</key>
            <summary>WebSphere2SpringSecurityPropagationInterceptor creates an auth token with null credentials - rejected by pre-auth provider</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="gpitteloud">Gaetan Pitteloud</reporter>
                        <labels>
                    </labels>
                <created>Thu, 8 Jan 2009 19:39:49 +0000</created>
                <updated>Sat, 6 Feb 2016 06:10:08 +0000</updated>
                            <resolved>Sun, 26 Apr 2009 17:04:25 +0000</resolved>
                                    <version>2.0.4</version>
                                    <fixVersion>3.0.0 M1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <timeoriginalestimate seconds="0">0d</timeoriginalestimate>
                            <timeestimate seconds="0">0d</timeestimate>
                                        <comments>
                            <comment id="41952" author="gpitteloud" created="Thu, 8 Jan 2009 19:43:46 +0000"  >&lt;p&gt;oops, I found a typo in java file. Please look for the 2nd version.&lt;/p&gt;</comment>
                            <comment id="41953" author="gpitteloud" created="Thu, 8 Jan 2009 19:44:32 +0000"  >&lt;p&gt;typo fix: method GroupsForCurrentUser() renamed to getGroupsForCurrentUser()&lt;/p&gt;</comment>
                            <comment id="43844" author="luke" created="Sun, 26 Apr 2009 17:04:25 +0000"  >&lt;p&gt;Thanks a lot for the patch. Rather than retaining WASSecurityHelper as a static class, I&apos;ve reimplemented it completely as an internally used interface, with a default implementation which does the WAS integration (similar to the approach you had within the static class). I&apos;ve also added a test for the scenario you describe.&lt;/p&gt;

&lt;p&gt;I haven&apos;t tested this (and the related refactoring) in websphere so let me know if there are any issues.&lt;/p&gt;</comment>
                            <comment id="123965" author="issuemaster" created="Sat, 6 Feb 2016 06:10:08 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1329&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1329&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="15021" name="WASSecurityHelper.java" size="10781" author="gpitteloud" created="Thu, 8 Jan 2009 19:44:32 +0000"/>
                            <attachment id="15020" name="WASSecurityHelper.java" size="10778" author="gpitteloud" created="Thu, 8 Jan 2009 19:39:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sun, 26 Apr 2009 17:04:25 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19829</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i024f3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12425</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>12262</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>