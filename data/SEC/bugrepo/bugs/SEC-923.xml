<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 11:09:51 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-923/SEC-923.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-923] OpenId integration and support for discovering relying parties</title>
                <link>https://jira.spring.io/browse/SEC-923</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
I am using the excellent openId support in Spring Security but I noticed that with Yahoo, I keep seeing the following message on Yahoo&apos;s openid page:&lt;br/&gt;
&quot;Warning: This website has not confirmed its identity with Yahoo! and might be fraudulent. Do not share any personal information with this website unless you are certain it is legitimate. &quot;&lt;/p&gt;

&lt;p&gt;I looked into this issue and found that  the reason is that Yahoo implements a feature in OpenId 2.0 where it verifies if the return_to URL is a relying party endpoint (see &lt;a href=&quot;http://openid.net/specs/openid-authentication-2_0-12.html#realms&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://openid.net/specs/openid-authentication-2_0-12.html#realms&lt;/a&gt;, section 9.2.1). In this case the return_to URL is http://&amp;lt;website&amp;gt;/j_spring_openid_security_check.&lt;br/&gt;
I also followed the tutorial here &lt;a href=&quot;http://blog.nerdbank.net/2008/06/why-yahoo-says-your-openid-site.html&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://blog.nerdbank.net/2008/06/why-yahoo-says-your-openid-site.html&lt;/a&gt; but with no success. &lt;/p&gt;

&lt;p&gt;I can actually see on my webserver log a Yahoo IP address hitting the following URL after I post the OpenId authentication request:&lt;/p&gt;

&lt;p&gt;68.142.241.108 - - &lt;span class=&quot;error&quot;&gt;&amp;#91;15/Jul/2008:02:49:06 +0000&amp;#93;&lt;/span&gt; &quot;GET /j_spring_openid_security_check HTTP/1.1&quot; 302 -&lt;/p&gt;

&lt;p&gt;after which Yahoo&apos;s openId page shows the warning. Note that the login works fine if I click on the &quot;Let me in&quot; button.&lt;/p&gt;

&lt;p&gt;Please help.&lt;br/&gt;
florin&lt;/p&gt;</description>
                <environment></environment>
        <key id="23132">SEC-923</key>
            <summary>OpenId integration and support for discovering relying parties</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="raykrueger">Ray Krueger</assignee>
                                    <reporter username="florin">Florin Duroiu</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Jul 2008 14:18:51 +0000</created>
                <updated>Sat, 6 Feb 2016 06:38:05 +0000</updated>
                            <resolved>Thu, 31 Jul 2008 06:32:41 +0000</resolved>
                                    <version>2.0.3</version>
                                    <fixVersion>2.0.4</fixVersion>
                                    <component>OpenID</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="38054" author="raykrueger" created="Thu, 31 Jul 2008 03:23:15 +0000"  >&lt;p&gt;Yeah, we&apos;re not passing a realm at all right now. We&apos;ll have to find a way to pass the realm along.&lt;br/&gt;
I&apos;m looking at the OpenID4JavaConsumer line 81 right now, we should be passing the 3rd argument of &quot;realm&quot; to the authenticate method.&lt;/p&gt;</comment>
                            <comment id="38063" author="raykrueger" created="Thu, 31 Jul 2008 06:32:41 +0000"  >&lt;p&gt;Florin, I&apos;ve committed some changes that you should be able to use here.&lt;br/&gt;
First I&apos;ve added a &quot;realmMapping&quot; property to the OpenIDAuthenticationProcessingFilter that maps the redirectUrl (the /j_acegi blah blah) url.&lt;br/&gt;
By default it will parse the redirect (return_to in openId) url and return just the protocol, port, and hostname.&lt;/p&gt;</comment>
                            <comment id="38094" author="florin" created="Sat, 2 Aug 2008 03:27:23 +0000"  >&lt;p&gt;Hi Ray,&lt;br/&gt;
Thanks for the prompt fix, I just tested it and it works. &lt;/p&gt;

&lt;p&gt;Here&apos;s a short how-to for adding the relying party end-point (leaving the default realmMapping pointing to /):&lt;br/&gt;
1. Create a jsp file in your app called xrds.jsp containg these lines (note that there are two URIs, with and w/o the www prefix for situations where users use www or not) :&lt;br/&gt;
&amp;lt;jsp:directive.page contentType=&quot;application/xml&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;xrds:XRDS&amp;gt;&lt;br/&gt;
    &amp;lt;XRD&amp;gt;&lt;br/&gt;
        &amp;lt;Service priority=&quot;1&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;Type&amp;gt;&lt;a href=&quot;http://specs.openid.net/auth/2.0/return_to&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://specs.openid.net/auth/2.0/return_to&lt;/a&gt;&amp;lt;/Type&amp;gt;&lt;br/&gt;
            &amp;lt;URI&amp;gt;http://&amp;lt;your-website&amp;gt;j_spring_openid_security_check&quot;&amp;lt;/URI&amp;gt;&lt;br/&gt;
            &amp;lt;URI&amp;gt;&lt;a href=&quot;http://www&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://www&lt;/a&gt;.&amp;lt;your-website&amp;gt;j_spring_openid_security_check&quot;&amp;lt;/URI&amp;gt;&lt;br/&gt;
        &amp;lt;/Service&amp;gt;&lt;br/&gt;
    &amp;lt;/XRD&amp;gt;&lt;br/&gt;
&amp;lt;/xrds:XRDS&amp;gt;&lt;/p&gt;

&lt;p&gt;then map this jsp to the URL: http://&amp;lt;your-website&amp;gt;/xrds&lt;/p&gt;

&lt;p&gt;2. Add the following line in the &amp;lt;head&amp;gt; section of your home page (usually index.jsp or index.html):&lt;br/&gt;
		&amp;lt;meta http-equiv=&quot;x-xrds-location&quot; content=&quot;http://&amp;lt;your-website&amp;gt;/xrds&quot;&amp;gt;&lt;/p&gt;


&lt;p&gt;florin&lt;/p&gt;</comment>
                            <comment id="38095" author="raykrueger" created="Sat, 2 Aug 2008 07:15:09 +0000"  >&lt;p&gt;Fantastic. Thanks for the how-to information Florin, folks should find that useful.&lt;br/&gt;
Closing this...&lt;/p&gt;</comment>
                            <comment id="126945" author="issuemaster" created="Sat, 6 Feb 2016 06:38:05 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1176&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1176&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 31 Jul 2008 03:23:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19967</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03znb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23317</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19803</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>