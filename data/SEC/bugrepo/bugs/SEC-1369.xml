<!-- 
RSS generated by JIRA (6.4.11#64026-sha1:78f6ec473a3f058bd5d6c30e9319c7ab376bdb9c) at Fri Dec 23 11:19:05 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.spring.io/si/jira.issueviews:issue-xml/SEC-1369/SEC-1369.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>Spring JIRA</title>
    <link>https://jira.spring.io</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.4.11</version>
        <build-number>64026</build-number>
        <build-date>25-08-2015</build-date>
    </build-info>

<item>
            <title>[SEC-1369] Springbeans gets registered twice</title>
                <link>https://jira.spring.io/browse/SEC-1369</link>
                <project id="10040" key="SEC">Spring Security</project>
                    <description>&lt;p&gt;When Spring&apos;s beans-overriding property is set to false (bean overriding is forbidden), errors regarding duplicated beans are thrown (from Spring).&lt;/p&gt;

&lt;p&gt;After some debugging, I found the source of this problem in the following (and similar) lines inside the spring-security-config module.&lt;/p&gt;

&lt;p&gt;String id = pc.getReaderContext().registerWithGeneratedName(provider);&lt;br/&gt;
pc.registerBeanComponent(new BeanComponentDefinition(provider, id));&lt;/p&gt;

&lt;p&gt;The problem is, that within the method registerWithGeneratedName, the method registerBeanDefinition is called (as the name says). This is also done when calling registerBeanComponent afterwards. &lt;/p&gt;

&lt;p&gt;In my opinion, the solution is to replace the codelines above with:&lt;/p&gt;

&lt;p&gt;String id = pc.getReaderContext().generateBeanName(provider);&lt;br/&gt;
pc.registerBeanComponent(new BeanComponentDefinition(provider, id));&lt;/p&gt;

&lt;p&gt;The problematic code fragment can be found in different classes of the module multiple times. &lt;br/&gt;
Replacing all occurrences solved the problem on our test cases. Also, all the tests of the whole Spring Security framework were passed successfully.&lt;/p&gt;

&lt;p&gt;I attach a patch which includes the modification that i have done. &lt;br/&gt;
This was created from / for the 3.0.0.RELEASE tag.&lt;/p&gt;

&lt;p&gt;I hope, this can be helpful and will be integrated into the next release. &lt;/p&gt;

&lt;p&gt;Cheers&lt;/p&gt;

&lt;p&gt;Jonas&lt;/p&gt;</description>
                <environment></environment>
        <key id="29658">SEC-1369</key>
            <summary>Springbeans gets registered twice</summary>
                <type id="1" iconUrl="https://jira.spring.io/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://jira.spring.io/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://jira.spring.io/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="luke">Luke Taylor</assignee>
                                    <reporter username="jonash">Jonas Hauenstein</reporter>
                        <labels>
                    </labels>
                <created>Thu, 14 Jan 2010 00:15:54 +0000</created>
                <updated>Sat, 6 Feb 2016 06:13:21 +0000</updated>
                            <resolved>Thu, 14 Jan 2010 03:26:53 +0000</resolved>
                                    <version>3.0.0</version>
                                    <fixVersion>3.0.1</fixVersion>
                                    <component>Core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                <comments>
                            <comment id="50205" author="luke" created="Thu, 14 Jan 2010 02:01:28 +0000"  >&lt;p&gt;This is a good point - thanks for the patch. I&apos;ve updated all the uses I could find where this pattern occurs and also changed the test context class to disallow bean overriding.&lt;/p&gt;</comment>
                            <comment id="50215" author="jonash" created="Thu, 14 Jan 2010 07:22:19 +0000"  >&lt;p&gt;You are more than welcome! &lt;br/&gt;
Also thank you for the fast fix of the issue. So we can use 3.0.1 as soon as it will be released without patching. &lt;br/&gt;
Cheers&lt;/p&gt;</comment>
                            <comment id="124280" author="issuemaster" created="Sat, 6 Feb 2016 06:13:21 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/spring-projects/spring-security/issues/1612&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://github.com/spring-projects/spring-security/issues/1612&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="16091" name="mylyn-context.zip" size="46462" author="luke" created="Thu, 14 Jan 2010 01:44:13 +0000"/>
                            <attachment id="16090" name="patch-3.0.0.RELEASE.patch" size="12309" author="jonash" created="Thu, 14 Jan 2010 00:15:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_10170" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>First Response Date</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 14 Jan 2010 02:01:28 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10280" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19583</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_10880" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03ylz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10380" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>23149</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_10381" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Ranking</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                    <customfield id="customfield_10171" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                </customfields>
    </item>
</channel>
</rss>