<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:44:53 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-281/CONFIGURATION-281.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-281] JNDIConfiguration::recursiveGetKeys goes out of stack</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-281</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;There can be cycles in contexts. Websphere 5.1 certainly does have them.&lt;/p&gt;

&lt;p&gt;When getKeys() is called on a JNDIConfiguration, eventually recursiveGetKeys() is called, which calls itself for every subcontext. This will never stop if there is a cycle.&lt;/p&gt;

&lt;p&gt;I would like to suggest the following changes to recursiveGetKeys() to fix this:&lt;/p&gt;

&lt;p&gt;1) check for each subcontext if it has been processed before. If so, don&apos;t process it. An additional stack argument to recursiveGetKeys() should do the trick here.&lt;/p&gt;

&lt;p&gt;2) a maxDepth attribute, like &amp;lt;jndi maxDepth=&quot;4&quot;/&amp;gt;. If the number of subcontexts is equal to maxDepth, stop processing. The maxDepth attribute should be optional of course, and have a default value like 911or so. The stack argument could be used to check the amount of subcontexts processed.&lt;/p&gt;

&lt;p&gt;Because I want to be able to dump the configuration for debugging purposes, this item is of somewhat importance to me.&lt;/p&gt;

&lt;p&gt;I tested this in 1.2 at work, so I cannot easily test this against 1.4. But as the code of 1.4 seems to be more or less the same, I think the problem still exists.&lt;/p&gt;





</description>
                <environment>&lt;p&gt;Websphere 5.1&lt;/p&gt;</environment>
        <key id="12372066">CONFIGURATION-281</key>
            <summary>JNDIConfiguration::recursiveGetKeys goes out of stack</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="michielgkalkman">Michiel Kalkman</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Jun 2007 18:31:05 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Thu, 21 Jun 2007 20:00:56 +0000</resolved>
                                    <version>1.2</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12506670" author="oliver.heger@t-online.de" created="Wed, 20 Jun 2007 21:02:47 +0000"  >&lt;p&gt;I did some testing and could reproduce the problem with mock objects. 1) fixed the problem, assuming that the involved Context objects have a meaningful implementation of equals() and hashCode(). Why would 2) be necessary in addition to 1)?&lt;/p&gt;</comment>
                            <comment id="12506696" author="michielgkalkman" created="Wed, 20 Jun 2007 21:53:51 +0000"  >&lt;p&gt;Cool, thanks.&lt;/p&gt;

&lt;p&gt;I guess #2 is less important, and therefore not necessary, however I just thought that adding maxDepth might reduce the max size of a jndi context tree, and therefore reduce the nr of keys that are returned. Just in case some app decides to be creative with jndi contexts.&lt;/p&gt;</comment>
                            <comment id="12507009" author="oliver.heger@t-online.de" created="Thu, 21 Jun 2007 20:00:56 +0000"  >&lt;p&gt;A fix was applied. Please check if this works for you.&lt;/p&gt;

&lt;p&gt;When I find the time I would like to improve JNDIConfiguration: make it a true hierarchical configuration, support updates of the JNDI tree, etc. This would be a good opportunity for adding a maxDepth property.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 20 Jun 2007 21:02:47 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33907</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0llfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>124122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>