<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:47:08 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-358/CONFIGURATION-358.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-358] subset returned from HierarchicalINIConfiguration has unexpected property names</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-358</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;With the following ini file&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;comment&lt;br/&gt;
property.1 = g1&lt;br/&gt;
property.2 : g2&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;section&amp;#93;&lt;/span&gt;&lt;br/&gt;
property.1 = l1&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;HierarchicalINIConfiguration properly creates two sections: null and &quot;section&quot;.  However, the subsets from this configuration do not have the expected property names.&lt;/p&gt;

&lt;p&gt;The global subset contains the following name=value pairs:&lt;br/&gt;
property..1=g1&lt;br/&gt;
property..2=g2&lt;br/&gt;
section.property..1=l1&lt;/p&gt;

&lt;p&gt;The &quot;section&quot; subset contains the following name=value pairs:&lt;br/&gt;
property..1=g1&lt;/p&gt;

&lt;p&gt;I expected the global subset to contain:&lt;br/&gt;
property.1=g1&lt;br/&gt;
property.2=g2&lt;/p&gt;

&lt;p&gt;I expected the &quot;section&quot; subset to contain:&lt;br/&gt;
property.1 = l1&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12411882">CONFIGURATION-358</key>
            <summary>subset returned from HierarchicalINIConfiguration has unexpected property names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oliver.heger@t-online.de">Oliver Heger</assignee>
                                    <reporter username="chonton">Charles Honton</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Jan 2009 19:32:57 +0000</created>
                <updated>Thu, 8 Sep 2011 09:20:15 +0000</updated>
                            <resolved>Sat, 10 Jan 2009 20:22:19 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                    <component>Documentation</component>
                    <component>Format</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12661674" author="charles_honton@intuit.com" created="Wed, 7 Jan 2009 19:34:54 +0000"  >&lt;p&gt;JUnit test&lt;/p&gt;</comment>
                            <comment id="12661862" author="oliver.heger@t-online.de" created="Thu, 8 Jan 2009 07:01:49 +0000"  >&lt;p&gt;I think, what you observe here is standard behavior of hierarchical configurations:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The dot character in &lt;tt&gt;property.1&lt;/tt&gt; has a special meaning as property delimiter for the expression engine used per default by &lt;tt&gt;HierarchicalINIConfiguration&lt;/tt&gt;, so it is automatically escaped by duplicating it. This is explained in the &lt;a href=&quot;http://commons.apache.org/configuration/userguide/howto_xml.html#Escaping_dot_characters_in_XML_tags&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;User Guide&lt;/a&gt;. If you do not want to use escaping, you can set an &lt;tt&gt;ExpressionEngine&lt;/tt&gt; that is configured to use a different property delimiter. An example of how to do this can be found &lt;a href=&quot;http://commons.apache.org/configuration/userguide/howto_xml.html#The_default_expression_engine&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
	&lt;li&gt;The &lt;tt&gt;subset()&lt;/tt&gt; method does not what you want when you need to access the global section. Invoking &lt;tt&gt;subset(null)&lt;/tt&gt; returns a configuration that contains all properties below the key &lt;b&gt;null&lt;/b&gt;, which denotes the root node - i.e. all properties of the original configuration. Use the &lt;tt&gt;getSection()&lt;/tt&gt; method instead. &lt;tt&gt;getSection(null)&lt;/tt&gt; should return only the properties of the global section and no more.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;These are subtle differences between &lt;tt&gt;INIConfiguration&lt;/tt&gt; and &lt;tt&gt;HierarchicalINIConfiguration&lt;/tt&gt; caused by the fact that the latter is derived from &lt;tt&gt;HierarchicalConfiguration&lt;/tt&gt;. But I don&apos;t think these are bugs. Maybe some hints in the documentation could be added?&lt;/p&gt;</comment>
                            <comment id="12661986" author="charles_honton@intuit.com" created="Thu, 8 Jan 2009 15:04:58 +0000"  >&lt;p&gt;Updated test to use getSection() instead of subset()&lt;/p&gt;</comment>
                            <comment id="12661999" author="charles_honton@intuit.com" created="Thu, 8 Jan 2009 15:21:06 +0000"  >&lt;p&gt;The dot escaping documentation is buried in a section about XML tags - not INI files.  As you said, more hints required.&lt;/p&gt;

&lt;p&gt;A bigger question to me is why the dot escaping is required at all.  It appears to be an implementation relic of property file parsing.  I finally got the results I wanted with &lt;/p&gt;

&lt;p&gt;			DefaultExpressionEngine expressionEngine = new DefaultExpressionEngine();&lt;br/&gt;
			expressionEngine.setPropertyDelimiter(&quot;\000&quot;);&lt;/p&gt;

&lt;p&gt;			HierarchicalINIConfiguration rc= new HierarchicalINIConfiguration();&lt;br/&gt;
			rc.setExpressionEngine(expressionEngine);&lt;/p&gt;

&lt;p&gt;An aside, how about a method on the ExpressionEngine to turn off property delimiting?&lt;/p&gt;</comment>
                            <comment id="12662001" author="charles_honton@intuit.com" created="Thu, 8 Jan 2009 15:21:55 +0000"  >&lt;p&gt;Working test with property delimiter set.&lt;/p&gt;</comment>
                            <comment id="12662257" author="oliver.heger@t-online.de" created="Fri, 9 Jan 2009 07:06:45 +0000"  >&lt;p&gt;You are right that the dot is used as property delimiter for historic reasons. When XML configurations were introduced it was decided to use the dot as delimiter between XML element names to resemble the way properties files are typically constructed. Now it became a standard for hierarchical configurations, and we probably have to stick with it.&lt;/p&gt;

&lt;p&gt;I don&apos;t know whether it makes sense to disable parsing of the property delimiter in an ExpressionEngine. This is a central part of what an expression engine does. And it restricts using of a hierarchical configuration dramatically. For instance, using a hierarchical INI configuration you still want to access single properties with a key like &lt;tt&gt;section.property&lt;/tt&gt;. You could not do that if property delimiters are not recognized. So changing the property delimiter to a character that is not contained in the keys makes sense to me, but not disabling it at all.&lt;/p&gt;

&lt;p&gt;I agree that the documentation about the escaping syntax is hidden in the XML section. If we restructure it to apply to all hierarchical configurations, can we then close this ticket?&lt;/p&gt;</comment>
                            <comment id="12662368" author="charles_honton@intuit.com" created="Fri, 9 Jan 2009 13:49:55 +0000"  >&lt;p&gt;yes, thanks.&lt;/p&gt;</comment>
                            <comment id="12662688" author="oliver.heger@t-online.de" created="Sat, 10 Jan 2009 20:22:19 +0000"  >&lt;p&gt;Some head lines in the user&apos;s guide were changed and the wording was altered to make it more explicit that features described for &lt;tt&gt;XMLConfiguration&lt;/tt&gt; apply to other hierarchical configuration implementations as well.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12397429" name="TestHierarchicalINIConfiguration.java" size="3692" author="chonton" created="Thu, 8 Jan 2009 15:21:55 +0000"/>
                            <attachment id="12397427" name="TestHierarchicalINIConfiguration.java" size="3444" author="chonton" created="Thu, 8 Jan 2009 15:04:58 +0000"/>
                            <attachment id="12397319" name="TestHierarchicalINIConfiguration.java" size="3501" author="chonton" created="Wed, 7 Jan 2009 19:34:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 8 Jan 2009 07:01:49 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33908</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uor3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177151</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>