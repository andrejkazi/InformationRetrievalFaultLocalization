<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 20:04:43 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-86/CONFIGURATION-86.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-86] [configuration] NullPointerException thrown by AbstractFileConfiguration.getFile()</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-86</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The getFile() method throws a NullPointerException if no file name has been set&lt;br/&gt;
yet. This can also happen after a file has been successfully loaded because most&lt;br/&gt;
of the overloaded load() methods do not store the passed in file name.&lt;/p&gt;

&lt;p&gt;This issue was reported by Mi Zhang on commons user list (see&lt;br/&gt;
&lt;a href=&quot;http://thread.gmane.org/gmane.comp.jakarta.commons.user/12289&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://thread.gmane.org/gmane.comp.jakarta.commons.user/12289&lt;/a&gt;).&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342384">CONFIGURATION-86</key>
            <summary>[configuration] NullPointerException thrown by AbstractFileConfiguration.getFile()</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="oliver.heger@t-online.de">Oliver Heger</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jul 2005 04:24:58 +0000</created>
                <updated>Tue, 16 May 2006 12:11:34 +0000</updated>
                            <resolved>Tue, 16 May 2006 12:11:34 +0000</resolved>
                                    <version>Nightly Builds</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12409856" author="ebourg" created="Thu, 21 Jul 2005 05:36:15 +0000"  >&lt;p&gt;The NullPointerException is a bug, but getFile() should return null in this&lt;br/&gt;
case. The load(String filename) method should not store the file in the&lt;br/&gt;
configuration.&lt;/p&gt;</comment>
                            <comment id="12409857" author="oliver.heger@t-online.de" created="Thu, 21 Jul 2005 21:58:21 +0000"  >&lt;p&gt;Not sure whether getFile() should return null after a file was loaded. What&lt;br/&gt;
about the following:&lt;/p&gt;

&lt;p&gt;FileConfiguration conf = new PropertiesConfiguration();&lt;br/&gt;
conf.load(&quot;myfile.properties&quot;);&lt;br/&gt;
...&lt;br/&gt;
conf.save();&lt;/p&gt;

&lt;p&gt;ATM this code will work and store the data at the same place where it was loaded&lt;br/&gt;
from (because the source URL is now stored). This is okay for me, it&apos;s what I&lt;br/&gt;
expect. So there is an association between the configuration and the file it was&lt;br/&gt;
loaded from. Why not return this file in the getFile() method and its name in&lt;br/&gt;
the getFileName() method?&lt;/p&gt;</comment>
                            <comment id="12409858" author="ebourg" created="Thu, 21 Jul 2005 22:46:43 +0000"  >&lt;p&gt;That&apos;s not how I initially designed the FileConfiguration, the idea was to&lt;br/&gt;
attach the configuration to the file only by using the constructors or calling&lt;br/&gt;
setFile/setFilename. The load/save methods were not supposed to change the file&lt;br/&gt;
of the configuration, my bad for not writing a test covering this case.&lt;/p&gt;</comment>
                            <comment id="12409859" author="oliver.heger@t-online.de" created="Fri, 22 Jul 2005 00:25:59 +0000"  >&lt;p&gt;If this is the desired behavior, it should not be a problem to achieve it.&lt;/p&gt;

&lt;p&gt;That the file name won&apos;t be changed is documented for the save() methods, but&lt;br/&gt;
not for the load() methods, so there is room for confusion. The user who&lt;br/&gt;
initiated this request was obviously on the opinion that after a load the file&lt;br/&gt;
name would be available. For me this would make sense, too.&lt;/p&gt;

&lt;p&gt;Could you please in short explain your motivation why the load() methods should&lt;br/&gt;
not change the file name?&lt;/p&gt;

&lt;p&gt;The only incosistency I can see ATM is that load() can be called multiple times&lt;br/&gt;
constructing a union configuration. Then the first call would determine the&lt;br/&gt;
stored file name. But IMO that&apos;s not too bad.&lt;/p&gt;</comment>
                            <comment id="12409860" author="oliver.heger@t-online.de" created="Fri, 22 Jul 2005 18:27:21 +0000"  >&lt;p&gt;I committed a fix, which avoids the NPE. getFile() will return null as long as&lt;br/&gt;
no file has been set using one of the setter methods, even when a file has been&lt;br/&gt;
loaded. So this is inline to comment #1.&lt;/p&gt;</comment>
                            <comment id="12409861" author="ebourg" created="Sat, 23 Jul 2005 02:12:42 +0000"  >&lt;p&gt;(In reply to comment #4)&lt;br/&gt;
&amp;gt; Could you please in short explain your motivation why the load() methods should&lt;br/&gt;
&amp;gt; not change the file name?&lt;/p&gt;

&lt;p&gt;The motivation was to remain symmetric with the semantic of save(), and saving&lt;br/&gt;
without changing the file was a requirement to copy easily a configuration. I&lt;br/&gt;
believe it&apos;s also important to have basic methods with the simplest semantic&lt;br/&gt;
possible, that&apos;s why it just loads from the source, and not load and set the&lt;br/&gt;
reference to the source. This gives a greater flexibility for composing the&lt;br/&gt;
methods and achieving a more complex behaviour.&lt;/p&gt;

&lt;p&gt;Thank you for the fix Oliver.&lt;/p&gt;</comment>
                            <comment id="12409862" author="oliver.heger@t-online.de" created="Tue, 26 Jul 2005 04:09:09 +0000"  >&lt;p&gt;Accepted. Then I will do the following:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add a note to the javadoc of the load() methods that they do not change the&lt;br/&gt;
file name (analogous to the save() methods).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Update the save(void) method to throw an exception if no file name has been&lt;br/&gt;
set. This behavior should be compatible to the 1.1 release.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add some tests to verify and document this behavior.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;WDYT?&lt;/p&gt;</comment>
                            <comment id="12409863" author="ebourg" created="Tue, 26 Jul 2005 17:17:29 +0000"  >&lt;p&gt;That sounds good&lt;/p&gt;</comment>
                            <comment id="12409864" author="oliver.heger@t-online.de" created="Fri, 29 Jul 2005 23:58:08 +0000"  >&lt;p&gt;Done! So I am closing this issue now.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>35807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Thu, 21 Jul 2005 05:36:15 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110679</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 19 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfpr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169855</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>