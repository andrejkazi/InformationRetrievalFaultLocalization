<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:44:01 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-605/CONFIGURATION-605.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-605] XMLConfiguration drops configuration key immediately following one whose value contains a comma</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-605</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;The following XML document:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;StringBuilder sb = new StringBuilder(&quot;&amp;lt;configuration&amp;gt;&quot;);}}
sb.append(&quot;&amp;lt;test1&amp;gt;a,b,c&amp;lt;/test1&amp;gt;&quot;);
sb.append(&quot;&amp;lt;test2&amp;gt;a&amp;lt;/test2&amp;gt;&quot;);
sb.append(&quot;&amp;lt;test3&amp;gt;&amp;lt;/test3&amp;gt;&quot;);
 sb.append(&quot;&amp;lt;test4&amp;gt;a,b\\,b,c&amp;lt;/test4&amp;gt;&quot;);
sb.append(&quot;&amp;lt;/configuration&amp;gt;&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;when passed into &lt;tt&gt;XMLConfiguration#load(Reader)&lt;/tt&gt; and then to &lt;tt&gt;ConfigurationUtils#toString(Configuration)&lt;/tt&gt;, comes out like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;test1=[a, b, c]
test3=
test4=[a, b,b, c]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;m assuming this is a bug.&lt;/p&gt;

&lt;p&gt;I&apos;ve found two workarounds to this:&lt;/p&gt;

&lt;p&gt; 1. Inserting any character between the &lt;tt&gt;test1&lt;/tt&gt; and &lt;tt&gt;test2&lt;/tt&gt; tags, i.e. &lt;tt&gt;&amp;lt;test1&amp;gt;a,b,c&amp;lt;/test1&amp;gt; &amp;lt;test2&amp;gt;a&amp;lt;/test2&amp;gt;&lt;/tt&gt;&lt;br/&gt;
 2. Calling &lt;tt&gt;setDelimiterParsingDisabled(true)&lt;/tt&gt; on the XMLConfiguration before loading the document&lt;/p&gt;

&lt;p&gt;For reproduction with a minimal example and some additional test cases, see &lt;a href=&quot;https://github.com/emlun/commons-xmlconfiguration-ignored-key/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;this GitHub repo&lt;/a&gt;. I also posted this as &lt;a href=&quot;https://stackoverflow.com/questions/31516549&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;a question on Stack Overflow&lt;/a&gt; before posting here.&lt;/p&gt;</description>
                <environment>&lt;p&gt;$ uname -a&lt;br/&gt;
Linux 4.1.2-2-ARCH #1 SMP PREEMPT Wed Jul 15 08:30:32 UTC 2015 x86_64 GNU/Linux&lt;/p&gt;

&lt;p&gt;$ java -version&lt;br/&gt;
openjdk version &quot;1.8.0_45&quot;&lt;br/&gt;
OpenJDK Runtime Environment (build 1.8.0_45-b14)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 25.45-b02, mixed mode)&lt;/p&gt;</environment>
        <key id="12846267">CONFIGURATION-605</key>
            <summary>XMLConfiguration drops configuration key immediately following one whose value contains a comma</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="emlun">Emil Lundberg</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Jul 2015 13:02:37 +0000</created>
                <updated>Thu, 24 Mar 2016 20:21:00 +0000</updated>
                            <resolved>Mon, 3 Aug 2015 19:49:11 +0000</resolved>
                                    <version>1.3</version>
                    <version>1.4</version>
                    <version>1.5</version>
                    <version>1.6</version>
                    <version>1.7</version>
                    <version>1.8</version>
                    <version>1.9</version>
                    <version>1.10</version>
                                    <fixVersion>2.0</fixVersion>
                                    <component>Format</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14635695" author="oliver.heger@t-online.de" created="Tue, 21 Jul 2015 19:43:03 +0000"  >&lt;p&gt;Thanks for the report. I will have a look (in a couple of days).&lt;/p&gt;

&lt;p&gt;To make sure: The key is not really gone, i.e. it can be accessed via getProperty()? It is just dropped by the toString() method?&lt;/p&gt;

&lt;p&gt;One other remark: In the upcoming version 2.0 of Commons Configuration the list delimiter parsing has been reworked. So it may well be possible that this version behaves differently.&lt;/p&gt;</comment>
                            <comment id="14637006" author="emlun" created="Wed, 22 Jul 2015 14:26:55 +0000"  >&lt;p&gt;Yes, the key is really gone - I discovered this issue because my tests were failing with NullPointerExceptions. The linked GitHub repo contains some JUnit tests that expose the problem by checking &lt;tt&gt;Configuration.containsKey(String)&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14641754" author="oliver.heger@t-online.de" created="Sat, 25 Jul 2015 18:59:31 +0000"  >&lt;p&gt;With the help of your test project (thanks again very much) I was able to figure out what is going wrong: The problem was in the &lt;tt&gt;handleDelimiters()&lt;/tt&gt; method of &lt;tt&gt;XMLConfiguration&lt;/tt&gt;. Here nodes with multiple values are handled in a special way. The node with the first value is removed from the parent node, then for each value a new node is added. Removing of the first node caused the bug because this operation also affected the DOM currently processed.&lt;/p&gt;

&lt;p&gt;In Configuration 2.0 the code has been reworked. List delimiter parsing and management of references to DOM elements are now handled in a different way. I adapted your unit test for the new version and committed it. It runs successfully showing that the issue does no longer exist. So can we mark this issue as resolved in version 2.0?&lt;/p&gt;</comment>
                            <comment id="14642440" author="emlun" created="Mon, 27 Jul 2015 08:32:14 +0000"  >&lt;p&gt;Good to hear, thanks! I haven&apos;t tested with version 2.0 since I&apos;m doing this at work and 2.0 is still in alpha. If you judge it&apos;s resolved I&apos;ll take your word for it, so do go ahead and mark it as resolved in 2.0.&lt;/p&gt;</comment>
                            <comment id="14652364" author="oliver.heger@t-online.de" created="Mon, 3 Aug 2015 19:49:11 +0000"  >&lt;p&gt;A unit test has been committed demonstrating that the problem no longer exists in version 2.0.&lt;/p&gt;</comment>
                            <comment id="14653497" author="emlun" created="Tue, 4 Aug 2015 11:50:10 +0000"  >&lt;p&gt;Great! If nobody objects, I&apos;ll feel free to delete the demo repository from GitHub starting 2015-08-11.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Tue, 21 Jul 2015 19:43:03 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2hg7r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>