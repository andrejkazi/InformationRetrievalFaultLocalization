<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:39:09 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-504/CONFIGURATION-504.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-504] HierarchicalConfiguration clear() method doesn&apos;t remove the node from its parent anymore in XML source</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-504</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;Using an XML source file, I used to call HierarchicalConfiguration.clear() on an object to remove it from its parent. Now, it just clear the text and the subnodes, but not the node itself, nor its own attribute, when the file is saved.&lt;br/&gt;
Here is the code that works :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ConfigurationNode oldNode = configuration.getRootNode();
oldNode.getParentNode().removeChild(oldNode);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;configuration belong to a list of HierarchicalConfiguration that I obtained from configurationsAt. I didn&apos;t see any other way to remove a node I got from that method, without explicit casting to SubnodeConfiguration.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12604223">CONFIGURATION-504</key>
            <summary>HierarchicalConfiguration clear() method doesn&apos;t remove the node from its parent anymore in XML source</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oliver.heger@t-online.de">Oliver Heger</assignee>
                                    <reporter username="adrien.clerc">Adrien CLERC</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Aug 2012 14:18:46 +0000</created>
                <updated>Thu, 24 Mar 2016 20:20:57 +0000</updated>
                            <resolved>Fri, 21 Sep 2012 19:13:10 +0000</resolved>
                                    <version>1.8</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="13439779" author="oliver.heger@t-online.de" created="Wed, 22 Aug 2012 19:24:22 +0000"  >&lt;p&gt;Just to make sure I understand your problem correctly: You have a hierarchical configuration and call &lt;tt&gt;configurationAt(key)&lt;/tt&gt; with some key to obtain a sub configuration. Then on this sub configuration you invoke &lt;tt&gt;clear()&lt;/tt&gt;. Now your expected result is that the whole node with the given key is removed from the original hierarchical configuration, right?&lt;/p&gt;</comment>
                            <comment id="13440082" author="adrien.clerc" created="Thu, 23 Aug 2012 06:31:29 +0000"  >&lt;p&gt;It&apos;s quite like this. In fact, I call &lt;tt&gt;configurationsAt(key)&lt;/tt&gt;, so I get a &lt;tt&gt;List&amp;lt;HierarchicalConfiguration&amp;gt;&lt;/tt&gt; (whose elements are in fact &lt;tt&gt;SubnodeConfiguration&lt;/tt&gt;, but I can&apos;t rely on that).&lt;br/&gt;
I then iterate on each element to perform some attribute manipulations, and on some elements of that list, I&apos;d like to remove them completely from the complete configuration.&lt;/p&gt;

&lt;p&gt;I used to call &lt;tt&gt;clear()&lt;/tt&gt; for that, but it seems that the behavior has changed since 1.8.&lt;/p&gt;

&lt;p&gt;I hope I&apos;m clearer now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13450008" author="oliver.heger@t-online.de" created="Thu, 6 Sep 2012 20:14:11 +0000"  >&lt;p&gt;Hm, I am not sure which change in 1.8 could be responsible that the &lt;tt&gt;clear()&lt;/tt&gt; method now behaves differently.&lt;/p&gt;

&lt;p&gt;It would be possible to change &lt;tt&gt;SubnodeConfiguration&lt;/tt&gt; so that its &lt;tt&gt;clear()&lt;/tt&gt; method clears the parent node in the parent configuration. Then the subnode configuration is actually detached. I just wonder what should happen if you later add new properties to the subnode configuration. They would then no longer be added to the parent configuration.&lt;/p&gt;

&lt;p&gt;Do you know what the behavior was in this case in version 1.7?&lt;/p&gt;</comment>
                            <comment id="13451859" author="adrien.clerc" created="Mon, 10 Sep 2012 10:02:26 +0000"  >&lt;p&gt;This is indeed a good question. Since I was only destroying nodes, I didn&apos;t test this behavior in 1.7, if you add new properties in a detached &lt;tt&gt;SubnodeConfiguration&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;However, I think that&apos;s it&apos;s up to the developer to know (or to test) if the current node is actually detached or not. If you add properties inside the subnode after it has been detached, then nothing should happened inside the main configuration.&lt;/p&gt;</comment>
                            <comment id="13456054" author="oliver.heger@t-online.de" created="Fri, 14 Sep 2012 19:24:43 +0000"  >&lt;p&gt;This is really a hard one. I don&apos;t know what would be the best solution. No matter how it is implemented, one use case - either clearing or adding properties - seems to be broken.&lt;/p&gt;

&lt;p&gt;I also spotted that &lt;tt&gt;SubnodeConfiguration&lt;/tt&gt; has some threading issues. Maybe we have to rework it in version 2.0.&lt;/p&gt;</comment>
                            <comment id="13456853" author="adrien.clerc" created="Mon, 17 Sep 2012 07:22:48 +0000"  >&lt;p&gt;Maybe the &lt;tt&gt;clear()&lt;/tt&gt; method should stay as it is now, with an explicit mention on its exact behavior in the documentation.&lt;br/&gt;
For the old behavior, it should be better to create a &lt;tt&gt;remove()&lt;/tt&gt; or &lt;tt&gt;removeFromParent()&lt;/tt&gt; method that will be more explicit on its purpose.&lt;/p&gt;

&lt;p&gt;What do you think of this?&lt;/p&gt;</comment>
                            <comment id="13458083" author="oliver.heger@t-online.de" created="Tue, 18 Sep 2012 19:49:18 +0000"  >&lt;p&gt;I agree, this sounds like a good compromise. I guess we will then have to change the &lt;tt&gt;configurationAt()&lt;/tt&gt; and &lt;tt&gt;configurationsAt()&lt;/tt&gt; methods to return &lt;tt&gt;SubnodeConfiguration&lt;/tt&gt; objects rather than &lt;tt&gt;HierarchicalConfiguration&lt;/tt&gt; so that you do not have to do a manual cast. But this should not be a problem.&lt;/p&gt;</comment>
                            <comment id="13458461" author="adrien.clerc" created="Wed, 19 Sep 2012 06:48:31 +0000"  >&lt;p&gt;That sounds good &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;m happy that this difficult problem will find a solution!&lt;/p&gt;</comment>
                            <comment id="13460728" author="oliver.heger@t-online.de" created="Fri, 21 Sep 2012 19:13:10 +0000"  >&lt;p&gt;A new method &lt;tt&gt;clearAndDetachFromParent()&lt;/tt&gt; was added to &lt;tt&gt;SubnodeConfiguration&lt;/tt&gt;. The return value of &lt;tt&gt;HierarchicalConfiguration.configurationsAt()&lt;/tt&gt; was changed to a List of type &lt;tt&gt;SubnodeConfiguration&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Fixed in subversion in revision 1388626.&lt;/p&gt;</comment>
                            <comment id="13461636" author="adrien.clerc" created="Mon, 24 Sep 2012 07:10:13 +0000"  >&lt;p&gt;Many thanks for that!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 22 Aug 2012 19:24:22 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>244853</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05u9z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32002</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>