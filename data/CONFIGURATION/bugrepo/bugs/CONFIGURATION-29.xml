<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:53:16 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-29/CONFIGURATION-29.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-29] [configuration] SubsetConfiguration.getKeys() always appends &quot;.&quot; delimiter to prefix</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-29</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When creating a SubsetConfiguration object, e.g.&lt;/p&gt;

&lt;p&gt;conf = new SubsetConfiguration(parentConf, &quot;myprefixwithadot.&quot;);&lt;/p&gt;

&lt;p&gt;calls to conf.getProperty(&quot;prop&quot;) result in a call to&lt;br/&gt;
parent.conf(conf.getPrefix() + &quot;prop&quot;) as expected.&lt;/p&gt;

&lt;p&gt;However, a key iterator obtained by calling conf.getKeys() will only iterate&lt;br/&gt;
over keys starting with (conf.getPrefix() + &quot;.&quot;). In the example, this will be&lt;br/&gt;
&quot;myprefixwithadot..&quot;. There should not be a dot appended. &lt;/p&gt;

&lt;p&gt;The error is probably caused by line #283 in AbstractConfiguration.java&lt;/p&gt;

&lt;p&gt;return key.startsWith(prefix + &quot;.&quot;) || key.equals(prefix);&lt;/p&gt;</description>
                <environment>&lt;p&gt;Operating System: All&lt;br/&gt;
Platform: All&lt;/p&gt;</environment>
        <key id="12342072">CONFIGURATION-29</key>
            <summary>[configuration] SubsetConfiguration.getKeys() always appends &quot;.&quot; delimiter to prefix</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="timothomas@web.de">Timo Thomas</reporter>
                        <labels>
                    </labels>
                <created>Wed, 23 Feb 2005 00:14:53 +0000</created>
                <updated>Tue, 16 May 2006 11:23:49 +0000</updated>
                            <resolved>Tue, 16 May 2006 11:23:49 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12408768" author="joerg.schaible@gmx.de" created="Wed, 23 Feb 2005 00:19:07 +0000"  >&lt;p&gt;This is how it is supposed to work. Creating a subset always means a subset of a&lt;br/&gt;
(valid) tree.&lt;/p&gt;</comment>
                            <comment id="12408769" author="oliver.heger@t-online.de" created="Wed, 23 Feb 2005 00:40:04 +0000"  >&lt;p&gt;Timo,&lt;/p&gt;

&lt;p&gt;what you have spotted may be a little inconsistency in the collaboration of&lt;br/&gt;
SubsetConfiguration and its parent configuration, but I don&apos;t think it is critical.&lt;/p&gt;

&lt;p&gt;Why do you create your subset configuration by hand? You should rather use the&lt;br/&gt;
subset() method of the Configuration interface for this purpose. This method&lt;br/&gt;
correctly sets the delimiter. The key you pass into subset() should not end with&lt;br/&gt;
a dot. Then everything should work as expected.&lt;/p&gt;</comment>
                            <comment id="12408770" author="ebourg" created="Wed, 23 Feb 2005 00:40:21 +0000"  >&lt;p&gt;On the other hand we might remove any trailing dot in the prefix. &lt;/p&gt;

&lt;p&gt;Why do you need a prefix ending with a dot ? Couldn&apos;t you simply use&lt;/p&gt;

&lt;p&gt;conf = new SubsetConfiguration(parentConf, &quot;prefix&quot;);&lt;/p&gt;

&lt;p&gt;instead of&lt;/p&gt;

&lt;p&gt;conf = new SubsetConfiguration(parentConf, &quot;prefix.&quot;);&lt;/p&gt;

&lt;p&gt;?&lt;/p&gt;</comment>
                            <comment id="12408771" author="timothomas@web.de" created="Wed, 23 Feb 2005 01:26:02 +0000"  >&lt;p&gt;You are right. I can use subset(&quot;prefix&quot;) and it automatically appends a dot.&lt;br/&gt;
Creating a subset that way getKeys() works as expected. I didn&apos;t see the&lt;br/&gt;
subset() method at first and was misguided by the constructor&lt;/p&gt;

&lt;p&gt;SubsetConfiguration(Configuration parent, java.lang.String prefix,&lt;br/&gt;
java.lang.String delimiter)&lt;/p&gt;

&lt;p&gt;which made me believe there is no default delimiter.&lt;/p&gt;

&lt;p&gt;Thanks for the fast reply.&lt;/p&gt;</comment>
                            <comment id="12408772" author="oliver.heger@t-online.de" created="Sun, 6 Mar 2005 02:49:14 +0000"  >&lt;p&gt;I updated the documentation to point out that SubsetConfiguration should not be&lt;br/&gt;
used directly and referred to the subset() method of Configuration. This is&lt;br/&gt;
hopefully enough to avoid wrong usage of this class.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_10010" key="com.atlassian.jira.plugin.system.customfieldtypes:importid">
                        <customfieldname>Bugzilla Id</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33691</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 23 Feb 2005 00:19:07 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>110642</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0tfv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>169879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>