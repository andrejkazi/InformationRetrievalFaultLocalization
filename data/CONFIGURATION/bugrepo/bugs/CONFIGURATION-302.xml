<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:55:36 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-302/CONFIGURATION-302.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-302] FileChangedReloadingStrategy.reloadingRequired() can fail</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-302</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;If reloadingRequired() returns true and you call it again before calling reloadingPerformed(), the 2nd time it can return false (but you have not yet reloaded!) because it doesn&apos;t check the file system again until the refresh delay is expired.&lt;br/&gt;
Of course this is a very unusual test case (usually you reload immediately) but the behaviour of the method should be consistent in this case too: if reloadingRequired() returns true any subsequent call to this method should return true until reloadingPerformed() is called.&lt;/p&gt;

&lt;p&gt;In my project I have fixed the method by promoting the flag called &quot;reloading&quot; to class scope so I that can check whether the previous call returned true or false:&lt;/p&gt;

&lt;p&gt;protected boolean reloading = false;&lt;br/&gt;
public boolean reloadingRequired()&lt;br/&gt;
{&lt;br/&gt;
	if (!reloading)&lt;br/&gt;
	{&lt;br/&gt;
		long now = System.currentTimeMillis();&lt;br/&gt;
		if (now &amp;gt; lastChecked + refreshDelay)&lt;br/&gt;
		{&lt;br/&gt;
			lastChecked = now;&lt;br/&gt;
			if (hasChanged())&lt;/p&gt;
			{
				reloading = true;
			}
&lt;p&gt;		}&lt;br/&gt;
	}&lt;br/&gt;
	return reloading;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;Of course I reset this flag in init() and reloadingPerformed().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12384648">CONFIGURATION-302</key>
            <summary>FileChangedReloadingStrategy.reloadingRequired() can fail</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.png">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oliver.heger@t-online.de">Oliver Heger</assignee>
                                    <reporter username="pnavato">Pino Navato</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Dec 2007 12:37:52 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:51 +0000</updated>
                            <resolved>Tue, 25 Dec 2007 19:06:52 +0000</resolved>
                                    <version>1.5</version>
                                    <fixVersion>1.6</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12551926" author="oliver.heger@t-online.de" created="Fri, 14 Dec 2007 20:13:50 +0000"  >&lt;p&gt;You are probably right. The behavior you describe seems to be more consistent. So I am +1 for applying this change.&lt;/p&gt;

&lt;p&gt;But hey, if we now receive bug reports of this quality, this means that our code base has become pretty stable &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.gif&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12554352" author="oliver.heger@t-online.de" created="Tue, 25 Dec 2007 19:06:52 +0000"  >&lt;p&gt;A fix has been applied. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Fri, 14 Dec 2007 20:13:50 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33870</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0upzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177350</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>