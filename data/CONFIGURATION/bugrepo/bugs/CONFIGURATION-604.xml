<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:43:55 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-604/CONFIGURATION-604.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-604] combining properties which use 3+ part names discards entries as of Commons 1.6+</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-604</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When two property files are combined using commons config 1.5, the aggregate configuration returns an expected result of 6 entries. If Commons configuration 1.6 or higher is used, the resulting set drops to  which is not expected. &lt;/p&gt;

&lt;p&gt;The property names include 2, 3 or 4 part names X.Y, X.Y.Z etc and it appears that as of 1.6 if the names are arranged in 2 part, then 3 part etc that the combiner returns the expected result.&lt;/p&gt;

&lt;p&gt;There does not appear to be any release notes etc that would suggest  that this isn&apos;t a defect versus an intended implementation change.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12842615">CONFIGURATION-604</key>
            <summary>combining properties which use 3+ part names discards entries as of Commons 1.6+</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="the6campbells">N Campbell</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jul 2015 18:47:00 +0000</created>
                <updated>Thu, 24 Mar 2016 20:20:55 +0000</updated>
                            <resolved>Mon, 13 Jul 2015 20:22:59 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                <comments>
                            <comment id="14613397" author="the6campbells" created="Fri, 3 Jul 2015 18:48:05 +0000"  >&lt;p&gt;Simple source&lt;/p&gt;


&lt;p&gt;import java.util.Iterator;&lt;/p&gt;

&lt;p&gt;import org.apache.commons.configuration.CombinedConfiguration;&lt;br/&gt;
import org.apache.commons.configuration.ConfigurationException;&lt;br/&gt;
import org.apache.commons.configuration.PropertiesConfiguration;&lt;br/&gt;
import org.apache.commons.configuration.tree.NodeCombiner;&lt;br/&gt;
import org.apache.commons.configuration.tree.OverrideCombiner;&lt;/p&gt;

&lt;p&gt;public class CommonsIssue {	&lt;br/&gt;
	public static String propFile1 = &quot;c:\\temp&lt;br class=&quot;atl-forced-newline&quot; /&gt;A.properties&quot;;&lt;br/&gt;
	public static String propFile2 = &quot;c:\\temp&lt;br class=&quot;atl-forced-newline&quot; /&gt;B.properties&quot;;&lt;/p&gt;

&lt;p&gt;	public static void main( String[] args ) throws ConfigurationException &lt;/p&gt;
{
		testCombindedConfig();	 		
	}

&lt;p&gt;	public static void testCombindedConfig() throws ConfigurationException {&lt;br/&gt;
		NodeCombiner combiner = new OverrideCombiner();&lt;br/&gt;
		CombinedConfiguration combinedConfig = new CombinedConfiguration(combiner);		&lt;/p&gt;

&lt;p&gt;		PropertiesConfiguration conf1 = new PropertiesConfiguration();&lt;br/&gt;
		conf1.setDelimiterParsingDisabled(true);&lt;br/&gt;
		conf1.setThrowExceptionOnMissing(true);			&lt;br/&gt;
		conf1.load(propFile1);&lt;/p&gt;

&lt;p&gt;		combinedConfig.addConfiguration(conf1);		&lt;/p&gt;

&lt;p&gt;		PropertiesConfiguration conf2 = new PropertiesConfiguration();&lt;br/&gt;
		conf2.setDelimiterParsingDisabled(true);&lt;br/&gt;
		conf2.setThrowExceptionOnMissing(true);&lt;/p&gt;

&lt;p&gt;		conf2.load(propFile2);&lt;br/&gt;
		combinedConfig.addConfiguration(conf2);&lt;/p&gt;

&lt;p&gt;		@SuppressWarnings(&quot;unchecked&quot;)&lt;br/&gt;
		Iterator&amp;lt;String&amp;gt; keys = combinedConfig.getKeys();&lt;/p&gt;

&lt;p&gt;		while (keys.hasNext()) &lt;/p&gt;
{
			String key = keys.next();
			System.out.println(key + &quot;=&quot; + combinedConfig.getString(key));

		}
&lt;p&gt;		&lt;br/&gt;
	}&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;A.properties&lt;br/&gt;
x.y.simpleCase=false&lt;br/&gt;
x.y.between=false&lt;br/&gt;
x.y.isDistinctFrom=false&lt;br/&gt;
x.y=true&lt;/p&gt;

&lt;p&gt;B.properties&lt;br/&gt;
x.y=true&lt;br/&gt;
x.y.between=true&lt;br/&gt;
x.y.comparison=true&lt;br/&gt;
x.y.in=true&lt;br/&gt;
x.y.isDistinctFrom=true&lt;br/&gt;
x.y.simpleCase=true&lt;/p&gt;


</comment>
                            <comment id="14614033" author="oliver.heger@t-online.de" created="Sat, 4 Jul 2015 20:03:23 +0000"  >&lt;p&gt;This seems to be a pretty old change since version 1.6 was released years ago.&lt;/p&gt;

&lt;p&gt;To make sure I fully understand the problem, could you please specify exactly the expected result and the actual result? (Or even better: could you transform your demo code fragment to a unit test?)&lt;/p&gt;</comment>
                            <comment id="14614045" author="the6campbells" created="Sat, 4 Jul 2015 20:25:33 +0000"  >&lt;p&gt;Expected answer is 6 as returned when using 1.5&lt;/p&gt;

&lt;p&gt;x.y=true&lt;br/&gt;
x.y.simpleCase=false&lt;br/&gt;
x.y.between=false&lt;br/&gt;
x.y.isDistinctFrom=false&lt;br/&gt;
x.y.comparison=true&lt;br/&gt;
x.y.in=true&lt;/p&gt;

&lt;p&gt;Switch to 1.6+ and you get 4&lt;/p&gt;

&lt;p&gt;x.y.simpleCase=false&lt;br/&gt;
x.y.between=false&lt;br/&gt;
x.y.isDistinctFrom=false&lt;br/&gt;
x.y=true&lt;/p&gt;


&lt;p&gt;Stay with 1.6 and re-order the 2-part entry in A.properties so it appears before 3 part names (x.y=true) and you get 6 again&lt;/p&gt;

&lt;p&gt;x.y=true&lt;br/&gt;
x.y.simpleCase=false&lt;br/&gt;
x.y.between=false&lt;br/&gt;
x.y.isDistinctFrom=false&lt;br/&gt;
x.y.comparison=true&lt;br/&gt;
x.y.in=true&lt;/p&gt;



</comment>
                            <comment id="14625273" author="oliver.heger@t-online.de" created="Mon, 13 Jul 2015 20:22:59 +0000"  >&lt;p&gt;A fix was committed in revision 1690812. The problem was in the construction of a hierarical configuration from a flat one; the algorithm could indeed produce different results based on the order of the keys in the source configuration.&lt;/p&gt;

&lt;p&gt;I did not look into the old sources for Configuration 1.5 to find out by which change the problem was introduced. The fix should make the resulting hierarchical configuration more independent on the order of property keys.&lt;/p&gt;

&lt;p&gt;Many thanks for spotting this!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Sat, 4 Jul 2015 20:03:23 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 20 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gub3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>