<!-- 
RSS generated by JIRA (6.3.4#6332-sha1:51bc225ef474afe3128b2f66878477f322397b16) at Thu Dec 01 19:44:23 UTC 2016

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://issues.apache.org/jira/si/jira.issueviews:issue-xml/CONFIGURATION-285/CONFIGURATION-285.xml?field=key&amp;field=summary
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>6.3.4</version>
        <build-number>6332</build-number>
        <build-date>15-08-2014</build-date>
    </build-info>

<item>
            <title>[CONFIGURATION-285] &lt;configuration fileName=&quot;local-configuration.xml&quot; config-optional=&quot;true&quot; /&gt; does not report parsing errors in local-configuration.xml</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-285</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;I&apos;m trying to build a configuration system to be shared between our Java applications.  I therefore want to have optional configurations included from the main configuration file read by DefaultConfigurationBuilder&lt;/p&gt;

&lt;p&gt;&amp;lt;configuration fileName=&quot;local-configuration.xml&quot; config-optional=&quot;true&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;I have found that if the sub-configuration file is invalid the error is silently ignored.  The same without config-options=&quot;true&quot; results in a ConfigurationException to be thrown (which wraps a ConfigurationRuntimeException which wraps the ConfigurationException which wraps the SAXException).&lt;/p&gt;

&lt;p&gt;I believe that the behaviour is incorrect.  The sub-configuration file should be skipped if not found, but any errors found when parsing the existing file should be logged.&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12373504">CONFIGURATION-285</key>
            <summary>&lt;configuration fileName=&quot;local-configuration.xml&quot; config-optional=&quot;true&quot; /&gt; does not report parsing errors in local-configuration.xml</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/images/icons/issuetypes/bug.png">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.png">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oliver.heger@t-online.de">Oliver Heger</assignee>
                                    <reporter username="ravn">Thorbj&#248;rn Ravn Andersen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jul 2007 12:30:33 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:50 +0000</updated>
                            <resolved>Sat, 21 Jul 2007 19:09:43 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                <comments>
                            <comment id="12511852" author="oliver.heger@t-online.de" created="Wed, 11 Jul 2007 20:20:27 +0000"  >&lt;p&gt;Just to make sure I understand your request correctly: If the config-optional attribute is set to true and loading this sub configuration causes an error, the exception should be logged. Other behavior need not be changed, correct?&lt;/p&gt;</comment>
                            <comment id="12514434" author="oliver.heger@t-online.de" created="Sat, 21 Jul 2007 19:09:43 +0000"  >&lt;p&gt;DefaultConfigurationBuilder now fires an error event when loading of an optional configuration source fails.&lt;/p&gt;

&lt;p&gt;If I understand this request correctly, you want to distinguish between cases where an optional configuration cannot be found and where it is present, but loading it causes an error. However this is not possible: &quot;Being present&quot; is specific for file-based configurations, but an optional configuration could be anything, e.g. a JNDI or database configuration. How could we decide, based on the thrown exceptions, whether the current problem was caused by a non-available configuration source or by a source that is available, but cannot be accessed because of an internal error?&lt;/p&gt;

&lt;p&gt;With the error listener mechanism you can hook into the process of loading the declared configuration sources. If an error occurs, you are notified and can make this decision yourself based on any criteria suitable for your concrete application and use case.&lt;/p&gt;</comment>
                            <comment id="12514493" author="ravn" created="Sun, 22 Jul 2007 18:23:21 +0000"  >&lt;p&gt;Thank you for adding this extension.&lt;/p&gt;

&lt;p&gt;I still believe that invalid subconfigurations should be treated differently from optional, non-existant subconfigurations regardless of the invalidation cause, and that the silent ignoring should be a switch that needs to be set, similarly to the config-optional attribute.   I.e. if an optional subconfiguration is invalid, a configuration exception should be thrown.&lt;/p&gt;

&lt;p&gt;I&apos;d prefer not to use CVS-snapshots in production code - do you have a rough estimate of when 1.5 will be released?&lt;/p&gt;</comment>
                            <comment id="12514507" author="oliver.heger@t-online.de" created="Sun, 22 Jul 2007 20:27:44 +0000"  >&lt;p&gt;I follow your argumentation in principle, but I don&apos;t see an easy (and generic) way to find out when a subconfiguration is invalid. So the idea with the event listener approach is to provide a way for implementing this decision yourself.&lt;/p&gt;

&lt;p&gt;ATM there are no concrete plans for a 1.5 release yet. There are still some JIRA tickets, which need to be addressed. So, unfortunately,  I really cannot anticipate a release date.&lt;/p&gt;</comment>
                            <comment id="12517915" author="ravn" created="Mon, 6 Aug 2007 12:38:58 +0000"  >&lt;p&gt;I have now tried running this with the trunk code, and now an Internal Error is logged for every optional sub-configuration which is not present i.e.&lt;/p&gt;

&lt;p&gt;689 &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; WARN org.apache.commons.configuration.DefaultConfigurationBuilder  - Internal error&lt;br/&gt;
org.apache.commons.configuration.ConfigurationException: Cannot locate configuration source application-ConfigurationLoader.main-configuration-defaults.xml&lt;/p&gt;

&lt;p&gt;which corresponds to &lt;/p&gt;

&lt;p&gt;&amp;lt;configuration&amp;gt;&lt;br/&gt;
...&lt;br/&gt;
	&amp;lt;configuration fileName=&quot;4s-application-$&lt;/p&gt;
{application}
&lt;p&gt;-configuration-defaults.xml&quot; config-optional=&quot;true&quot; /&amp;gt;&lt;br/&gt;
&amp;lt;/configuration&amp;gt;&lt;/p&gt;

&lt;p&gt;in the bootstrap configuration file.&lt;/p&gt;

&lt;p&gt;This apparently is caused by the AbstractConfiguration.addErrorListener() call in the AbstractConfiguration constructor.&lt;/p&gt;

&lt;p&gt;Generally a stacktrace in our log means big trouble, so this behaviour is actually worse than before.   Any suggestions?&lt;/p&gt;</comment>
                            <comment id="12518004" author="oliver.heger@t-online.de" created="Mon, 6 Aug 2007 19:56:58 +0000"  >&lt;p&gt;With clearErrorListeners() you can remove the logging listener. Then you can register your own listener that does whatever you want.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310220" key="com.atlassian.jira.ext.charting:firstresponsedate">
                        <customfieldname>Date of First Response</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>Wed, 11 Jul 2007 20:20:27 +0000</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33876</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 18 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0up6v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177222</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12310222" key="com.atlassian.jira.ext.charting:timeinstatus">
                        <customfieldname>Time in Status</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        </customfields>
    </item>
</channel>
</rss>